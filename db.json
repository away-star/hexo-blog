{"meta":{"version":1,"warehouse":"4.0.2"},"models":{"Asset":[{"_id":"source/images/hello-world-1701430188804.png","path":"images/hello-world-1701430188804.png","modified":0,"renderable":0},{"_id":"themes/anzhiyu/source/favicon.ico","path":"favicon.ico","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/css/index.styl","path":"css/index.styl","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/css/var.styl","path":"css/var.styl","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/img/404.jpg","path":"img/404.jpg","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/img/512.png","path":"img/512.png","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/img/add-to-list.svg","path":"img/add-to-list.svg","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/img/algolia.svg","path":"img/algolia.svg","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/img/aperture.svg","path":"img/aperture.svg","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/img/comment_bg.png","path":"img/comment_bg.png","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/img/default_cover.jpg","path":"img/default_cover.jpg","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/img/favicon.ico","path":"img/favicon.ico","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/img/friend_404.gif","path":"img/friend_404.gif","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/img/loading.gif","path":"img/loading.gif","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/img/touxiang.png","path":"img/touxiang.png","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/img/weixin.png","path":"img/weixin.png","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/img/zhifubao.jpg","path":"img/zhifubao.jpg","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/js/main.js","path":"js/main.js","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/js/tw_cn.js","path":"js/tw_cn.js","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/js/utils.js","path":"js/utils.js","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/img/siteicon/16.png","path":"img/siteicon/16.png","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/img/siteicon/32.png","path":"img/siteicon/32.png","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/js/anzhiyu/ai_abstract.js","path":"js/anzhiyu/ai_abstract.js","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/img/siteicon/apple-icon-180.png","path":"img/siteicon/apple-icon-180.png","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/img/siteicon/manifest-icon-192.maskable.png","path":"img/siteicon/manifest-icon-192.maskable.png","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/img/siteicon/manifest-icon-512.maskable.png","path":"img/siteicon/manifest-icon-512.maskable.png","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/js/anzhiyu/comment_barrage.js","path":"js/anzhiyu/comment_barrage.js","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/js/anzhiyu/people.js","path":"js/anzhiyu/people.js","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/js/anzhiyu/random_friends_post.js","path":"js/anzhiyu/random_friends_post.js","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/js/anzhiyu/right_click_menu.js","path":"js/anzhiyu/right_click_menu.js","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/js/search/algolia.js","path":"js/search/algolia.js","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/js/search/local-search.js","path":"js/search/local-search.js","modified":0,"renderable":1},{"_id":"source/images/hexo-anzhiyu学习-1701497363539.png","path":"images/hexo-anzhiyu学习-1701497363539.png","modified":0,"renderable":0},{"_id":"themes/anzhiyu/source/img/suanfa.png","path":"img/suanfa.png","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/img/github.png","path":"img/github.png","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/img/houduan.png","path":"img/houduan.png","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/img/qianduan.png","path":"img/qianduan.png","modified":0,"renderable":1},{"_id":"source/images/docker常用命令合集-1701679683733.png","path":"images/docker常用命令合集-1701679683733.png","modified":0,"renderable":0},{"_id":"source/images/docker常用命令合集-1701679704149.png","path":"images/docker常用命令合集-1701679704149.png","modified":0,"renderable":0},{"_id":"source/images/docker常用命令合集-1701679717546.png","path":"images/docker常用命令合集-1701679717546.png","modified":0,"renderable":0},{"_id":"source/images/CSS之At-rules-1701680236420.png","path":"images/CSS之At-rules-1701680236420.png","modified":0,"renderable":0},{"_id":"source/images/umi-max的简易数据流方案-1701680121582.png","path":"images/umi-max的简易数据流方案-1701680121582.png","modified":0,"renderable":0},{"_id":"source/images/CSS之At-rules-1701680251744.png","path":"images/CSS之At-rules-1701680251744.png","modified":0,"renderable":0},{"_id":"source/images/CSS之At-rules-1701680245005.png","path":"images/CSS之At-rules-1701680245005.png","modified":0,"renderable":0},{"_id":"source/images/umi-max的简易数据流方案-1701680109557.png","path":"images/umi-max的简易数据流方案-1701680109557.png","modified":0,"renderable":0},{"_id":"source/images/回溯——排列、组合、子集-1701680751840.png","path":"images/回溯——排列、组合、子集-1701680751840.png","modified":0,"renderable":0},{"_id":"source/images/回溯——排列、组合、子集-1701680842452.png","path":"images/回溯——排列、组合、子集-1701680842452.png","modified":0,"renderable":0},{"_id":"source/images/回溯——排列、组合、子集-1701680879514.png","path":"images/回溯——排列、组合、子集-1701680879514.png","modified":0,"renderable":0},{"_id":"source/images/回溯——排列、组合、子集-1701680859373.png","path":"images/回溯——排列、组合、子集-1701680859373.png","modified":0,"renderable":0},{"_id":"source/images/回溯——排列、组合、子集-1701680799652.png","path":"images/回溯——排列、组合、子集-1701680799652.png","modified":0,"renderable":0},{"_id":"source/images/回溯——排列、组合、子集-1701680821919.png","path":"images/回溯——排列、组合、子集-1701680821919.png","modified":0,"renderable":0},{"_id":"source/images/回溯——排列、组合、子集-1701680779347.png","path":"images/回溯——排列、组合、子集-1701680779347.png","modified":0,"renderable":0},{"_id":"source/images/回溯——flood-fill、字符串-1701680995740.png","path":"images/回溯——flood-fill、字符串-1701680995740.png","modified":0,"renderable":0},{"_id":"source/images/回溯——flood-fill、字符串-1701681216686.png","path":"images/回溯——flood-fill、字符串-1701681216686.png","modified":0,"renderable":0},{"_id":"source/images/回溯——flood-fill、字符串-1701681234910.png","path":"images/回溯——flood-fill、字符串-1701681234910.png","modified":0,"renderable":0},{"_id":"source/images/回溯——flood-fill、字符串-1701681338321.png","path":"images/回溯——flood-fill、字符串-1701681338321.png","modified":0,"renderable":0},{"_id":"source/images/回溯——flood-fill、字符串-1701681257321.png","path":"images/回溯——flood-fill、字符串-1701681257321.png","modified":0,"renderable":0},{"_id":"source/images/回溯——flood-fill、字符串-1701681356056.png","path":"images/回溯——flood-fill、字符串-1701681356056.png","modified":0,"renderable":0},{"_id":"source/images/回溯——flood-fill、字符串-1701681296977.png","path":"images/回溯——flood-fill、字符串-1701681296977.png","modified":0,"renderable":0},{"_id":"source/images/回溯——flood-fill、字符串-1701681314905.png","path":"images/回溯——flood-fill、字符串-1701681314905.png","modified":0,"renderable":0},{"_id":"source/images/回溯——flood-fill、字符串-1701681281060.png","path":"images/回溯——flood-fill、字符串-1701681281060.png","modified":0,"renderable":0},{"_id":"source/images/mysql小记-1701744061305.png","path":"images/mysql小记-1701744061305.png","modified":0,"renderable":0},{"_id":"source/images/mysql小记-1701744069648.png","path":"images/mysql小记-1701744069648.png","modified":0,"renderable":0},{"_id":"source/images/mysql小记-1701744076874.png","path":"images/mysql小记-1701744076874.png","modified":0,"renderable":0},{"_id":"source/images/mysql小记-1701744087281.png","path":"images/mysql小记-1701744087281.png","modified":0,"renderable":0},{"_id":"source/images/mysql小记-1701744094831.png","path":"images/mysql小记-1701744094831.png","modified":0,"renderable":0},{"_id":"source/images/mysql小记-1701744109641.png","path":"images/mysql小记-1701744109641.png","modified":0,"renderable":0},{"_id":"source/images/mysql小记-1701744101965.png","path":"images/mysql小记-1701744101965.png","modified":0,"renderable":0},{"_id":"source/images/mysql小记-1701744125502.png","path":"images/mysql小记-1701744125502.png","modified":0,"renderable":0},{"_id":"source/images/mysql小记-1701744118087.png","path":"images/mysql小记-1701744118087.png","modified":0,"renderable":0},{"_id":"source/images/mysql小记-1701744138342.png","path":"images/mysql小记-1701744138342.png","modified":0,"renderable":0},{"_id":"source/images/mysql小记-1701744131762.png","path":"images/mysql小记-1701744131762.png","modified":0,"renderable":0},{"_id":"source/images/mysql小记-1701744145264.png","path":"images/mysql小记-1701744145264.png","modified":0,"renderable":0},{"_id":"source/images/mysql小记-1701744154056.png","path":"images/mysql小记-1701744154056.png","modified":0,"renderable":0},{"_id":"source/images/mysql小记-1701744163753.png","path":"images/mysql小记-1701744163753.png","modified":0,"renderable":0},{"_id":"source/images/next-js实战-1701744267906.png","path":"images/next-js实战-1701744267906.png","modified":0,"renderable":0},{"_id":"source/images/next-js实战-1701744261397.png","path":"images/next-js实战-1701744261397.png","modified":0,"renderable":0},{"_id":"themes/anzhiyu/source/img/yunyuansheng.png","path":"img/yunyuansheng.png","modified":0,"renderable":1},{"_id":"source/images/http请求内容详解-1701757597107.png","path":"images/http请求内容详解-1701757597107.png","modified":0,"renderable":0},{"_id":"source/images/http请求内容详解-1701757614367.png","path":"images/http请求内容详解-1701757614367.png","modified":0,"renderable":0},{"_id":"source/images/http请求内容详解-1701757620332.png","path":"images/http请求内容详解-1701757620332.png","modified":0,"renderable":0},{"_id":"source/images/http请求内容详解-1701757625731.png","path":"images/http请求内容详解-1701757625731.png","modified":0,"renderable":0},{"_id":"source/images/http请求内容详解-1701757634525.png","path":"images/http请求内容详解-1701757634525.png","modified":0,"renderable":0},{"_id":"source/images/react-markdown踩坑实记-1701757666333.png","path":"images/react-markdown踩坑实记-1701757666333.png","modified":0,"renderable":0},{"_id":"source/images/react-markdown踩坑实记-1701757671966.png","path":"images/react-markdown踩坑实记-1701757671966.png","modified":0,"renderable":0},{"_id":"source/images/springcloud-gateway初体验-1701757439810.png","path":"images/springcloud-gateway初体验-1701757439810.png","modified":0,"renderable":0},{"_id":"source/images/springcloud-gateway初体验-1701757449291.png","path":"images/springcloud-gateway初体验-1701757449291.png","modified":0,"renderable":0},{"_id":"source/images/springcloud-gateway初体验-1701757454579.png","path":"images/springcloud-gateway初体验-1701757454579.png","modified":0,"renderable":0},{"_id":"source/images/springcloud-gateway初体验-1701757469772.png","path":"images/springcloud-gateway初体验-1701757469772.png","modified":0,"renderable":0},{"_id":"source/images/springcloud-gateway初体验-1701757498800.png","path":"images/springcloud-gateway初体验-1701757498800.png","modified":0,"renderable":0},{"_id":"source/images/springcloud-gateway初体验-1701757506021.png","path":"images/springcloud-gateway初体验-1701757506021.png","modified":0,"renderable":0},{"_id":"source/images/springcloud-gateway初体验-1701757512055.png","path":"images/springcloud-gateway初体验-1701757512055.png","modified":0,"renderable":0},{"_id":"source/images/springcloud-gateway初体验-1701757517086.png","path":"images/springcloud-gateway初体验-1701757517086.png","modified":0,"renderable":0},{"_id":"source/images/springcloud-gateway初体验-1701757523867.png","path":"images/springcloud-gateway初体验-1701757523867.png","modified":0,"renderable":0},{"_id":"source/images/名片创作-1701757102187.png","path":"images/名片创作-1701757102187.png","modified":0,"renderable":0},{"_id":"source/images/名片创作-1701757096669.png","path":"images/名片创作-1701757096669.png","modified":0,"renderable":0},{"_id":"source/images/名片创作-1701757118115.png","path":"images/名片创作-1701757118115.png","modified":0,"renderable":0},{"_id":"source/images/名片创作-1701757110488.png","path":"images/名片创作-1701757110488.png","modified":0,"renderable":0},{"_id":"source/images/名片创作-1701757127095.png","path":"images/名片创作-1701757127095.png","modified":0,"renderable":0},{"_id":"source/images/名片创作-1701757134734.png","path":"images/名片创作-1701757134734.png","modified":0,"renderable":0},{"_id":"source/images/名片创作-1701757141855.png","path":"images/名片创作-1701757141855.png","modified":0,"renderable":0},{"_id":"source/images/名片创作-1701757146672.png","path":"images/名片创作-1701757146672.png","modified":0,"renderable":0},{"_id":"themes/anzhiyu/source/img/location.png","path":"img/location.png","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/img/locationDark.png","path":"img/locationDark.png","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/img/beautifulImg.jpg","path":"img/beautifulImg.jpg","modified":0,"renderable":1},{"_id":"themes/anzhiyu/source/img/essayImg/pixabay.png","path":"img/essayImg/pixabay.png","modified":0,"renderable":1},{"_id":"source/images/redis小记-1701961207310.png","path":"images/redis小记-1701961207310.png","modified":0,"renderable":0},{"_id":"source/images/redis小记-1701961883013.png","path":"images/redis小记-1701961883013.png","modified":0,"renderable":0},{"_id":"source/images/借贷宝一面凉经-1702454372646.png","path":"images/借贷宝一面凉经-1702454372646.png","modified":0,"renderable":0},{"_id":"source/images/借贷宝一面凉经-1702454737068.png","path":"images/借贷宝一面凉经-1702454737068.png","modified":0,"renderable":0},{"_id":"source/images/借贷宝一面凉经-1702454757991.png","path":"images/借贷宝一面凉经-1702454757991.png","modified":0,"renderable":0},{"_id":"source/images/百姓网-1702859564018.png","path":"images/百姓网-1702859564018.png","modified":0,"renderable":0},{"_id":"source/images/百姓网-1702859570812.png","path":"images/百姓网-1702859570812.png","modified":0,"renderable":0},{"_id":"source/images/百姓网-1702880519034.png","path":"images/百姓网-1702880519034.png","modified":0,"renderable":0},{"_id":"source/images/百姓网-1702880535273.png","path":"images/百姓网-1702880535273.png","modified":0,"renderable":0},{"_id":"source/images/百姓网-1702881164372.png","path":"images/百姓网-1702881164372.png","modified":0,"renderable":0},{"_id":"source/images/百姓网-1702880543910.png","path":"images/百姓网-1702880543910.png","modified":0,"renderable":0},{"_id":"themes/anzhiyu/source/img/jiuye.jpg","path":"img/jiuye.jpg","modified":0,"renderable":1}],"Cache":[{"_id":"source/_posts/hello-world.md","hash":"26029618f98b8981bad429c005044722419262c2","modified":1701430308372},{"_id":"source/images/hello-world-1701430188804.png","hash":"1085603f8a3fd9aa8dd00fd9afcc98e433fe297a","modified":1701430190839},{"_id":"source/_posts/hexo-anzhiyu学习.md","hash":"988916edc9e8e29b939909a19af421c885c61f31","modified":1701746155324},{"_id":"source/tags/index.md","hash":"f44278c54aa4ef90091115f78a41707f338b41c8","modified":1701433245764},{"_id":"source/categories/index.md","hash":"8456a4325ed101768012718a26d5023b38d3b727","modified":1701433284033},{"_id":"themes/anzhiyu/source/css/_extra/home_top/random-banner.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1701427075778},{"_id":"themes/anzhiyu/.gitignore","hash":"d507747699b68b0ec536b91d8be526c71ccf5c74","modified":1701427072005},{"_id":"themes/anzhiyu/LICENSE","hash":"31a3d460bb3c7d98845187c716a30db81c44b615","modified":1701427072017},{"_id":"themes/anzhiyu/README.md","hash":"46c4c8c308bd18c813da6b37356c7953f0d2e4af","modified":1701427072045},{"_id":"themes/anzhiyu/README_EN.md","hash":"3b27231432adf2bd180857fc6d3de646dfd444bf","modified":1701427072069},{"_id":"themes/anzhiyu/_config.yml","hash":"de03b85e2a959023593b1378565fe7d148f52012","modified":1701427072084},{"_id":"themes/anzhiyu/languages/default.yml","hash":"be22c8d1730408a2ac3ec9a57406e297fc1f7ce6","modified":1701427072344},{"_id":"themes/anzhiyu/package.json","hash":"06baae9d4a3e6feb1861721f547a55d416638209","modified":1701427072102},{"_id":"themes/anzhiyu/plugins.yml","hash":"1221d029e98112917b9987ae06d3d935dbd2e692","modified":1701427072117},{"_id":"themes/anzhiyu/sw-rules.js","hash":"ae946d1b197940f8021d81a65474ea474a82c0cf","modified":1701427072133},{"_id":"themes/anzhiyu/languages/en.yml","hash":"4c46ef35360b8322269417bcae68e609ca8f85be","modified":1701427072359},{"_id":"themes/anzhiyu/layout/archive.pug","hash":"b8778e55f1aab2431daa4a64cba991ef40e33224","modified":1701443642512},{"_id":"themes/anzhiyu/layout/index.pug","hash":"cf1b756e06864a47352bb9890519eafcf5d0340d","modified":1701443645755},{"_id":"themes/anzhiyu/languages/zh-CN.yml","hash":"dbd5b387322693ed53df84eab709bf04ffeb8b81","modified":1701427072375},{"_id":"themes/anzhiyu/layout/post.pug","hash":"0d8d8cfd31e97053c908dac3ee19072825a6a2dc","modified":1701427072481},{"_id":"themes/anzhiyu/layout/category.pug","hash":"1d55b22a50675d1ecfb95d031ea011245c7c6511","modified":1701427072434},{"_id":"themes/anzhiyu/layout/page.pug","hash":"98e81d10e6caab2ff79b4a2788d2312acded36ef","modified":1701427072465},{"_id":"themes/anzhiyu/languages/zh-TW.yml","hash":"0e0b432912390e3de9d99bc54add99e4d265d3d1","modified":1701427072391},{"_id":"themes/anzhiyu/layout/tag.pug","hash":"354b85519feab71c0233eb240655d0e0ec67021c","modified":1701427072497},{"_id":"themes/anzhiyu/.github/workflows/issue_close_stale.yml","hash":"6151bdec23ded908adf01ba5ecdf3c0da573449d","modified":1701427072228},{"_id":"themes/anzhiyu/source/favicon.ico","hash":"14310db268ea8d3b2096f434c6e293fc207f5f09","modified":1701427075047},{"_id":"themes/anzhiyu/.github/ISSUE_TEMPLATE/bug_report.yml","hash":"3978be1ecdd21be564aa590b17eda6f03cd77e19","modified":1701427072161},{"_id":"themes/anzhiyu/.github/workflows/issue_close_question.yml","hash":"a7f1bf4578faa6092898a9a44bfd467cbb1788dd","modified":1701427072213},{"_id":"themes/anzhiyu/.github/workflows/issue_duplicate.yml","hash":"42a8e022434604081fe443d416bd443efd887015","modified":1701427072244},{"_id":"themes/anzhiyu/.github/ISSUE_TEMPLATE/feature_request.yml","hash":"53260c55a97ed93e6a1f9acc23b9d21193cae6ef","modified":1701427072191},{"_id":"themes/anzhiyu/.github/workflows/issue_question.yml","hash":"72ce6e36847f20952d8f8742e4fd1969cd086320","modified":1701427072275},{"_id":"themes/anzhiyu/.github/workflows/issue_invalid.yml","hash":"8cdde230c8f9330cc7cd5c149ea5fc258ffb0b8b","modified":1701427072260},{"_id":"themes/anzhiyu/.github/workflows/issue_wontfix.yml","hash":"3b498c22281bb454f8ee1135a4becee0adc5b9ae","modified":1701427072291},{"_id":"themes/anzhiyu/.github/ISSUE_TEMPLATE/config.yml","hash":"a23b745378bc745b15f2dfefcc6a203d5d1d5fcd","modified":1701427072176},{"_id":"themes/anzhiyu/layout/includes/additional-js.pug","hash":"d7e42261a79651ce13ff2213947ecb3e4c41ee81","modified":1701427072534},{"_id":"themes/anzhiyu/.github/workflows/publish.yml","hash":"05857c2f265246d8de00e31037f2720709540c09","modified":1701427072307},{"_id":"themes/anzhiyu/layout/includes/bbTimeList.pug","hash":"0a0c4cdf69314c3a9ecb078f4213c76129a9ac06","modified":1701427072550},{"_id":"themes/anzhiyu/layout/includes/404.pug","hash":"aa158d5a661aa2fab4737b9460ce34f6784fdee5","modified":1701427072519},{"_id":"themes/anzhiyu/.github/workflows/stale.yml","hash":"ac62b989b5550c756e1986fcc68f243170705383","modified":1701427072323},{"_id":"themes/anzhiyu/layout/includes/categoryGroup.pug","hash":"243f63820db5f3241e682ae8f3baffd6501df3de","modified":1701427072567},{"_id":"themes/anzhiyu/layout/includes/footer.pug","hash":"50131aa8ad85fd6c08d8e1cb2d3dcfceb5964abe","modified":1701427072584},{"_id":"themes/anzhiyu/layout/includes/head.pug","hash":"8db5b7382011745f53b99b5b5577ae28140068e2","modified":1701427072601},{"_id":"themes/anzhiyu/layout/includes/pagination.pug","hash":"1e0be343f9bdc6cefc5ff0dd3c2936ed91d5be86","modified":1701427072663},{"_id":"themes/anzhiyu/layout/includes/layout.pug","hash":"3bc51657414be0c94bd27752616cc7f7d54f20cd","modified":1701427072617},{"_id":"themes/anzhiyu/layout/includes/rightside.pug","hash":"d865835bc5432d8ec15fd0cb168643f3e9b77a18","modified":1701427072678},{"_id":"themes/anzhiyu/layout/includes/music.pug","hash":"95e5ad1c387af377d1801f2c61bfb48f3e857e31","modified":1701442917624},{"_id":"themes/anzhiyu/layout/includes/mourn.pug","hash":"d114b9493fbe6551b0c4ad1c1d8886b7f98a0d60","modified":1701427072632},{"_id":"themes/anzhiyu/scripts/events/404.js","hash":"170e72e851257365468024557c767360c3deafbf","modified":1701427074395},{"_id":"themes/anzhiyu/layout/includes/shortcutKey.pug","hash":"dcf8fb7bbddd4a64626f4fcf2523ace2dfce879f","modified":1701427072694},{"_id":"themes/anzhiyu/layout/includes/sidebar.pug","hash":"fd6d7873df74994ed6a36bd07a438c427db97e18","modified":1701427072709},{"_id":"themes/anzhiyu/scripts/events/stylus.js","hash":"d3dd2d28751b9956459624f6b492e8590de83061","modified":1701427074450},{"_id":"themes/anzhiyu/scripts/events/cdn.js","hash":"39aaf1d4fed1382c85776581225747285b7b388c","modified":1701427074409},{"_id":"themes/anzhiyu/scripts/events/comment.js","hash":"a3d1f417965ca20253c36f9e93429f3df6268856","modified":1701427074424},{"_id":"themes/anzhiyu/scripts/events/welcome.js","hash":"3177e070519a10fff904595e152a329115d22c61","modified":1701427074464},{"_id":"themes/anzhiyu/scripts/helpers/aside_archives.js","hash":"ca03ba2a0a7f2132ac5d3f66cb1bbd9e078aed3f","modified":1701427074517},{"_id":"themes/anzhiyu/scripts/events/init.js","hash":"006401bd6f4bb3fc8756e752d6ab93bf770bb77f","modified":1701427074437},{"_id":"themes/anzhiyu/scripts/filters/random_cover.js","hash":"98275d777b3c388345de3ee8caf5d16900388925","modified":1701427074498},{"_id":"themes/anzhiyu/scripts/filters/post_lazyload.js","hash":"61f06b25c09434340e81c8c3dbbd1a0d58406652","modified":1701427074484},{"_id":"themes/anzhiyu/scripts/helpers/catalog_list.js","hash":"aa38fd791d58df3fd518adf144578f160073d06e","modified":1701427074545},{"_id":"themes/anzhiyu/scripts/helpers/get_version.js","hash":"f2b7364706fc4d039da4a486e133baf7accf6836","modified":1701427074574},{"_id":"themes/anzhiyu/scripts/helpers/aside_categories.js","hash":"19244d6a9e42c34b9df2250be2467c352fa5fd41","modified":1701427074532},{"_id":"themes/anzhiyu/scripts/helpers/inject_head_js.js","hash":"847bc24452bc23dfc860b219588cfb2bff84cfbf","modified":1701427074589},{"_id":"themes/anzhiyu/scripts/helpers/findArchiveLength.js","hash":"d8aa1a4824ba6b0df911af563ae5fb361257a88a","modified":1701427074560},{"_id":"themes/anzhiyu/scripts/helpers/page.js","hash":"0ee9ac8a03e6cf9f2df55c4c5abd83417a7cd1d4","modified":1701427074604},{"_id":"themes/anzhiyu/scripts/helpers/related_post.js","hash":"c5f70efdbfd733f4dfec0ca8fe4aded0eec394cf","modified":1701427074633},{"_id":"themes/anzhiyu/scripts/helpers/sort_attr_post.js","hash":"6b6e9fb0d0dc38e8d7136dc7720c70f0c29619ab","modified":1701427074648},{"_id":"themes/anzhiyu/scripts/helpers/random.js","hash":"d659d1d05c919d1abba2dc55439749e6e5b6e707","modified":1701427074618},{"_id":"themes/anzhiyu/scripts/helpers/tags_page_list.js","hash":"35d71c025a3289be188371cc56320c563213c4af","modified":1701427074662},{"_id":"themes/anzhiyu/source/css/index.styl","hash":"ddded5cd1da248fdc30556a33877579ff8379a48","modified":1701427075069},{"_id":"themes/anzhiyu/source/css/var.styl","hash":"7bdedada1176e55d5fb72e3cc9f46e01d03b704a","modified":1701427075086},{"_id":"themes/anzhiyu/scripts/tag/Introduction-card.js","hash":"61a55f9b1f5f576e6900d2900cb42754575a4cb7","modified":1701427074696},{"_id":"themes/anzhiyu/scripts/helpers/year.js","hash":"94f15ddba7d29cdcc4dd52ed6c35c9c29cc19d37","modified":1701427074676},{"_id":"themes/anzhiyu/scripts/tag/bilibili.js","hash":"085e033cb359e8f109968748cedbd0079515e7c6","modified":1701427074710},{"_id":"themes/anzhiyu/scripts/tag/btns.js","hash":"200e1ce72f335caa71dc8423f5c5e2aba1195b61","modified":1701427074725},{"_id":"themes/anzhiyu/scripts/tag/dogeplayer.js","hash":"e9b0d88e38d3caf88b66ea39ca704d45c643ba51","modified":1701427074768},{"_id":"themes/anzhiyu/scripts/tag/button.js","hash":"430c31584930bc5407811c3dbc01be92473cfcbf","modified":1701427074739},{"_id":"themes/anzhiyu/scripts/tag/checkbox.js","hash":"fa93b169fe74bced502b0d16fe3d6bd17434b8f3","modified":1701427074754},{"_id":"themes/anzhiyu/scripts/tag/flink.js","hash":"5b0086d1b726d1068b3d8ee0563ae31485896c4b","modified":1701427074781},{"_id":"themes/anzhiyu/scripts/tag/folding.js","hash":"dc4e409eabebf5769b50c12c9e8c66b749d0ae85","modified":1701427074796},{"_id":"themes/anzhiyu/scripts/tag/hide.js","hash":"37b81ff46d104554b9a5934bfd434dbfd6a84958","modified":1701427074825},{"_id":"themes/anzhiyu/scripts/tag/gallery.js","hash":"0364b021f2519a937464e585a7e2cbdde57ca412","modified":1701427074811},{"_id":"themes/anzhiyu/scripts/tag/image.js","hash":"0b7051574af6cf28c378db65f6c6dab722a8e118","modified":1701427074855},{"_id":"themes/anzhiyu/scripts/tag/iconfont.js","hash":"ea983f7c8dd060ed411044df1c10aa6b72dec34f","modified":1701427074841},{"_id":"themes/anzhiyu/scripts/tag/label.js","hash":"87acd7d5615dd8034c51ba28d4964992d2ffed37","modified":1701427074899},{"_id":"themes/anzhiyu/scripts/tag/inline-labels.js","hash":"08fbdc0ea622270e1236a28778f875c8ad2e5516","modified":1701427074870},{"_id":"themes/anzhiyu/scripts/tag/inlineImg.js","hash":"a43ee2c7871bdd93cb6beb804429e404570f7929","modified":1701427074885},{"_id":"themes/anzhiyu/scripts/tag/link.js","hash":"a5d49f1d0e4602b0fce158efd0b1ec02c0bfd3e3","modified":1701427074914},{"_id":"themes/anzhiyu/scripts/tag/media.js","hash":"76efb072e0716e55deedb044fed1ad585871335b","modified":1701427074927},{"_id":"themes/anzhiyu/scripts/tag/mermaid.js","hash":"d3d6c8a23ddfecac35f7022eecd4ffc6171a37fa","modified":1701427074940},{"_id":"themes/anzhiyu/scripts/tag/note.js","hash":"d51812b43924f1bbf413c67499510dd125022005","modified":1701427074955},{"_id":"themes/anzhiyu/scripts/tag/site.js","hash":"bc34bfab53f520bec33d273ee599de5905ca19a9","modified":1701427074969},{"_id":"themes/anzhiyu/scripts/tag/span.js","hash":"0a2188be1e3ee6ed183c0f16d24795ef31116e10","modified":1701427074983},{"_id":"themes/anzhiyu/scripts/tag/tabs.js","hash":"dea5cd52bb9fd658bc03074b2388d91ea528fc2b","modified":1701427074996},{"_id":"themes/anzhiyu/scripts/tag/tip.js","hash":"e45a0955439dfbe6c0b4d27f8403896a0fb1d33b","modified":1701427075025},{"_id":"themes/anzhiyu/scripts/tag/timeline.js","hash":"300eb779588bf35a1b687d9f829d866074b707e3","modified":1701427075011},{"_id":"themes/anzhiyu/source/img/512.png","hash":"6988b23a31304d9de45b95a1e7c05dd42024e560","modified":1701427077095},{"_id":"themes/anzhiyu/source/img/add-to-list.svg","hash":"31265e9da9b51e3a5e2e4de9398e4884258347e3","modified":1701435420814},{"_id":"themes/anzhiyu/source/img/aperture.svg","hash":"919a589007e3d00d191df7804cbfeee3ac2b8458","modified":1701435420842},{"_id":"themes/anzhiyu/source/img/comment_bg.png","hash":"91612a887446fb436e9151981e2289f2a426a3e5","modified":1701427077135},{"_id":"themes/anzhiyu/source/img/algolia.svg","hash":"45eeea0b5fba833e21e38ea10ed5ab385ceb4f01","modified":1701427077118},{"_id":"themes/anzhiyu/source/img/favicon.ico","hash":"14310db268ea8d3b2096f434c6e293fc207f5f09","modified":1701427077169},{"_id":"themes/anzhiyu/source/img/default_cover.jpg","hash":"455fa65e2736f61ac36360dd4f76fc1ab6a1cdd5","modified":1701427077152},{"_id":"themes/anzhiyu/source/js/tw_cn.js","hash":"6cbec565e98cbd49aa75e6161d8fa996ae3be91a","modified":1701427077343},{"_id":"themes/anzhiyu/source/js/main.js","hash":"754730a48fe170d4c3a802ba52e88706b7b3d696","modified":1701427077328},{"_id":"themes/anzhiyu/source/js/utils.js","hash":"2519befd6127526c553d21117efc91a3b4a700f4","modified":1701427077358},{"_id":"themes/anzhiyu/layout/includes/anzhiyu/ai-info.pug","hash":"0c2e9e58069880c0617208840cf2f0712339ddf0","modified":1701427072729},{"_id":"themes/anzhiyu/layout/includes/anzhiyu/clock.pug","hash":"c13b21cdcbc5280deb26537c58af5443cb66c62f","modified":1701427072744},{"_id":"themes/anzhiyu/layout/includes/anzhiyu/console.pug","hash":"d46c93a7a22129795cc856045967b0e07c5e53c2","modified":1701427072759},{"_id":"themes/anzhiyu/layout/includes/anzhiyu/rightmenu.pug","hash":"2747252c6337d8fb7ba773cdb466611607f9a23b","modified":1701427072788},{"_id":"themes/anzhiyu/layout/includes/anzhiyu/log-js.pug","hash":"348ab6e29f46ea9858d9c86fa0dafe26dc96b6fa","modified":1701682005278},{"_id":"themes/anzhiyu/layout/includes/anzhiyu/tags-group-all.pug","hash":"bc16fa91883895544273161cc8672bfe5c010e5e","modified":1701427072806},{"_id":"themes/anzhiyu/layout/includes/bili-banner/index.pug","hash":"8cb1c404adc6fe188bdceca3c09d3f215048e9bd","modified":1701427072828},{"_id":"themes/anzhiyu/layout/includes/head/Open_Graph.pug","hash":"dff5b967a641f385c4661fe66ad62d53cabf857a","modified":1701427072851},{"_id":"themes/anzhiyu/layout/includes/head/analytics.pug","hash":"15530d9ac59c576d79af75dd687efe71e8d261b0","modified":1701427072870},{"_id":"themes/anzhiyu/layout/includes/head/config_site.pug","hash":"3038adec24b17f019bdd7d6aa15ebe091b11397d","modified":1701427072901},{"_id":"themes/anzhiyu/layout/includes/head/google_adsense.pug","hash":"95a37e92b39c44bcbea4be7e29ddb3921c5b8220","modified":1701427072916},{"_id":"themes/anzhiyu/layout/includes/head/config.pug","hash":"270cdf99f0405f8f9cac38b24f9ed1f5d5d18cfc","modified":1701427072885},{"_id":"themes/anzhiyu/layout/includes/head/noscript.pug","hash":"d16ad2ee0ff5751fd7f8a5ce1b83935518674977","modified":1701427072932},{"_id":"themes/anzhiyu/layout/includes/head/pwa.pug","hash":"a4cc65381275e09f3f54f6e958d359c89c7b2c4e","modified":1701427072962},{"_id":"themes/anzhiyu/layout/includes/head/site_verification.pug","hash":"e2e8d681f183f00ce5ee239c42d2e36b3744daad","modified":1701427072979},{"_id":"themes/anzhiyu/layout/includes/loading/fullpage-loading.pug","hash":"39977280dd32f1435a97f285a75f2a02902472d6","modified":1701427073081},{"_id":"themes/anzhiyu/layout/includes/head/preconnect.pug","hash":"56ef61e74598cf60551d363a15fc53842b8dc41b","modified":1701427072947},{"_id":"themes/anzhiyu/layout/includes/header/menu_item.pug","hash":"4537154b8830310ce5dff3c9cfd558f0ec1311a5","modified":1701427073016},{"_id":"themes/anzhiyu/layout/includes/header/index.pug","hash":"c865d51436cfd5413df6c691a7ab1f0eb600e79c","modified":1701427073000},{"_id":"themes/anzhiyu/layout/includes/loading/index.pug","hash":"f86b0c45874ae1335ab575c29d4f9c8ea09ab92a","modified":1701427073095},{"_id":"themes/anzhiyu/layout/includes/header/nav.pug","hash":"e567624b78d723346193a9b0d28032031997b865","modified":1701427073031},{"_id":"themes/anzhiyu/layout/includes/header/post-info.pug","hash":"0f1503c88d05ada69919e0bdbbf7b2ea1603d20b","modified":1701427073046},{"_id":"themes/anzhiyu/layout/includes/header/social.pug","hash":"2185b69eb54656ed9e401bc47ca3cd9905b022f3","modified":1701427073060},{"_id":"themes/anzhiyu/layout/includes/loading/pace.pug","hash":"7f04cabd68f75d7f953503283316e1594bbec45f","modified":1701427073110},{"_id":"themes/anzhiyu/layout/includes/page/about.pug","hash":"647b4b8f9e29b737b4e200cf5b5c647b20aeeb08","modified":1701759228687},{"_id":"themes/anzhiyu/layout/includes/mixins/article-sort.pug","hash":"7a06f5f24f8e32b3025cf43474db9519d48517e5","modified":1701427073132},{"_id":"themes/anzhiyu/layout/includes/page/album.pug","hash":"0ca70f1ec4757d6127048d71762752dabf1af2ea","modified":1701427073184},{"_id":"themes/anzhiyu/layout/includes/mixins/post-ui.pug","hash":"80858e19caf57c275cb7d6acf3bfff7d0c90c774","modified":1701427073148},{"_id":"themes/anzhiyu/layout/includes/page/album_detail.pug","hash":"c735533f7671905d06bae5645306cd08abb0b43c","modified":1701427073199},{"_id":"themes/anzhiyu/layout/includes/page/categories.pug","hash":"f23d074ef6875311e74169da7592ecf667539775","modified":1701427073214},{"_id":"themes/anzhiyu/layout/includes/page/default-page.pug","hash":"12c65c174d26a41821df9bad26cdf1087ec5b0ca","modified":1701427073229},{"_id":"themes/anzhiyu/layout/includes/page/equipment.pug","hash":"87ca40c49ddfe9c266cd96b4eb3594d7c64c1d55","modified":1701427073244},{"_id":"themes/anzhiyu/layout/includes/page/essay.pug","hash":"b0a25ded52c72c84bd29593bd7a57046c4b36195","modified":1701427073260},{"_id":"themes/anzhiyu/layout/includes/popup/index.pug","hash":"3ac8714556f94a614100aeddeb7f7e0cdff2fb9c","modified":1701427073362},{"_id":"themes/anzhiyu/layout/includes/page/flink.pug","hash":"56638092eef96fdb0072967fb95b857e31144fe2","modified":1701427073293},{"_id":"themes/anzhiyu/layout/includes/page/fcircle.pug","hash":"a4bfc9855bcfc859f0c04e869e0ec8cb8d2a1357","modified":1701427073275},{"_id":"themes/anzhiyu/layout/includes/post/post-copyright.pug","hash":"10638ede3b9ea1ef4e336f5c4d690239ef353843","modified":1701427073382},{"_id":"themes/anzhiyu/layout/includes/page/music.pug","hash":"3cbec3b3dc0f0e812f29c222ebb2d2a3d8c2719f","modified":1701427073309},{"_id":"themes/anzhiyu/layout/includes/post/ptool.pug","hash":"173d1a63099109bd909de919281db9f2b2a023f0","modified":1701427073398},{"_id":"themes/anzhiyu/layout/includes/page/room.pug","hash":"c35a2fb076e0196ba28389b5309dde33a2add576","modified":1701427073324},{"_id":"themes/anzhiyu/layout/includes/page/tags.pug","hash":"62882d8a699254486add2f7b0f089521732e4869","modified":1701427073339},{"_id":"themes/anzhiyu/layout/includes/third-party/aplayer.pug","hash":"c7cfade2b160380432c47eef4cd62273b6508c58","modified":1701427073435},{"_id":"themes/anzhiyu/layout/includes/post/reward.pug","hash":"cdf5ff34ba8efe526cfe77ddf3277d997d172d41","modified":1701427073413},{"_id":"themes/anzhiyu/layout/includes/third-party/effect.pug","hash":"6528e86656906117a1af6b90e0349c2c4651d5e1","modified":1701427073451},{"_id":"themes/anzhiyu/layout/includes/third-party/footerBarSubtitle.pug","hash":"bb2df2fbbdc9fe0f4b9d66928247faa49f70e2e5","modified":1701427073468},{"_id":"themes/anzhiyu/layout/includes/third-party/pangu.pug","hash":"0f024e36b8116118233e10118714bde304e01e12","modified":1701427073483},{"_id":"themes/anzhiyu/layout/includes/third-party/pjax.pug","hash":"4ee026b34e6ecc2c03cf04933973b496472309c2","modified":1701427073499},{"_id":"themes/anzhiyu/layout/includes/top/top.pug","hash":"9f849b05e220efa72d56f524a27ab2877e27e9e3","modified":1701427074112},{"_id":"themes/anzhiyu/layout/includes/third-party/prismjs.pug","hash":"ffb9ea15a2b54423cd4cd441e2d061b8233e9b58","modified":1701427073514},{"_id":"themes/anzhiyu/layout/includes/third-party/subtitle.pug","hash":"142621f70bedcb5033ee99a988f7bb6c5eea3493","modified":1701427073529},{"_id":"themes/anzhiyu/layout/includes/widget/card_ad.pug","hash":"60dc48a7b5d89c2a49123c3fc5893ab9c57dd225","modified":1701427074134},{"_id":"themes/anzhiyu/layout/includes/widget/card_archives.pug","hash":"9ca97d85cc7b214e1107d0b4feac4d8ad2fd0ac8","modified":1701427074165},{"_id":"themes/anzhiyu/layout/includes/widget/card_author.pug","hash":"b7e11bcd199f343a844315e5d16735205dded9d2","modified":1701427074181},{"_id":"themes/anzhiyu/layout/includes/widget/card_announcement.pug","hash":"ed8796dd3c5710d745fdcc0021b02a3cda07fd1b","modified":1701427074150},{"_id":"themes/anzhiyu/layout/includes/widget/card_bottom_self.pug","hash":"13dc8ce922e2e2332fe6ad5856ebb5dbf9ea4444","modified":1701427074196},{"_id":"themes/anzhiyu/layout/includes/widget/card_categories.pug","hash":"d1a416d0a8a7916d0b1a41d73adc66f8c811e493","modified":1701427074212},{"_id":"themes/anzhiyu/layout/includes/widget/card_console_archives.pug","hash":"8c095ae91183d6a2aeed64f378e60baaa29d4065","modified":1701427074228},{"_id":"themes/anzhiyu/layout/includes/widget/card_console_tags.pug","hash":"d723516d48cd94a68819df5c61087c9e7339e2af","modified":1701427074244},{"_id":"themes/anzhiyu/layout/includes/widget/card_newest_comment.pug","hash":"419eed9a771299c9ffb85fdf38073bbd5bd7775c","modified":1701427074259},{"_id":"themes/anzhiyu/layout/includes/widget/card_post_toc.pug","hash":"638417324111b66c834314b96cbf02e959be58f4","modified":1701427074276},{"_id":"themes/anzhiyu/layout/includes/widget/card_recent_post.pug","hash":"544272cb0977b8a941de22f1f58f76d370b2cbbd","modified":1701427074292},{"_id":"themes/anzhiyu/layout/includes/widget/card_top_self.pug","hash":"ae67c6d4130a6c075058a9c1faea1648bcc6f83e","modified":1701427074322},{"_id":"themes/anzhiyu/layout/includes/widget/card_tags.pug","hash":"3475134643b70cbf0e806806bd2e0d2a7371f8a5","modified":1701427074307},{"_id":"themes/anzhiyu/source/css/_global/function.styl","hash":"dc7e5463ec340feab4eab5a5d5c48b14500f3822","modified":1701495567250},{"_id":"themes/anzhiyu/layout/includes/widget/card_webinfo.pug","hash":"5ddf285ca0ecbb57cbbbc36a4e9eaaca40406257","modified":1701427074338},{"_id":"themes/anzhiyu/layout/includes/widget/card_weixin.pug","hash":"28f11437bcba4df1e53fc1e32df213392b9ca4b6","modified":1701427074353},{"_id":"themes/anzhiyu/source/css/_global/icon.styl","hash":"da488461e8c5e504961c0a8f44b1e3605f72f956","modified":1701427076061},{"_id":"themes/anzhiyu/layout/includes/widget/index.pug","hash":"e33c360217b11a7980e780a5bc20e9d31f5dacf5","modified":1701427074369},{"_id":"themes/anzhiyu/source/css/_highlight/highlight.styl","hash":"3b8ed7884ce87bec2fa248df8d9dd1878a7010fe","modified":1701427076109},{"_id":"themes/anzhiyu/source/css/_global/index.styl","hash":"55850e21e138a0ad8250f4b2ff38412fdb343d1d","modified":1701427076075},{"_id":"themes/anzhiyu/source/css/_layout/404.styl","hash":"02a8df2e9734848cc4670a4b9f6e9a776e995644","modified":1701427076229},{"_id":"themes/anzhiyu/source/css/_highlight/theme.styl","hash":"c074efc93f4f118c3fc3b3d3c9f9abc42e4858b4","modified":1701427076123},{"_id":"themes/anzhiyu/source/css/_layout/banner.styl","hash":"62f4202467cc9f313361911ed2a2005e66b3b2ca","modified":1701427076254},{"_id":"themes/anzhiyu/source/css/_global/loading.styl","hash":"734c69c16135543267794e12b43e776d501fb6ca","modified":1701427076089},{"_id":"themes/anzhiyu/source/css/_layout/chat.styl","hash":"29f48f9370f245e6e575b5836bccf47eb5688d8b","modified":1701427076269},{"_id":"themes/anzhiyu/source/css/_layout/aside.styl","hash":"b62fbde63342f779b4dd27492e6da878c25f7dfb","modified":1701427076241},{"_id":"themes/anzhiyu/source/css/_layout/comments.styl","hash":"16bd9e2f05db23a677dddc82ae621e9339e75cdc","modified":1701427076283},{"_id":"themes/anzhiyu/source/css/_layout/footer.styl","hash":"ce21052dd27e752c3734083ec1401b96c542bfda","modified":1701427076298},{"_id":"themes/anzhiyu/source/css/_layout/head.styl","hash":"bfb5d818394942ea243a1a0379521d4de4ca4010","modified":1701427076311},{"_id":"themes/anzhiyu/source/css/_layout/home_top.styl","hash":"c975f539ae6bed3b24c9dc3914b412f179ee2543","modified":1701427076323},{"_id":"themes/anzhiyu/source/css/_layout/oneGraphFlow.styl","hash":"1e5843caf8674429a5782712879c4a532074514d","modified":1701427076349},{"_id":"themes/anzhiyu/source/css/_layout/pagination.styl","hash":"88f2fbb0ccb061410b07e1ed6303583230e96d4e","modified":1701427076363},{"_id":"themes/anzhiyu/source/css/_layout/nav.styl","hash":"25524f214e245737c5bfc551de1b76b5d6515a20","modified":1701427076336},{"_id":"themes/anzhiyu/source/css/_layout/ptool.styl","hash":"2ffeca0499c6ad1c4ea2ef783d7493b713b24569","modified":1701427076390},{"_id":"themes/anzhiyu/source/css/_layout/post.styl","hash":"2a4a8af05bc24edbd14c4160b17489242164727f","modified":1701427076377},{"_id":"themes/anzhiyu/source/css/_layout/relatedposts.styl","hash":"c67558ba609b59375f8ee6ad479fcb16ddda9cb6","modified":1701427076403},{"_id":"themes/anzhiyu/source/css/_layout/reward.styl","hash":"152b802a38f029dece2b8f8812404cec25975212","modified":1701427076416},{"_id":"themes/anzhiyu/source/css/_layout/rightmenu.styl","hash":"cc622c70ff61ef70dfa6445b5b4b09eb92cf9994","modified":1701427076429},{"_id":"themes/anzhiyu/source/css/_layout/rightside.styl","hash":"bebc753a414d3fb807b5bf8dfeb87fe602e92e73","modified":1701427076442},{"_id":"themes/anzhiyu/source/css/_mode/darkmode.styl","hash":"43391bb6a4d1908c87515851c41b8d97b847b49b","modified":1701427076500},{"_id":"themes/anzhiyu/source/css/_layout/shortcutKey.styl","hash":"ca7674768558396a8e2f9eaa452575bff099e4e8","modified":1701427076455},{"_id":"themes/anzhiyu/source/css/_layout/third-party.styl","hash":"a6b708dfeda4ad837bbfc76bd74810805ca521a0","modified":1701427076480},{"_id":"themes/anzhiyu/source/css/_layout/sidebar.styl","hash":"57d6857a1209dacb6f3fd0eb3c3f539fef3a2daf","modified":1701427076468},{"_id":"themes/anzhiyu/source/css/_mode/readmode.styl","hash":"a5a27dea73ed993ce81ca691eff9eb71c2b311a7","modified":1701427076513},{"_id":"themes/anzhiyu/source/css/_page/404.styl","hash":"50dbb9e6d98c71ffe16741b8c1b0c1b9771efd2b","modified":1701427076533},{"_id":"themes/anzhiyu/source/css/_page/about.styl","hash":"72a3345b9791fcf51bb74ff6eebfda4674e8f60d","modified":1701427076546},{"_id":"themes/anzhiyu/source/css/_page/archives.styl","hash":"8652be12d88083f71a1efb88a2482a0aeda2c65f","modified":1701427076558},{"_id":"themes/anzhiyu/source/css/_page/categories.styl","hash":"f01ee74948cedb44e53cd3bb1ef36b7d2778ede7","modified":1701427076572},{"_id":"themes/anzhiyu/source/css/_page/common.styl","hash":"99ca9cb011349c045ed779bd5db9763c2073bbfe","modified":1701427076585},{"_id":"themes/anzhiyu/source/css/_page/flink.styl","hash":"990a1b5d937980ec1f6f764f4b5ce371279cc451","modified":1701427076613},{"_id":"themes/anzhiyu/source/css/_page/homepage.styl","hash":"7b2b2b4a7f3139f7db2d535b2ed7167db8bfd0ed","modified":1701427076626},{"_id":"themes/anzhiyu/source/css/_page/equipment.styl","hash":"8ed450c37e8b5b5d6ce04245b54fc0877b0ad0d9","modified":1701427076599},{"_id":"themes/anzhiyu/source/css/_page/music.styl","hash":"290dd82c05bc21a0f22a7b666f2af233e9e8bbb2","modified":1701427076639},{"_id":"themes/anzhiyu/source/img/siteicon/32.png","hash":"147aae33224066ef2a5987c3cbbfa4309c49cef4","modified":1701427077255},{"_id":"themes/anzhiyu/source/img/siteicon/16.png","hash":"8dc6ca32ff1264f7c1c3a8f62727a8c96ea7525b","modified":1701427077238},{"_id":"themes/anzhiyu/source/js/anzhiyu/ai_abstract.js","hash":"be52eb13a416b18337d3b1142277920072e698c3","modified":1701427077378},{"_id":"themes/anzhiyu/source/css/_page/reward.styl","hash":"3a6e95f58b1692c6ee67a669fc965d9dea026186","modified":1701427076653},{"_id":"themes/anzhiyu/source/css/_page/tag_page.styl","hash":"704a74185d0e872ca3358567a2ecede5c2d35910","modified":1701427076666},{"_id":"themes/anzhiyu/source/css/_page/tags.styl","hash":"580feb7e8b0822a1be48ac380f8c5c53b1523321","modified":1701427076680},{"_id":"themes/anzhiyu/source/img/siteicon/apple-icon-180.png","hash":"7f580ec4819c9ef10b1306102152f4473f037a98","modified":1701427077272},{"_id":"themes/anzhiyu/source/js/anzhiyu/comment_barrage.js","hash":"1b30f922238f626c6a90ce2705789ba2362a2a9e","modified":1701427077392},{"_id":"themes/anzhiyu/source/css/_search/algolia.styl","hash":"f7cb2effef6b4e587fad385d7c11b4b23c110589","modified":1701427076700},{"_id":"themes/anzhiyu/source/img/siteicon/manifest-icon-512.maskable.png","hash":"6f8b4b3df8d1498db55a559f7106dc9b6e6af647","modified":1701427077307},{"_id":"themes/anzhiyu/source/img/siteicon/manifest-icon-192.maskable.png","hash":"528b94ebcd34fb55436d64fdda76ef43ccbf031f","modified":1701427077290},{"_id":"themes/anzhiyu/source/css/_search/local-search.styl","hash":"25e58a7a8bda4b73d0a0e551643ca01b09ccd7e5","modified":1701427076726},{"_id":"themes/anzhiyu/source/css/_search/index.styl","hash":"fd2833ec664a9de9a7b3dd1cade7d65e3ad80ddd","modified":1701427076713},{"_id":"themes/anzhiyu/source/js/anzhiyu/people.js","hash":"f3d2a3d0c730124d9f64dbf59486145c05a42ac6","modified":1701427077406},{"_id":"themes/anzhiyu/source/js/anzhiyu/random_friends_post.js","hash":"1548fdc0a8cb4291bc8793dc8d321c59c097c08e","modified":1701427077421},{"_id":"themes/anzhiyu/source/css/_third-party/normalize.min.css","hash":"56fb92b28926290d6e609eb039d698eb94a3b2bb","modified":1701427077028},{"_id":"themes/anzhiyu/source/css/_third-party/snackbar.styl","hash":"47a90d6a87744c6e4ced18b95220debef8f278d0","modified":1701427077042},{"_id":"themes/anzhiyu/source/js/anzhiyu/right_click_menu.js","hash":"d605ee0cab24604f97ccef5747bfacaa108645ba","modified":1701427077435},{"_id":"themes/anzhiyu/source/css/_third-party/twikoo.styl","hash":"51475a99ec3281fb98ca8707e28064f91dd9c68a","modified":1701427077056},{"_id":"themes/anzhiyu/source/css/_tags/bilbili.styl","hash":"081833e071be562201c56ec4db000b7ac144a39a","modified":1701427076758},{"_id":"themes/anzhiyu/source/css/_tags/Introduction-card.styl","hash":"ec70e67c2a8bc1a0ebe536091d97bc326faf9973","modified":1701427076746},{"_id":"themes/anzhiyu/source/css/_tags/btns.styl","hash":"903b571a6e352e5014e35e9a675b7d2d6e5b82bd","modified":1701427076773},{"_id":"themes/anzhiyu/source/css/_tags/button.styl","hash":"af1840996356aeae6ffbee49ab86aa7834ab18a0","modified":1701427076787},{"_id":"themes/anzhiyu/source/css/_tags/checkbox.styl","hash":"2a31f4c0cd31f67342564ef22254eb317d82f331","modified":1701427076800},{"_id":"themes/anzhiyu/source/css/_tags/folding.styl","hash":"537320d4762bef842beabfbde9b27f0e2ece2ba6","modified":1701427076813},{"_id":"themes/anzhiyu/source/css/_tags/hexo.styl","hash":"d76c38adf1d9c1279ef4241835667789f5b736e0","modified":1701427076839},{"_id":"themes/anzhiyu/source/css/_tags/gallery.styl","hash":"697408d915056ae6e6814e0f24ca013f68227f74","modified":1701427076826},{"_id":"themes/anzhiyu/source/css/_tags/hide.styl","hash":"810c54530d3799fe492d9c3d4842ab5ca4243092","modified":1701427076852},{"_id":"themes/anzhiyu/source/css/_tags/inline-labels.styl","hash":"d9bdac4ca48b19cc028efc1a084ebf99c38bb8ec","modified":1701427076882},{"_id":"themes/anzhiyu/source/css/_tags/image.styl","hash":"4cf305b1d57d0c9bfe948f916fe9b124ee62fc0a","modified":1701427076867},{"_id":"themes/anzhiyu/source/css/_tags/label.styl","hash":"66c59e193d794cdb02cca7bd1dc4aea5a19d7e84","modified":1701427076910},{"_id":"themes/anzhiyu/source/css/_tags/inlineImg.styl","hash":"df9d405c33a9a68946b530410f64096bcb72560c","modified":1701427076896},{"_id":"themes/anzhiyu/source/css/_tags/media.styl","hash":"05a249c807cd7760492a9ef5914b3e363d7d1028","modified":1701427076923},{"_id":"themes/anzhiyu/source/css/_tags/note.styl","hash":"3b357c94cb8e80039cc1689161637d5b9690ff18","modified":1701427076936},{"_id":"themes/anzhiyu/source/css/_tags/site-card.styl","hash":"5ff77bfa663aca406e3a0bd822da0d6e3c3c2c8b","modified":1701427076948},{"_id":"themes/anzhiyu/source/css/_tags/span.styl","hash":"f75112e431fcbef352a7ee7f0aa85e8b2f0b4a26","modified":1701427076962},{"_id":"themes/anzhiyu/source/css/_tags/tabs.styl","hash":"b0dc66d3daafe8c3a022f7235de3d8224cb56ec9","modified":1701427076976},{"_id":"themes/anzhiyu/source/css/_tags/tip.styl","hash":"0f712be285681bac71e96c48d0836b8fea52bf6f","modified":1701427077005},{"_id":"themes/anzhiyu/source/css/_tags/timeline.styl","hash":"3076b68fece8ef394cbd44570037e5e479fdd277","modified":1701427076991},{"_id":"themes/anzhiyu/source/js/search/algolia.js","hash":"5c2a0d0489c51c6d9e54f5a3b0c6e66a5f649450","modified":1701427077458},{"_id":"themes/anzhiyu/source/js/search/local-search.js","hash":"3ad66c75b4a0fc28a14a5478ee8a19fde72f837f","modified":1701427077472},{"_id":"themes/anzhiyu/layout/includes/third-party/card-post-count/artalk.pug","hash":"99d9b17668260b242749c16851d9ec1024d31899","modified":1701427073550},{"_id":"themes/anzhiyu/layout/includes/third-party/card-post-count/index.pug","hash":"a20dd36c318c7a37870fbc9dcecbc03f94ade817","modified":1701427073566},{"_id":"themes/anzhiyu/layout/includes/third-party/card-post-count/twikoo.pug","hash":"56c028ba0ea8fac19f0125114d765dfc56ce2b48","modified":1701427073580},{"_id":"themes/anzhiyu/layout/includes/third-party/card-post-count/valine.pug","hash":"39427e107230a10790972349c9dd4c4f31d55eb7","modified":1701427073596},{"_id":"themes/anzhiyu/layout/includes/third-party/chat/chatra.pug","hash":"ddce8352b371a1fb426bdb6c33f587eb37a69647","modified":1701427073636},{"_id":"themes/anzhiyu/layout/includes/third-party/card-post-count/waline.pug","hash":"b40b0cbd0389f03fed5ddf624fa598613135046a","modified":1701427073613},{"_id":"themes/anzhiyu/layout/includes/third-party/chat/crisp.pug","hash":"2fb098a7aa45010a8cd212dc0bd5308c6e7c63e3","modified":1701427073652},{"_id":"themes/anzhiyu/layout/includes/third-party/chat/daovoice.pug","hash":"9b57a8e13de8fc51a5f550854e47164fd8ac1be8","modified":1701427073667},{"_id":"themes/anzhiyu/layout/includes/third-party/chat/index.pug","hash":"9eff7757c825d776edde1c1dd09623a91d891e6b","modified":1701427073682},{"_id":"themes/anzhiyu/layout/includes/third-party/chat/tidio.pug","hash":"76b08a6da3eed8f90304fa6546783e5c04a792fb","modified":1701427073697},{"_id":"themes/anzhiyu/layout/includes/third-party/comments/index.pug","hash":"a77f0e963a59ab2e28c7ce294d4bb951a0262877","modified":1701427073735},{"_id":"themes/anzhiyu/layout/includes/third-party/comments/twikoo.pug","hash":"1582986ede8a9c727004d1dc114bd7ee92880641","modified":1701427073766},{"_id":"themes/anzhiyu/layout/includes/third-party/comments/js.pug","hash":"d7ec11022237359926a4ff1d3aa8355c1713765e","modified":1701427073751},{"_id":"themes/anzhiyu/layout/includes/third-party/comments/artalk.pug","hash":"78c33bec5e0ce34f5fd71d6a64fc357b3a635fd6","modified":1701427073719},{"_id":"themes/anzhiyu/layout/includes/third-party/math/index.pug","hash":"b8ae5fd7d74e1edcef21f5004fc96147e064d219","modified":1701427073821},{"_id":"themes/anzhiyu/layout/includes/third-party/comments/valine.pug","hash":"e54a60b1795721153faaa887b46a68b68bcd3abc","modified":1701427073782},{"_id":"themes/anzhiyu/layout/includes/third-party/comments/waline.pug","hash":"b996993c61e53be6a46dd78634c95ab8e42fb4ab","modified":1701427073798},{"_id":"themes/anzhiyu/layout/includes/third-party/newest-comments/artalk.pug","hash":"744ba5c57a76eca3eabb79f0dea236f042ccdacb","modified":1701427073891},{"_id":"themes/anzhiyu/layout/includes/third-party/math/katex.pug","hash":"235fb3c8b4da8ec6b010d4d30d3594d3dbfd0bbe","modified":1701427073836},{"_id":"themes/anzhiyu/layout/includes/third-party/math/mathjax.pug","hash":"fc072ac839401174b5d3cf9acd3b694246c23a55","modified":1701427073853},{"_id":"themes/anzhiyu/layout/includes/third-party/newest-comments/index.pug","hash":"6dafa98f6082e909c00396a4793ed3e7c866f824","modified":1701427073906},{"_id":"themes/anzhiyu/layout/includes/third-party/math/mermaid.pug","hash":"10f3949da0889c1ec3e3617da290927d834d1f6d","modified":1701427073868},{"_id":"themes/anzhiyu/layout/includes/third-party/newest-comments/twikoo-comment.pug","hash":"456d0072d5e1be5575c06607c3148105ee719da8","modified":1701427073921},{"_id":"themes/anzhiyu/source/css/_extra/album/album.css","hash":"d3938a8e6edcf2be0dff02728f605406feba800d","modified":1701427075113},{"_id":"themes/anzhiyu/source/css/_extra/album/album_detail.css","hash":"b75189ece986fa6b645751791a72d2783fbae05f","modified":1701427075131},{"_id":"themes/anzhiyu/layout/includes/third-party/newest-comments/valine.pug","hash":"964515f09e92884f0a14bd262382ce884dd3d53c","modified":1701427073936},{"_id":"themes/anzhiyu/layout/includes/third-party/newest-comments/waline.pug","hash":"ccf040263c728ccfd14f8a2a0f9b1ceea7ca87f0","modified":1701427073952},{"_id":"themes/anzhiyu/layout/includes/third-party/search/docsearch.pug","hash":"cb42537ea530d6679a46a1db092da0e91756b2c3","modified":1701427074012},{"_id":"themes/anzhiyu/layout/includes/third-party/search/algolia.pug","hash":"fbdeb32013088e8f7f4c8a6a1f20622e58dc09c2","modified":1701427073998},{"_id":"themes/anzhiyu/layout/includes/third-party/share/addtoany.pug","hash":"85c92f8a7e44d7cd1c86f089a05be438535e5362","modified":1701427074062},{"_id":"themes/anzhiyu/layout/includes/third-party/runtime/runtime-js.pug","hash":"63391ff01fd55d8c48b3a9e46d83d4af75908ffb","modified":1701427073977},{"_id":"themes/anzhiyu/layout/includes/third-party/search/local-search.pug","hash":"d3f133564dda5e2c51661a914ae5aab8fb9dbaf6","modified":1701427074042},{"_id":"themes/anzhiyu/source/css/_extra/anzhiyu/custom.css","hash":"82769d1c1dae4ea347211e271c96cdeca508da1e","modified":1701427075154},{"_id":"themes/anzhiyu/layout/includes/third-party/search/index.pug","hash":"a99a41334387ee9a46c6f8e8212331a29a10d159","modified":1701427074027},{"_id":"themes/anzhiyu/layout/includes/third-party/share/index.pug","hash":"b0e932171cbdfeb8a98bc1e8b78172f672f5fdfd","modified":1701427074077},{"_id":"themes/anzhiyu/layout/includes/third-party/share/share-js.pug","hash":"f61d63724ea5c5f352568b3a16bde023affefbe5","modified":1701427074091},{"_id":"themes/anzhiyu/source/css/_extra/aside_weixin/aside_weixin.css","hash":"17015ed4c296ea890e807716c6abe0a11ddcb906","modified":1701427075178},{"_id":"themes/anzhiyu/source/css/_extra/catalog_list/catalog_list.css","hash":"a1551158577967485ebce34cc3b19040d7e4ab64","modified":1701427075202},{"_id":"themes/anzhiyu/source/css/_extra/categoryBar/categoryBar.css","hash":"b9ab5612f4d24092388defcb8db7399445a10710","modified":1701427075226},{"_id":"themes/anzhiyu/source/css/_extra/clock/clock.css","hash":"b91f3216c6e859f89d9348bd9517c764e607402d","modified":1701427075248},{"_id":"themes/anzhiyu/source/css/_extra/console/console.css","hash":"f61b9504a5f7b33d7508c9c5201c0c21ae9f8d53","modified":1701427075341},{"_id":"themes/anzhiyu/source/css/_extra/code/code.css","hash":"976b68722d6698d7687f362532d7a0e6b6050d3e","modified":1701427075274},{"_id":"themes/anzhiyu/source/css/_extra/commentBarrage/commentBarrage.css","hash":"a1355fe5e03c5e5dbd17761cc7a80fa9758c5891","modified":1701427075317},{"_id":"themes/anzhiyu/source/css/_extra/code/details_summary.css","hash":"30b01d74157aaccea84c4c0d7e0ebb65f5a7f9c9","modified":1701427075292},{"_id":"themes/anzhiyu/source/css/_extra/essay_page/home_essay_bar.css","hash":"bfb259092223dcdfcb1a652330dc8ea1236fe76c","modified":1701427075382},{"_id":"themes/anzhiyu/source/css/_extra/essay_page/essay_page.css","hash":"0d62e0d6b6f57fce49d347c8ce969071933dcd45","modified":1701427075365},{"_id":"themes/anzhiyu/source/css/_extra/fix/categories.css","hash":"563bd4583007329c6e34c28883ee26a39af6c8f3","modified":1701427075453},{"_id":"themes/anzhiyu/source/css/_extra/fix/aplayer.css","hash":"00aee0451ccb5b2f402ecb7f358acf78c53cee60","modified":1701427075406},{"_id":"themes/anzhiyu/source/css/_extra/fix/bilibili-bangumi.css","hash":"81567514e32d5c2cc647aff121f405c7a7b50897","modified":1701427075422},{"_id":"themes/anzhiyu/source/css/_extra/fix/bilibili-ratio.css","hash":"ad6edf2b75dd717e9dff9fe4ca4db79c1599a6f9","modified":1701427075437},{"_id":"themes/anzhiyu/source/css/_extra/fix/comments.css","hash":"667a4182d046cb6bf0561bdb7fe8c788ae79438f","modified":1701427075485},{"_id":"themes/anzhiyu/source/css/_extra/fix/clock.css","hash":"90e0bce1341d9e01aa0efaf9c70256ef5fe6139b","modified":1701427075469},{"_id":"themes/anzhiyu/source/css/_extra/fix/dark.css","hash":"febe18af9e0cc45c6a35f0e0ef085c182985afa6","modified":1701427075500},{"_id":"themes/anzhiyu/source/css/_extra/fix/gitcalendar.css","hash":"f99c63423cbedb8f12ccea673d8e79e10a4cfb6c","modified":1701427075532},{"_id":"themes/anzhiyu/source/css/_extra/fix/fcircle_page.css","hash":"02ce333e7f9ed6b9756a6706475192e2fd3fbd4b","modified":1701427075516},{"_id":"themes/anzhiyu/source/css/_extra/fix/hide-block.css","hash":"15e0c13f8451bfe36fa5e464b86767bd98cab70b","modified":1701427075565},{"_id":"themes/anzhiyu/source/css/_extra/footer/footer.css","hash":"d94ed305398eb831b9e7160ce54510b0d25fcf67","modified":1701427075656},{"_id":"themes/anzhiyu/source/css/_extra/fix/hexo-tag-dplayer.css","hash":"90e6ba180e0b9267aa0bf27eb9f0a1d2e9cb3ecc","modified":1701427075549},{"_id":"themes/anzhiyu/source/css/_extra/fix/overflow.css","hash":"71e3bd9905684e6e2ba6e18282e982d96dc4d61d","modified":1701427075598},{"_id":"themes/anzhiyu/source/css/_extra/fix/link_page.css","hash":"69e5ed458c0dc10d93ebb7e4943196be1167ed5a","modified":1701427075581},{"_id":"themes/anzhiyu/source/css/_extra/fix/radius.css","hash":"6ef242f7a79427da9651a26c8a07e4e56ac56a42","modified":1701427075614},{"_id":"themes/anzhiyu/source/css/_extra/fix/site-card.css","hash":"0a662f62c69d36ac583528c02346d848aa1d026a","modified":1701427075632},{"_id":"themes/anzhiyu/source/css/_extra/friends/friends.css","hash":"a2e50f529aa1fd60732d9a892166bb1d3ae725d7","modified":1701427075680},{"_id":"themes/anzhiyu/source/css/_extra/home_top/home_top.css","hash":"4bf724bd2f1a0447532456c60701e79b906c8dd0","modified":1701427075744},{"_id":"themes/anzhiyu/source/css/_extra/greeting_box/greeting_box.css","hash":"208ba729979dffdaa2f82639027a09b8c64fc5c2","modified":1701427075703},{"_id":"themes/anzhiyu/source/css/_extra/home_top/categorygroup.css","hash":"bc5b8a6cddca8c36a96ea5ecd1e56a5860bbb09a","modified":1701427075727},{"_id":"themes/anzhiyu/source/css/_extra/home_top/home_top_post_group.css","hash":"04d9a3bd9cb247f4c391af0cd7cb47206974ceaf","modified":1701427075761},{"_id":"themes/anzhiyu/source/css/_extra/home_top/top_group_banner.css","hash":"785789d5f07da4d0865f083641ad3ffe4756d589","modified":1701427075811},{"_id":"themes/anzhiyu/source/css/_extra/home_top/swiperstyle.css","hash":"ea249de8cebc68cda7e62705df2acd7c78d13f37","modified":1701427075795},{"_id":"themes/anzhiyu/source/css/_extra/local_search/local_search.css","hash":"d3bc30e147897fb3026284d4244c4cf195d4588a","modified":1701427075836},{"_id":"themes/anzhiyu/source/css/_extra/reset/reset.css","hash":"0617cd338ebe4be2820d03d88376b30e0f378c1c","modified":1701427075861},{"_id":"themes/anzhiyu/source/css/_extra/skills/skills.css","hash":"6dcf742c38dcdf988e3d6f545fbfa0227d3155ea","modified":1701427075984},{"_id":"themes/anzhiyu/source/css/_extra/room/room.css","hash":"82eb83dc296c045b0388cd9417ff1bc822e46f41","modified":1701427075911},{"_id":"themes/anzhiyu/source/css/_extra/reward/about-reward.css","hash":"f95871737b0e883ab70b30948b2cd4339bf36756","modified":1701427075886},{"_id":"themes/anzhiyu/source/css/_extra/tag/site.css","hash":"631a068d827a84a46fa03282b4ca38936c4bc4f3","modified":1701427076025},{"_id":"themes/anzhiyu/source/css/_extra/runtime/runtime.css","hash":"7fd033212b0dcdb06ca7f7a83343ea1b6044d59c","modified":1701427075935},{"_id":"themes/anzhiyu/source/css/_extra/tag/link.css","hash":"dbc87df28d7dfa366ab3c91ac61967ac48d7877c","modified":1701427076009},{"_id":"themes/anzhiyu/source/css/_highlight/highlight/diff.styl","hash":"cf1fae641c927621a4df1be5ca4a853b9b526e23","modified":1701427076144},{"_id":"themes/anzhiyu/source/css/_extra/single_card/single_card.css","hash":"1559219f059389933e435dd081af5e6e17ef4b75","modified":1701427075960},{"_id":"themes/anzhiyu/source/css/_highlight/highlight/index.styl","hash":"a097508cf229a100eb358431c7cea86dbc0ea9a5","modified":1701427076157},{"_id":"themes/anzhiyu/source/css/_highlight/prismjs/diff.styl","hash":"5972c61f5125068cbe0af279a0c93a54847fdc3b","modified":1701427076180},{"_id":"themes/anzhiyu/source/css/_highlight/prismjs/index.styl","hash":"7751de787861a9b45cf3879fb18601abc8935bde","modified":1701427076194},{"_id":"themes/anzhiyu/source/css/_highlight/prismjs/line-number.styl","hash":"8970cc1916c982b64a1478792b2822d1d31e276d","modified":1701427076209},{"_id":"themes/anzhiyu/source/img/weixin.png","hash":"6c529ce1002a6e675813ac89ced5b37a0a592779","modified":1701434682946},{"_id":"themes/anzhiyu/source/img/zhifubao.jpg","hash":"13bce0db779da0bc6e9734ad2f950f2599753a55","modified":1701434727185},{"_id":"themes/anzhiyu/source/img/404.jpg","hash":"030b9c7c9d654b3d67c1249a6e5900bf40c79373","modified":1701427077079},{"_id":"themes/anzhiyu/source/img/touxiang.png","hash":"4b288603503185ade6b3c4f2f5303d60a2cdc494","modified":1701434262723},{"_id":"themes/anzhiyu/source/img/friend_404.gif","hash":"4c0a482bce3710942aff900d62c48333827e5a53","modified":1701427077191},{"_id":"themes/anzhiyu/source/img/loading.gif","hash":"b9e8d78b86bc48d565e26c8c1ea275c2c758fb0d","modified":1701427077215},{"_id":"public/anzhiyu/random.js","hash":"0f4b02feb3c2cb5f9b4e1fbe0cba4a0b5c9aa13c","modified":1702973453019},{"_id":"public/categories/index.html","hash":"b0829155b54141aa7c202cbdb23c576d097776ec","modified":1702973453019},{"_id":"public/tags/index.html","hash":"beee61930889f4cff1a0d6950759bd54132e194d","modified":1702973453019},{"_id":"public/2023/12/01/hexo-anzhiyu学习/index.html","hash":"b7c4b151a05efdbab3c97c0b01e41b8de2caf337","modified":1701501433227},{"_id":"public/archives/index.html","hash":"bf2bfdce805b66f4ec660c71318d54e26828af7d","modified":1702973545567},{"_id":"public/404.html","hash":"355364326755e0275dac1ae3ddc924fd047fa01a","modified":1702973545567},{"_id":"public/2023/12/01/hello-world/index.html","hash":"b89697665b52d5d45d05b68ff9d61f61cb738789","modified":1701678641977},{"_id":"public/archives/2023/12/index.html","hash":"3b5844127c48a1450f0f44169c8e75ceabb0628c","modified":1702973545567},{"_id":"public/archives/2023/index.html","hash":"f33b3c970c977dca67f6eb25fe380b9aaaf9a5e2","modified":1702973545567},{"_id":"public/index.html","hash":"b6d92543700287b52658e7ca99571c0efe405b0d","modified":1702973545567},{"_id":"public/images/hello-world-1701430188804.png","hash":"1085603f8a3fd9aa8dd00fd9afcc98e433fe297a","modified":1701436892128},{"_id":"public/favicon.ico","hash":"14310db268ea8d3b2096f434c6e293fc207f5f09","modified":1701436892128},{"_id":"public/img/algolia.svg","hash":"45eeea0b5fba833e21e38ea10ed5ab385ceb4f01","modified":1701436892128},{"_id":"public/img/add-to-list.svg","hash":"31265e9da9b51e3a5e2e4de9398e4884258347e3","modified":1701436892128},{"_id":"public/img/aperture.svg","hash":"919a589007e3d00d191df7804cbfeee3ac2b8458","modified":1701436892128},{"_id":"public/img/512.png","hash":"6988b23a31304d9de45b95a1e7c05dd42024e560","modified":1701436892128},{"_id":"public/img/comment_bg.png","hash":"91612a887446fb436e9151981e2289f2a426a3e5","modified":1701436892128},{"_id":"public/img/favicon.ico","hash":"14310db268ea8d3b2096f434c6e293fc207f5f09","modified":1701436892128},{"_id":"public/img/default_cover.jpg","hash":"455fa65e2736f61ac36360dd4f76fc1ab6a1cdd5","modified":1701436892128},{"_id":"public/img/siteicon/16.png","hash":"8dc6ca32ff1264f7c1c3a8f62727a8c96ea7525b","modified":1701436892128},{"_id":"public/img/siteicon/32.png","hash":"147aae33224066ef2a5987c3cbbfa4309c49cef4","modified":1701436892128},{"_id":"public/img/siteicon/apple-icon-180.png","hash":"7f580ec4819c9ef10b1306102152f4473f037a98","modified":1701436892128},{"_id":"public/img/siteicon/manifest-icon-192.maskable.png","hash":"528b94ebcd34fb55436d64fdda76ef43ccbf031f","modified":1701436892128},{"_id":"public/img/siteicon/manifest-icon-512.maskable.png","hash":"6f8b4b3df8d1498db55a559f7106dc9b6e6af647","modified":1701436892128},{"_id":"public/img/weixin.png","hash":"6c529ce1002a6e675813ac89ced5b37a0a592779","modified":1701436892128},{"_id":"public/img/zhifubao.jpg","hash":"13bce0db779da0bc6e9734ad2f950f2599753a55","modified":1701436892128},{"_id":"public/css/var.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1701436892128},{"_id":"public/js/anzhiyu/ai_abstract.js","hash":"be52eb13a416b18337d3b1142277920072e698c3","modified":1701436892128},{"_id":"public/js/anzhiyu/comment_barrage.js","hash":"1b30f922238f626c6a90ce2705789ba2362a2a9e","modified":1701436892128},{"_id":"public/js/search/algolia.js","hash":"5c2a0d0489c51c6d9e54f5a3b0c6e66a5f649450","modified":1701436892128},{"_id":"public/js/anzhiyu/people.js","hash":"f3d2a3d0c730124d9f64dbf59486145c05a42ac6","modified":1701436892128},{"_id":"public/js/anzhiyu/random_friends_post.js","hash":"1548fdc0a8cb4291bc8793dc8d321c59c097c08e","modified":1701436892128},{"_id":"public/js/anzhiyu/right_click_menu.js","hash":"d605ee0cab24604f97ccef5747bfacaa108645ba","modified":1701436892128},{"_id":"public/js/search/local-search.js","hash":"3ad66c75b4a0fc28a14a5478ee8a19fde72f837f","modified":1701436892128},{"_id":"public/css/index.css","hash":"5305ce9fbabc35370d4450b903e677d4e0785975","modified":1701436892128},{"_id":"public/js/main.js","hash":"754730a48fe170d4c3a802ba52e88706b7b3d696","modified":1701436892128},{"_id":"public/js/tw_cn.js","hash":"6cbec565e98cbd49aa75e6161d8fa996ae3be91a","modified":1701436892128},{"_id":"public/js/utils.js","hash":"2519befd6127526c553d21117efc91a3b4a700f4","modified":1701436892128},{"_id":"public/img/404.jpg","hash":"030b9c7c9d654b3d67c1249a6e5900bf40c79373","modified":1701436892128},{"_id":"public/img/touxiang.png","hash":"4b288603503185ade6b3c4f2f5303d60a2cdc494","modified":1701436892128},{"_id":"public/img/friend_404.gif","hash":"4c0a482bce3710942aff900d62c48333827e5a53","modified":1701436892128},{"_id":"public/img/loading.gif","hash":"b9e8d78b86bc48d565e26c8c1ea275c2c758fb0d","modified":1701436892128},{"_id":"source/images/hexo-anzhiyu学习-1701497363539.png","hash":"30e969a61ec66010cf76fc0d6a93619ce8a21696","modified":1701497364716},{"_id":"themes/anzhiyu/source/img/suanfa.png","hash":"08b529da5e564de42c36f8d2303f3036f81a21d2","modified":1701499185154},{"_id":"public/categories/算法/index.html","hash":"2f9b2b7de2d31240287bcb4efe8fae3eb461a59d","modified":1702973545567},{"_id":"public/tags/就业/index.html","hash":"2ef55badca4b1c61b27b43c6fd6d282ead967d93","modified":1702973545567},{"_id":"public/images/hexo-anzhiyu学习-1701497363539.png","hash":"30e969a61ec66010cf76fc0d6a93619ce8a21696","modified":1701499686472},{"_id":"public/img/suanfa.png","hash":"08b529da5e564de42c36f8d2303f3036f81a21d2","modified":1701499686472},{"_id":"source/_data/about.yml","hash":"0327d2614b9944d2bd83deecbd02dfc2fb439a25","modified":1701760024273},{"_id":"source/_data/album.yml","hash":"df7f03c7f7f8413398d749ecc03f4f6e429908cf","modified":1701501385991},{"_id":"source/_data/equipment.yml","hash":"af92d7c1d6b164d7bed9bd2dc09d375ac4d860cd","modified":1701500883518},{"_id":"source/about/index.md","hash":"f3a995f0e765f26c1dbd5b23189ee6fd384f2a19","modified":1701501100377},{"_id":"source/_data/essay.yml","hash":"b0b406c6a3f9583f176fc32bc9dd1bf614a54200","modified":1702973439064},{"_id":"source/_data/link.yml","hash":"6e13e7cb657f802202f165b8da5cdd4178ffa230","modified":1701500743495},{"_id":"source/album/index.md","hash":"0745a57bd03779c2f82b76ad47abfe157ab6fffd","modified":1701501346831},{"_id":"source/essay/index.md","hash":"c907700f13e501ca5599abbc14a6700c68e61631","modified":1701501406324},{"_id":"source/equipment/index.md","hash":"e7cd7a7bbaee99b6a2d6ac0c0ddffc203825a371","modified":1701500868855},{"_id":"source/fcircle/index.md","hash":"2acaf9023dad5d8b3c9b12d58f95309b4aa5a193","modified":1701501258587},{"_id":"source/json/music.json","hash":"c1d46df151b6c4a006b31f9f73e83d80b651e97e","modified":1701501208085},{"_id":"source/link/index.md","hash":"b9ea8fdca6b08086c30c637e7fb571a92729967a","modified":1701500420516},{"_id":"source/music/index.md","hash":"de15ab0901b3d207cbd041fe6a9d358363a3fc36","modified":1701501158821},{"_id":"public/json/music.json","hash":"305c37be063d582110889b657bebcb66c0122252","modified":1701501433227},{"_id":"public/about/index.html","hash":"f063dd85a67c06b8545f77dab2236e2c9dfdfc54","modified":1702973453019},{"_id":"public/equipment/index.html","hash":"18e4f4cf612975f93c6c2dc027c4a4922bf9cc63","modified":1702973453019},{"_id":"public/album/index.html","hash":"b7c4f1710ce13e4dc9b230876376079ed48fba8f","modified":1702973453019},{"_id":"public/essay/index.html","hash":"e093822d8526996d786ff816326f71638b7b68ee","modified":1702973453019},{"_id":"public/fcircle/index.html","hash":"22a1fcf4b182522c2a717602068ca727b092f2c4","modified":1702973453019},{"_id":"public/music/index.html","hash":"6ab9aad89d7910e606139aaf17403edc23f1fb48","modified":1702973453019},{"_id":"public/link/index.html","hash":"3e46b9f8ec54eb1cc0237f1c6e02b8c909527d7d","modified":1702973453019},{"_id":"public/bangumis/index.html","hash":"75f64cf09d044d635a199260285399fdb97f27d2","modified":1702973545567},{"_id":"public/comments/index.html","hash":"93b02f2fbddce7508bcaae503c442d6cf96a1df8","modified":1702973545567},{"_id":"themes/anzhiyu/source/img/github.png","hash":"eb8993b33467b067e3475e1cf8b630f392921cae","modified":1701678376366},{"_id":"public/img/github.png","hash":"eb8993b33467b067e3475e1cf8b630f392921cae","modified":1701678423970},{"_id":"public/2023/09/01/hexo-anzhiyu学习/index.html","hash":"5f17aae6a0510a7bad41d0087b3d57bc8a30d217","modified":1702973545567},{"_id":"public/archives/2023/09/index.html","hash":"9d4959e6a61afb7c72c6341bd9f0e47436b85749","modified":1702973545567},{"_id":"source/_posts/docker常用命令合集.md","hash":"3b71af10c6a56630cab082deb7ce74970443565e","modified":1701831452240},{"_id":"themes/anzhiyu/source/img/houduan.png","hash":"f8c9f674d4890fc80593a4dcadbbc87b46836a8d","modified":1701679176191},{"_id":"themes/anzhiyu/source/img/qianduan.png","hash":"afc93e1a6ad749a544c649ad229242f7862cb2a4","modified":1701679204542},{"_id":"public/2023/12/04/docker常用命令合集/index.html","hash":"b89d582ef5b8227a71f4b797656c336c67540423","modified":1701760855241},{"_id":"public/img/houduan.png","hash":"f8c9f674d4890fc80593a4dcadbbc87b46836a8d","modified":1701679438511},{"_id":"public/img/qianduan.png","hash":"afc93e1a6ad749a544c649ad229242f7862cb2a4","modified":1701679438511},{"_id":"source/images/docker常用命令合集-1701679704149.png","hash":"70a8abc2616c214efc39c91b513a95b29c92ca0d","modified":1701679705923},{"_id":"source/images/docker常用命令合集-1701679683733.png","hash":"5cd94ee49cc70a5e23f8edcee5247c86c76f06f3","modified":1701679688352},{"_id":"source/images/docker常用命令合集-1701679717546.png","hash":"333a5607dab6b731a997f7ae3bb89ac12407c3e9","modified":1701679719287},{"_id":"public/images/docker常用命令合集-1701679704149.png","hash":"70a8abc2616c214efc39c91b513a95b29c92ca0d","modified":1701679734901},{"_id":"public/images/docker常用命令合集-1701679683733.png","hash":"5cd94ee49cc70a5e23f8edcee5247c86c76f06f3","modified":1701679734901},{"_id":"public/images/docker常用命令合集-1701679717546.png","hash":"333a5607dab6b731a997f7ae3bb89ac12407c3e9","modified":1701679734901},{"_id":"source/_posts/CSS之At-rules.md","hash":"716c5ae887b8b3e079e356806f1c7ac17dc15a6a","modified":1701831452279},{"_id":"source/_posts/回溯——排列、组合、子集.md","hash":"bb27cb5aa14684a47b86b86a7a1d5705a94695a5","modified":1701831452296},{"_id":"source/_posts/images/CSS之At-rules-1701680236420.png","hash":"d78d693fdfd8b6662128f960344cc5532964ff55","modified":1701680238619},{"_id":"source/_posts/umi-max的简易数据流方案.md","hash":"4c543d3671362c8f00be02126bfcd003b09863bd","modified":1701831452186},{"_id":"source/_posts/回溯——flood-fill、字符串.md","hash":"a42e4bd44eaecc63a28a59df1f404bf338cd97dd","modified":1701831452288},{"_id":"source/_posts/images/umi-max的简易数据流方案-1701680121582.png","hash":"452ed218f4ba044df537a591b0b6d828463cf23e","modified":1701680123203},{"_id":"source/_posts/images/umi-max的简易数据流方案-1701680109557.png","hash":"3dd5d768fee172fefa37f824ab4272554a961986","modified":1701680111146},{"_id":"source/_posts/images/CSS之At-rules-1701680245005.png","hash":"ced04f82d31f865cc8525821c7102a117fd84851","modified":1701680246638},{"_id":"source/_posts/images/CSS之At-rules-1701680251744.png","hash":"ced04f82d31f865cc8525821c7102a117fd84851","modified":1701680253025},{"_id":"public/2023/12/04/umi-max的简易数据流方案/index.html","hash":"acff01f7e0feb404b70114230c7c4e2bd49565f8","modified":1701760855241},{"_id":"public/2023/12/04/CSS之At-rules/index.html","hash":"a99efc0559abdacfe844d1deb0771eab3da890a6","modified":1701760855241},{"_id":"public/2023/12/04/回溯——flood-fill、字符串/index.html","hash":"364991ee9a4727b0e788dc431a68ca6a07390f00","modified":1701760855241},{"_id":"public/2023/12/04/回溯——排列、组合、子集/index.html","hash":"b6581305e143120a66b40cc561f6e95320e76507","modified":1701760855241},{"_id":"public/categories/前端/index.html","hash":"66e5bc99296e128d3a92ce6ecc1403c66202e61f","modified":1702973545567},{"_id":"public/categories/docker/index.html","hash":"24044f881cc2f94518f721edb9158ef613ad5270","modified":1702973545567},{"_id":"public/tags/css/index.html","hash":"2831d149d4a0c00a7929b2670a56bd2142a99eb8","modified":1702973545567},{"_id":"public/tags/docker/index.html","hash":"e76389040510f7bb3bceb621c5bb6f8345cc51e4","modified":1702973545567},{"_id":"source/images/umi-max的简易数据流方案-1701680109557.png","hash":"3dd5d768fee172fefa37f824ab4272554a961986","modified":1701680111146},{"_id":"source/images/umi-max的简易数据流方案-1701680121582.png","hash":"452ed218f4ba044df537a591b0b6d828463cf23e","modified":1701680123203},{"_id":"source/images/CSS之At-rules-1701680236420.png","hash":"d78d693fdfd8b6662128f960344cc5532964ff55","modified":1701680238619},{"_id":"source/images/CSS之At-rules-1701680245005.png","hash":"ced04f82d31f865cc8525821c7102a117fd84851","modified":1701680246638},{"_id":"source/images/CSS之At-rules-1701680251744.png","hash":"ced04f82d31f865cc8525821c7102a117fd84851","modified":1701680253025},{"_id":"public/images/CSS之At-rules-1701680236420.png","hash":"d78d693fdfd8b6662128f960344cc5532964ff55","modified":1701680387017},{"_id":"public/images/umi-max的简易数据流方案-1701680121582.png","hash":"452ed218f4ba044df537a591b0b6d828463cf23e","modified":1701680387017},{"_id":"public/images/umi-max的简易数据流方案-1701680109557.png","hash":"3dd5d768fee172fefa37f824ab4272554a961986","modified":1701680387017},{"_id":"public/images/CSS之At-rules-1701680251744.png","hash":"ced04f82d31f865cc8525821c7102a117fd84851","modified":1701680387017},{"_id":"public/images/CSS之At-rules-1701680245005.png","hash":"ced04f82d31f865cc8525821c7102a117fd84851","modified":1701680387017},{"_id":"source/images/回溯——排列、组合、子集-1701680799652.png","hash":"09ed4c26237d90aeb124a4902e305da53828f25f","modified":1701680801938},{"_id":"source/images/回溯——排列、组合、子集-1701680779347.png","hash":"cd0414a307e1d13b1ccdacabc047c401ec216672","modified":1701680781112},{"_id":"source/images/回溯——排列、组合、子集-1701680842452.png","hash":"2dbd7116cbc30575e30c5219607dd43f330f16b2","modified":1701680843961},{"_id":"source/images/回溯——排列、组合、子集-1701680751840.png","hash":"eb01e2b639e0f58561b89efb93b8a0fc7b12b837","modified":1701680752661},{"_id":"source/images/回溯——排列、组合、子集-1701680821919.png","hash":"9d7369f93cd078da7ed1ded2cd90bb2a0cbd4e91","modified":1701680823477},{"_id":"source/images/回溯——排列、组合、子集-1701680879514.png","hash":"b6bd490b66ed5cc6f9a91c52e69c6427a13b7a50","modified":1701680881046},{"_id":"source/images/回溯——排列、组合、子集-1701680859373.png","hash":"61db1a14c660f372f7d4e8e449541de32902721d","modified":1701680860970},{"_id":"public/images/回溯——排列、组合、子集-1701680799652.png","hash":"09ed4c26237d90aeb124a4902e305da53828f25f","modified":1701680911057},{"_id":"public/images/回溯——排列、组合、子集-1701680842452.png","hash":"2dbd7116cbc30575e30c5219607dd43f330f16b2","modified":1701680911057},{"_id":"public/images/回溯——排列、组合、子集-1701680779347.png","hash":"cd0414a307e1d13b1ccdacabc047c401ec216672","modified":1701680911057},{"_id":"public/images/回溯——排列、组合、子集-1701680751840.png","hash":"eb01e2b639e0f58561b89efb93b8a0fc7b12b837","modified":1701680911057},{"_id":"public/images/回溯——排列、组合、子集-1701680821919.png","hash":"9d7369f93cd078da7ed1ded2cd90bb2a0cbd4e91","modified":1701680911057},{"_id":"public/images/回溯——排列、组合、子集-1701680879514.png","hash":"b6bd490b66ed5cc6f9a91c52e69c6427a13b7a50","modified":1701680911057},{"_id":"public/images/回溯——排列、组合、子集-1701680859373.png","hash":"61db1a14c660f372f7d4e8e449541de32902721d","modified":1701680911057},{"_id":"source/_posts/images/回溯——flood-fill、字符串-1701681216686.png","hash":"e311b25b531db8d3f12bc9c9c6d0c77269509818","modified":1701681218590},{"_id":"source/_posts/images/回溯——flood-fill、字符串-1701681234910.png","hash":"0077768a5af7c1a0fc9ef5fbb90c48079551c283","modified":1701681236044},{"_id":"source/_posts/images/回溯——flood-fill、字符串-1701681281060.png","hash":"9e256fcfb729c7bb55ce0a4a15c99bfca62f6f58","modified":1701681282309},{"_id":"source/_posts/images/回溯——flood-fill、字符串-1701681257321.png","hash":"58ff260dd84c1388c486579cefaf64662469a207","modified":1701681258373},{"_id":"source/_posts/images/回溯——flood-fill、字符串-1701681314905.png","hash":"38bd6ec253e1409934995531d9a5cf0f716b766d","modified":1701681316024},{"_id":"source/_posts/images/回溯——flood-fill、字符串-1701681296977.png","hash":"a555bc2ba24dae2c7015df8e2307c6cae999e95d","modified":1701681298931},{"_id":"source/_posts/images/回溯——flood-fill、字符串-1701681338321.png","hash":"75af7e87ac82175fbacbb8ef1e180c421ca407be","modified":1701681339453},{"_id":"source/_posts/images/回溯——flood-fill、字符串-1701681356056.png","hash":"2818d2320d361ab202888ef56a06b7b38919bd75","modified":1701681357255},{"_id":"source/_posts/images/回溯——flood-fill、字符串-1701680995740.png","hash":"3762c708567d7f91f89fa36598c005977db6dd6b","modified":1701680997280},{"_id":"source/images/回溯——flood-fill、字符串-1701681216686.png","hash":"e311b25b531db8d3f12bc9c9c6d0c77269509818","modified":1701681218590},{"_id":"source/images/回溯——flood-fill、字符串-1701681234910.png","hash":"0077768a5af7c1a0fc9ef5fbb90c48079551c283","modified":1701681236044},{"_id":"source/images/回溯——flood-fill、字符串-1701681281060.png","hash":"9e256fcfb729c7bb55ce0a4a15c99bfca62f6f58","modified":1701681282309},{"_id":"source/images/回溯——flood-fill、字符串-1701681257321.png","hash":"58ff260dd84c1388c486579cefaf64662469a207","modified":1701681258373},{"_id":"source/images/回溯——flood-fill、字符串-1701681296977.png","hash":"a555bc2ba24dae2c7015df8e2307c6cae999e95d","modified":1701681298931},{"_id":"source/images/回溯——flood-fill、字符串-1701681314905.png","hash":"38bd6ec253e1409934995531d9a5cf0f716b766d","modified":1701681316024},{"_id":"source/images/回溯——flood-fill、字符串-1701681356056.png","hash":"2818d2320d361ab202888ef56a06b7b38919bd75","modified":1701681357255},{"_id":"source/images/回溯——flood-fill、字符串-1701681338321.png","hash":"75af7e87ac82175fbacbb8ef1e180c421ca407be","modified":1701681339453},{"_id":"source/images/回溯——flood-fill、字符串-1701680995740.png","hash":"3762c708567d7f91f89fa36598c005977db6dd6b","modified":1701680997280},{"_id":"public/categories/后端/index.html","hash":"210c9849c53c9d062d3d30a2d15b7f4f78ebf0cc","modified":1702973545567},{"_id":"public/tags/umi/index.html","hash":"3c3a60d98050567804f40bc30be10de0bbb7acb0","modified":1702973545567},{"_id":"public/images/回溯——flood-fill、字符串-1701681216686.png","hash":"e311b25b531db8d3f12bc9c9c6d0c77269509818","modified":1701681947358},{"_id":"public/images/回溯——flood-fill、字符串-1701681234910.png","hash":"0077768a5af7c1a0fc9ef5fbb90c48079551c283","modified":1701681947358},{"_id":"public/images/回溯——flood-fill、字符串-1701681281060.png","hash":"9e256fcfb729c7bb55ce0a4a15c99bfca62f6f58","modified":1701681947358},{"_id":"public/images/回溯——flood-fill、字符串-1701681338321.png","hash":"75af7e87ac82175fbacbb8ef1e180c421ca407be","modified":1701681947358},{"_id":"public/images/回溯——flood-fill、字符串-1701681257321.png","hash":"58ff260dd84c1388c486579cefaf64662469a207","modified":1701681947358},{"_id":"public/images/回溯——flood-fill、字符串-1701681296977.png","hash":"a555bc2ba24dae2c7015df8e2307c6cae999e95d","modified":1701681947358},{"_id":"public/images/回溯——flood-fill、字符串-1701681356056.png","hash":"2818d2320d361ab202888ef56a06b7b38919bd75","modified":1701681947358},{"_id":"public/images/回溯——flood-fill、字符串-1701680995740.png","hash":"3762c708567d7f91f89fa36598c005977db6dd6b","modified":1701681947358},{"_id":"public/images/回溯——flood-fill、字符串-1701681314905.png","hash":"38bd6ec253e1409934995531d9a5cf0f716b766d","modified":1701681947358},{"_id":"source/_posts/mysql小记.md","hash":"71dc0e024ef8a796edba8c6b77779ea7bcf045d8","modified":1701963241762},{"_id":"source/_posts/next-js实战.md","hash":"cfb858792a2f9119eb1fead06bda6fbf75b4de46","modified":1701831452248},{"_id":"source/_posts/redis在springboot项目中的使用.md","hash":"f00b03d5c96f6cbd3bff68633648f93ffee66622","modified":1701831452179},{"_id":"source/images/mysql小记-1701744076874.png","hash":"4a46137f79d0ef33d17985a0f56252c21e0741ec","modified":1701744078076},{"_id":"source/images/mysql小记-1701744087281.png","hash":"17d65a2a92996a3a533a62cff07f421cfc0cdf54","modified":1701744088463},{"_id":"source/images/mysql小记-1701744094831.png","hash":"86be3a1104a50ce91492a3d5483ce1bc8a40b1d9","modified":1701744095875},{"_id":"source/images/mysql小记-1701744101965.png","hash":"b869a6872e598bd53fa165a16852a9827ebe18e8","modified":1701744102881},{"_id":"source/images/next-js实战-1701744267906.png","hash":"a08ea9ad42023ac0767cc6ef859423ec93c9f611","modified":1701744268947},{"_id":"source/images/mysql小记-1701744061305.png","hash":"05cc480e312ce41b354d5176020da391be024ced","modified":1701744062598},{"_id":"source/images/mysql小记-1701744069648.png","hash":"8aaaa1bea9b95a9a35553cdd308681b11b989550","modified":1701744070782},{"_id":"source/images/mysql小记-1701744109641.png","hash":"b5b809ae8e7ebf2c39f76163d19ff431378af5de","modified":1701744110889},{"_id":"source/images/mysql小记-1701744118087.png","hash":"e24f9fe410282bc10326acf7b6a36122ee3d1b2c","modified":1701744119262},{"_id":"source/images/mysql小记-1701744154056.png","hash":"13e996b6eef979d6e7010cced004710e5dfd5b76","modified":1701744155081},{"_id":"source/images/next-js实战-1701744261397.png","hash":"0eb34c91edb569d1643fea93ed7c35fc021fc060","modified":1701744262624},{"_id":"source/images/mysql小记-1701744131762.png","hash":"66c3049bdcd2f4e36aaff10f8e0ac957754334c0","modified":1701744132796},{"_id":"source/images/mysql小记-1701744145264.png","hash":"542b5e68320260ebbf2be64eae2972ecbfd12f47","modified":1701744146238},{"_id":"source/images/mysql小记-1701744125502.png","hash":"3e5c97de6a566ff8cc75692a91482c076016701e","modified":1701744126610},{"_id":"source/images/mysql小记-1701744163753.png","hash":"9cb08d92fdf81e05ca8a3e1fcede52d476ee4079","modified":1701744165817},{"_id":"source/images/mysql小记-1701744138342.png","hash":"529a71e4d43932114cb20dd2956571350062df88","modified":1701744139336},{"_id":"public/2023/12/05/next-js实战/index.html","hash":"9965beb0485605d1487643e171a53d3e2abb0841","modified":1701760855241},{"_id":"public/2023/12/05/redis在springboot项目中的使用/index.html","hash":"bbabc140f9256ae3387ef960bc5b004697ea7cff","modified":1701760855241},{"_id":"public/2023/12/05/mysql小记/index.html","hash":"fb99ca91b7d4eabadade321c97aedc8046ae8567","modified":1702973545567},{"_id":"public/tags/mysql-面试-就业/index.html","hash":"66e2df15c8191255669c3f9ac5ea16ac84ae9b86","modified":1701745249595},{"_id":"public/tags/next-js-前端/index.html","hash":"f181cd8aa70d7f05540a9eb1681dc2da59439047","modified":1701744537357},{"_id":"public/tags/springboot-redis/index.html","hash":"ca87d9b245d052ae9557376135a68e4aac9c2278","modified":1701745249595},{"_id":"public/images/mysql小记-1701744076874.png","hash":"4a46137f79d0ef33d17985a0f56252c21e0741ec","modified":1701744381093},{"_id":"public/images/mysql小记-1701744087281.png","hash":"17d65a2a92996a3a533a62cff07f421cfc0cdf54","modified":1701744381093},{"_id":"public/images/mysql小记-1701744094831.png","hash":"86be3a1104a50ce91492a3d5483ce1bc8a40b1d9","modified":1701744381093},{"_id":"public/images/mysql小记-1701744101965.png","hash":"b869a6872e598bd53fa165a16852a9827ebe18e8","modified":1701744381093},{"_id":"public/images/mysql小记-1701744061305.png","hash":"05cc480e312ce41b354d5176020da391be024ced","modified":1701744381093},{"_id":"public/images/mysql小记-1701744069648.png","hash":"8aaaa1bea9b95a9a35553cdd308681b11b989550","modified":1701744381093},{"_id":"public/images/next-js实战-1701744267906.png","hash":"a08ea9ad42023ac0767cc6ef859423ec93c9f611","modified":1701744381093},{"_id":"public/images/mysql小记-1701744109641.png","hash":"b5b809ae8e7ebf2c39f76163d19ff431378af5de","modified":1701744381093},{"_id":"public/images/mysql小记-1701744118087.png","hash":"e24f9fe410282bc10326acf7b6a36122ee3d1b2c","modified":1701744381093},{"_id":"public/images/mysql小记-1701744154056.png","hash":"13e996b6eef979d6e7010cced004710e5dfd5b76","modified":1701744381093},{"_id":"public/images/next-js实战-1701744261397.png","hash":"0eb34c91edb569d1643fea93ed7c35fc021fc060","modified":1701744381093},{"_id":"public/images/mysql小记-1701744131762.png","hash":"66c3049bdcd2f4e36aaff10f8e0ac957754334c0","modified":1701744381093},{"_id":"public/images/mysql小记-1701744125502.png","hash":"3e5c97de6a566ff8cc75692a91482c076016701e","modified":1701744381093},{"_id":"public/images/mysql小记-1701744145264.png","hash":"542b5e68320260ebbf2be64eae2972ecbfd12f47","modified":1701744381093},{"_id":"public/images/mysql小记-1701744163753.png","hash":"9cb08d92fdf81e05ca8a3e1fcede52d476ee4079","modified":1701744381093},{"_id":"public/images/mysql小记-1701744138342.png","hash":"529a71e4d43932114cb20dd2956571350062df88","modified":1701744381093},{"_id":"public/tags/mysql、面试、就业/index.html","hash":"11d441ff08a4ccd91c9ffbcfc18fd47ac37d7b4d","modified":1701744537357},{"_id":"public/tags/next-js-react/index.html","hash":"ed04c2a351faaee00ac6408918843649fd829491","modified":1701745249595},{"_id":"public/tags/就业-回溯-刷题/index.html","hash":"815b4abdc952243f63173102b4755b7ba5a31b9c","modified":1701745103888},{"_id":"public/tags/就业-刷题-回溯/index.html","hash":"1614cfe1b489a9dc56d167712935b94e6564965a","modified":1701745249595},{"_id":"public/tags/docker-云原生/index.html","hash":"2422544841c5cc7d3d06df057ebae6012fd842e5","modified":1701745592196},{"_id":"public/tags/umi-react/index.html","hash":"6b265920f5928f6dab26bb00dd943bcdd2f1b6ef","modified":1701745249595},{"_id":"public/tags/回溯/index.html","hash":"b623717df4af409ab41a5f4aa0309594c5ad964a","modified":1702973545567},{"_id":"public/tags/刷题/index.html","hash":"09e8f152d0e110750bdf366bddba5d02e572f0ff","modified":1702973545567},{"_id":"public/tags/springboot/index.html","hash":"059c514c08f2ba37b02b06c4606d13ed2e3affb7","modified":1702973545567},{"_id":"public/tags/redis/index.html","hash":"2b8f446577958e3b30dd4a4338b58721d64ffe50","modified":1702973545567},{"_id":"public/tags/react/index.html","hash":"9e97cf001c0d4ea0a86936957c31a61daeb3d555","modified":1702973545567},{"_id":"public/tags/mysql/index.html","hash":"9bb9c9def3bfd3a3c8bcf9a97df0c8bb2d002f00","modified":1702973545567},{"_id":"public/tags/next-js/index.html","hash":"f99737b319947518382ad838aaf6d90931f2f570","modified":1702973545567},{"_id":"public/tags/面试/index.html","hash":"96371640fb3403f7cfbfbb2622147296f669dcfe","modified":1702973545567},{"_id":"public/tags/云原生/index.html","hash":"cb807924713969edbebf67581724666cb4ae5637","modified":1702973545567},{"_id":"source/_data/bangumis.json","hash":"9e6cf45ad264bf88441cd57c378430d658051a4a","modified":1701761978349},{"_id":"themes/anzhiyu/source/img/yunyuansheng.png","hash":"fc2cad5e572a2cbd3bedc591a30f024819b117cb","modified":1701748751839},{"_id":"public/img/yunyuansheng.png","hash":"fc2cad5e572a2cbd3bedc591a30f024819b117cb","modified":1701748831193},{"_id":"source/_posts/http请求内容详解.md","hash":"f43ae71c7b31e8bcb0dc5b984e325ce7c2346eb8","modified":1701831452218},{"_id":"source/_posts/spring-cloud-starter-oauth2-securit-jwt微服务实战.md","hash":"af07161348e5b0c28ab556e1dd1c1744d57d1798","modified":1701831452125},{"_id":"source/_posts/react-markdown踩坑实记.md","hash":"bc46f4747261e8ac8181ab25cb1a8c8fe12ab500","modified":1701831452211},{"_id":"source/_posts/springcloud-gateway初体验.md","hash":"ca85f68d6d6a1ce551aff454391f14311c24ca1a","modified":1701831452271},{"_id":"source/_posts/images/http请求内容详解-1701757614367.png","hash":"3518c330186be1d4fd54f6d354f60b6692b3b920","modified":1701757615109},{"_id":"source/_posts/前端http请求发送详解.md","hash":"3cb6616218a6dbe9f11d8f8531c86417f03a002d","modified":1701831452156},{"_id":"source/_posts/名片创作.md","hash":"35290e2746bff1109f8a496690f1732e48ad9d93","modified":1702879259287},{"_id":"source/_posts/images/springcloud-gateway初体验-1701757449291.png","hash":"4adf4732e85f0a86b041bc637207fbc1b9041b62","modified":1701757450281},{"_id":"source/_posts/images/springcloud-gateway初体验-1701757517086.png","hash":"8d1d29f54a9da5c4ef2c3ca8bdcbf707064b5089","modified":1701757518017},{"_id":"source/_posts/images/springcloud-gateway初体验-1701757523867.png","hash":"3048d1d2a01932f7819c883760ae625203c19d44","modified":1701757524701},{"_id":"source/_posts/images/springcloud-gateway初体验-1701757506021.png","hash":"e3a40193fd2eee5c283fa6dd7ad3cfaea1885ba1","modified":1701757507346},{"_id":"source/_posts/images/springcloud-gateway初体验-1701757512055.png","hash":"b940cdde3bc5f9954e002424a93613143b36220c","modified":1701757513011},{"_id":"source/_posts/images/名片创作-1701757118115.png","hash":"c5525e0cae5aa1b46165a61d6f0798e29a9c7f50","modified":1701757119519},{"_id":"source/_posts/images/名片创作-1701757134734.png","hash":"ac09108ac9dab92d3e6e4d31699cfa105b4314c4","modified":1701757135541},{"_id":"source/_posts/images/springcloud-gateway初体验-1701757469772.png","hash":"e3a40193fd2eee5c283fa6dd7ad3cfaea1885ba1","modified":1701757472127},{"_id":"source/_posts/images/react-markdown踩坑实记-1701757666333.png","hash":"3846d28253ef86f59455a21e4844b400004aed49","modified":1701757667413},{"_id":"source/_posts/images/http请求内容详解-1701757634525.png","hash":"9f1f88013ca00fefb631c7e612c3699cc01df5f0","modified":1701757635314},{"_id":"source/_posts/images/springcloud-gateway初体验-1701757439810.png","hash":"3173d06a1dfd228074f985e02f4afa6edc0333c7","modified":1701757442075},{"_id":"source/_posts/images/名片创作-1701757102187.png","hash":"266d89f26c0bcd9c73f2fd16075a2fa25dfef198","modified":1701757102980},{"_id":"source/_posts/images/名片创作-1701757096669.png","hash":"33101213ca42a5645a2fa2e64ab18bb6379bb248","modified":1701757097680},{"_id":"source/_posts/images/名片创作-1701757127095.png","hash":"ed37496faedf821b9eb6c4bebd96e361a677d068","modified":1701757128041},{"_id":"source/_posts/images/名片创作-1701757110488.png","hash":"685fbf47636e526426b5ab418f52c8d76a6f78cc","modified":1701757111519},{"_id":"source/_posts/images/名片创作-1701757146672.png","hash":"34fb450411306abdf2f590a4c2030a959ae46540","modified":1701757147525},{"_id":"source/_posts/images/名片创作-1701757141855.png","hash":"f7a4aedc1f3f70fab204b061334cfd8d0efdaa9f","modified":1701757142818},{"_id":"source/_posts/images/http请求内容详解-1701757625731.png","hash":"9e4db4a4a50042e9db48ae012b4b17635bd1da65","modified":1701757629891},{"_id":"source/_posts/images/http请求内容详解-1701757620332.png","hash":"9e4db4a4a50042e9db48ae012b4b17635bd1da65","modified":1701757621107},{"_id":"source/_posts/images/react-markdown踩坑实记-1701757671966.png","hash":"c46d2646e432609ff6022c86bbea8ca8d272f4be","modified":1701757673023},{"_id":"source/_posts/images/http请求内容详解-1701757597107.png","hash":"30656a521c3c3dc4c136c446386ec74ee8f21e21","modified":1701757601932},{"_id":"source/_posts/images/springcloud-gateway初体验-1701757454579.png","hash":"b3559dd9adb519b23f7691a6c64d8c2570175fa7","modified":1701757455600},{"_id":"source/_posts/images/springcloud-gateway初体验-1701757498800.png","hash":"b3559dd9adb519b23f7691a6c64d8c2570175fa7","modified":1701757500001},{"_id":"public/2023/12/05/前端http请求发送详解/index.html","hash":"3bde44e02368869e209bfda350f4462837822962","modified":1701760855241},{"_id":"public/2023/12/05/http请求内容详解/index.html","hash":"01c2f5934e8b5acfb25ac20d72a444d4c5ecc991","modified":1701760855241},{"_id":"public/2023/12/05/springcloud-gateway初体验/index.html","hash":"ab2ac321951df4f80ecf646f2cc342d47b7307b8","modified":1701760855241},{"_id":"public/2023/12/05/spring-cloud-starter-oauth2-securit-jwt微服务实战/index.html","hash":"193f3eb2ca26ce4d43c539c86ed995c6a8d4c472","modified":1701760855241},{"_id":"public/2023/12/05/react-markdown踩坑实记/index.html","hash":"fc2e78c3013926ccd236f9dc276e2123430c48b0","modified":1701760855241},{"_id":"public/2023/12/05/名片创作/index.html","hash":"a110954c09fe3898c639d728aba5bcf546ff8f66","modified":1701760855241},{"_id":"public/archives/page/2/index.html","hash":"0158a58086a62df0177cb16f5e19e9516cb0944e","modified":1702973545567},{"_id":"public/archives/2023/page/2/index.html","hash":"9a491bc7f3a11f9e5a99c20fa27c8bafed534730","modified":1702973545567},{"_id":"public/archives/2023/12/page/2/index.html","hash":"d358c5488b7fbcacab870073bb379266ee5bbdb8","modified":1701761192638},{"_id":"public/page/2/index.html","hash":"dce01bbe0fe34a6c0d2628c2492e3ded73a318c7","modified":1702973545567},{"_id":"public/tags/http/index.html","hash":"10fff0daf89034aadf3630d0b8f7d83b7b298beb","modified":1702973545567},{"_id":"public/tags/前端/index.html","hash":"9dc7a9f6ed1f9397667167bd782952e4a3e5c843","modified":1702973545567},{"_id":"public/tags/后端/index.html","hash":"cd191f0b56d5077415c1ff35686bbdbeb0828273","modified":1702973545567},{"_id":"public/tags/springcloud/index.html","hash":"c44ba16906c089e04cafd6b4a73f41b6bb3615ca","modified":1702973545567},{"_id":"public/tags/springsecurity/index.html","hash":"78b87b297fce7936ad5dca37ddd373f6b107e779","modified":1702973545567},{"_id":"public/tags/gateway/index.html","hash":"03f8ef9dcc9425366c7d1904ac3b2f83f17cf072","modified":1702973545567},{"_id":"source/images/http请求内容详解-1701757614367.png","hash":"3518c330186be1d4fd54f6d354f60b6692b3b920","modified":1701757615109},{"_id":"source/images/springcloud-gateway初体验-1701757449291.png","hash":"4adf4732e85f0a86b041bc637207fbc1b9041b62","modified":1701757450281},{"_id":"source/images/springcloud-gateway初体验-1701757469772.png","hash":"e3a40193fd2eee5c283fa6dd7ad3cfaea1885ba1","modified":1701757472127},{"_id":"source/images/springcloud-gateway初体验-1701757512055.png","hash":"b940cdde3bc5f9954e002424a93613143b36220c","modified":1701757513011},{"_id":"source/images/springcloud-gateway初体验-1701757517086.png","hash":"8d1d29f54a9da5c4ef2c3ca8bdcbf707064b5089","modified":1701757518017},{"_id":"source/images/springcloud-gateway初体验-1701757506021.png","hash":"e3a40193fd2eee5c283fa6dd7ad3cfaea1885ba1","modified":1701757507346},{"_id":"source/images/springcloud-gateway初体验-1701757523867.png","hash":"3048d1d2a01932f7819c883760ae625203c19d44","modified":1701757524701},{"_id":"source/images/名片创作-1701757118115.png","hash":"c5525e0cae5aa1b46165a61d6f0798e29a9c7f50","modified":1701757119519},{"_id":"source/images/名片创作-1701757134734.png","hash":"ac09108ac9dab92d3e6e4d31699cfa105b4314c4","modified":1701757135541},{"_id":"source/images/http请求内容详解-1701757634525.png","hash":"9f1f88013ca00fefb631c7e612c3699cc01df5f0","modified":1701757635314},{"_id":"source/images/springcloud-gateway初体验-1701757439810.png","hash":"3173d06a1dfd228074f985e02f4afa6edc0333c7","modified":1701757442075},{"_id":"source/images/react-markdown踩坑实记-1701757666333.png","hash":"3846d28253ef86f59455a21e4844b400004aed49","modified":1701757667413},{"_id":"source/images/名片创作-1701757102187.png","hash":"266d89f26c0bcd9c73f2fd16075a2fa25dfef198","modified":1701757102980},{"_id":"source/images/名片创作-1701757096669.png","hash":"33101213ca42a5645a2fa2e64ab18bb6379bb248","modified":1701757097680},{"_id":"source/images/名片创作-1701757110488.png","hash":"685fbf47636e526426b5ab418f52c8d76a6f78cc","modified":1701757111519},{"_id":"source/images/名片创作-1701757127095.png","hash":"ed37496faedf821b9eb6c4bebd96e361a677d068","modified":1701757128041},{"_id":"source/images/名片创作-1701757146672.png","hash":"34fb450411306abdf2f590a4c2030a959ae46540","modified":1701757147525},{"_id":"source/images/名片创作-1701757141855.png","hash":"f7a4aedc1f3f70fab204b061334cfd8d0efdaa9f","modified":1701757142818},{"_id":"source/images/http请求内容详解-1701757620332.png","hash":"9e4db4a4a50042e9db48ae012b4b17635bd1da65","modified":1701757621107},{"_id":"source/images/http请求内容详解-1701757625731.png","hash":"9e4db4a4a50042e9db48ae012b4b17635bd1da65","modified":1701757629891},{"_id":"source/images/react-markdown踩坑实记-1701757671966.png","hash":"c46d2646e432609ff6022c86bbea8ca8d272f4be","modified":1701757673023},{"_id":"source/images/http请求内容详解-1701757597107.png","hash":"30656a521c3c3dc4c136c446386ec74ee8f21e21","modified":1701757601932},{"_id":"source/images/springcloud-gateway初体验-1701757498800.png","hash":"b3559dd9adb519b23f7691a6c64d8c2570175fa7","modified":1701757500001},{"_id":"source/images/springcloud-gateway初体验-1701757454579.png","hash":"b3559dd9adb519b23f7691a6c64d8c2570175fa7","modified":1701757455600},{"_id":"public/images/http请求内容详解-1701757614367.png","hash":"3518c330186be1d4fd54f6d354f60b6692b3b920","modified":1701757763675},{"_id":"public/images/springcloud-gateway初体验-1701757449291.png","hash":"4adf4732e85f0a86b041bc637207fbc1b9041b62","modified":1701757763675},{"_id":"public/images/springcloud-gateway初体验-1701757469772.png","hash":"e3a40193fd2eee5c283fa6dd7ad3cfaea1885ba1","modified":1701757763675},{"_id":"public/images/springcloud-gateway初体验-1701757506021.png","hash":"e3a40193fd2eee5c283fa6dd7ad3cfaea1885ba1","modified":1701757763675},{"_id":"public/images/springcloud-gateway初体验-1701757512055.png","hash":"b940cdde3bc5f9954e002424a93613143b36220c","modified":1701757763675},{"_id":"public/images/springcloud-gateway初体验-1701757523867.png","hash":"3048d1d2a01932f7819c883760ae625203c19d44","modified":1701757763675},{"_id":"public/images/springcloud-gateway初体验-1701757517086.png","hash":"8d1d29f54a9da5c4ef2c3ca8bdcbf707064b5089","modified":1701757763675},{"_id":"public/images/名片创作-1701757118115.png","hash":"c5525e0cae5aa1b46165a61d6f0798e29a9c7f50","modified":1701757763675},{"_id":"public/images/名片创作-1701757134734.png","hash":"ac09108ac9dab92d3e6e4d31699cfa105b4314c4","modified":1701757763675},{"_id":"public/images/http请求内容详解-1701757634525.png","hash":"9f1f88013ca00fefb631c7e612c3699cc01df5f0","modified":1701757763675},{"_id":"public/images/react-markdown踩坑实记-1701757666333.png","hash":"3846d28253ef86f59455a21e4844b400004aed49","modified":1701757763675},{"_id":"public/images/springcloud-gateway初体验-1701757439810.png","hash":"3173d06a1dfd228074f985e02f4afa6edc0333c7","modified":1701757763675},{"_id":"public/images/名片创作-1701757102187.png","hash":"266d89f26c0bcd9c73f2fd16075a2fa25dfef198","modified":1701757763675},{"_id":"public/images/名片创作-1701757110488.png","hash":"685fbf47636e526426b5ab418f52c8d76a6f78cc","modified":1701757763675},{"_id":"public/images/名片创作-1701757096669.png","hash":"33101213ca42a5645a2fa2e64ab18bb6379bb248","modified":1701757763675},{"_id":"public/images/名片创作-1701757127095.png","hash":"ed37496faedf821b9eb6c4bebd96e361a677d068","modified":1701757763675},{"_id":"public/images/名片创作-1701757141855.png","hash":"f7a4aedc1f3f70fab204b061334cfd8d0efdaa9f","modified":1701757763675},{"_id":"public/images/http请求内容详解-1701757620332.png","hash":"9e4db4a4a50042e9db48ae012b4b17635bd1da65","modified":1701757763675},{"_id":"public/images/名片创作-1701757146672.png","hash":"34fb450411306abdf2f590a4c2030a959ae46540","modified":1701757763675},{"_id":"public/images/http请求内容详解-1701757625731.png","hash":"9e4db4a4a50042e9db48ae012b4b17635bd1da65","modified":1701757763675},{"_id":"public/images/react-markdown踩坑实记-1701757671966.png","hash":"c46d2646e432609ff6022c86bbea8ca8d272f4be","modified":1701757763675},{"_id":"public/images/http请求内容详解-1701757597107.png","hash":"30656a521c3c3dc4c136c446386ec74ee8f21e21","modified":1701757763675},{"_id":"public/images/springcloud-gateway初体验-1701757498800.png","hash":"b3559dd9adb519b23f7691a6c64d8c2570175fa7","modified":1701757763675},{"_id":"public/images/springcloud-gateway初体验-1701757454579.png","hash":"b3559dd9adb519b23f7691a6c64d8c2570175fa7","modified":1701757763675},{"_id":"themes/anzhiyu/source/img/locationDark.png","hash":"07206e018e810b326b82cb5e8a0e96cf371d3a69","modified":1701759428183},{"_id":"themes/anzhiyu/source/img/location.png","hash":"ed1f48bfa68e92f4bd5e9d09876a7fcf2bbe7087","modified":1701759372338},{"_id":"public/img/locationDark.png","hash":"07206e018e810b326b82cb5e8a0e96cf371d3a69","modified":1701759469411},{"_id":"public/img/location.png","hash":"ed1f48bfa68e92f4bd5e9d09876a7fcf2bbe7087","modified":1701759469411},{"_id":"themes/anzhiyu/source/img/beautifulImg.jpg","hash":"074f603bc98268a43621adf0eedfba6ddaffbcdf","modified":1701759955150},{"_id":"public/img/beautifulImg.jpg","hash":"074f603bc98268a43621adf0eedfba6ddaffbcdf","modified":1701760000750},{"_id":"themes/anzhiyu/source/img/essayImg/pixabay.png","hash":"02bcf994563c84f66833c6e4300d730957272dbb","modified":1701761079266},{"_id":"public/img/essayImg/pixabay.png","hash":"02bcf994563c84f66833c6e4300d730957272dbb","modified":1701761192638},{"_id":"source/_posts/dp总结篇.md","hash":"25b5ca436970aa2a2235f415d5524880cdaea190","modified":1701955185964},{"_id":"public/2023/12/06/dp总结篇/index.html","hash":"7a2555cfda769032bcb06475c933510986dbbb2f","modified":1702973545567},{"_id":"public/2023/10/05/回溯——排列、组合、子集/index.html","hash":"02a2623fa5c19795f1a8884fa51df453ff625933","modified":1702973545567},{"_id":"public/2023/10/04/回溯——flood-fill、字符串/index.html","hash":"3d3ace4d2bb2dcdac0b9a5cab05dfdade5dde83b","modified":1702973545567},{"_id":"public/2023/08/15/springcloud-gateway初体验/index.html","hash":"3b79d3bc65096d5e0fc03511f0199fb0770e2fd0","modified":1702973545567},{"_id":"public/2023/08/14/spring-cloud-starter-oauth2-securit-jwt微服务实战/index.html","hash":"9c3fd93d579ac68e469dbaa3ab9099ab567c26dd","modified":1702973545567},{"_id":"public/2023/08/13/redis在springboot项目中的使用/index.html","hash":"4f5dab1a9c27e7f02a812f44fead0a26c30d0fb1","modified":1702973545567},{"_id":"public/2023/08/12/react-markdown踩坑实记/index.html","hash":"831c779436c110358caca72d92c7e8d7ba83a1e2","modified":1702973545567},{"_id":"public/2023/08/11/next-js实战/index.html","hash":"03dc364ade2f3768b42f5322e6fae26dfd9c8501","modified":1702973545567},{"_id":"public/2023/07/05/http请求内容详解/index.html","hash":"cb59fb408824fa2d5f4d697eab2db6856e7bc4f8","modified":1702973545567},{"_id":"public/2023/06/22/前端http请求发送详解/index.html","hash":"8a3f79f8b0116075a6cd430d78a8554277a77fd9","modified":1702973545567},{"_id":"public/2023/06/04/umi-max的简易数据流方案/index.html","hash":"51ad2d326432a0f2ee1156595a88790105cbb3b4","modified":1702973545567},{"_id":"public/2023/05/04/docker常用命令合集/index.html","hash":"b2c9ff6ab1a7e56d5afa6c3550555b846814114d","modified":1702973545567},{"_id":"public/2023/03/05/名片创作/index.html","hash":"334f85e014ef2421f39aabf0ee5d0d04996a3a1b","modified":1702973545567},{"_id":"public/archives/2023/02/index.html","hash":"7006a2380783d66e8a01c6330791a07c5b6539b2","modified":1702973545567},{"_id":"public/archives/2023/05/index.html","hash":"68701e220d72eee65faf0b09d79bb96ebab96c45","modified":1702973545567},{"_id":"public/archives/2023/03/index.html","hash":"22ca6569b991c4d775076aa2e30fd9d20e9d47ab","modified":1702973545567},{"_id":"public/archives/2023/06/index.html","hash":"570641fa77651979a8aca01994da6ccfd17828bd","modified":1702973545567},{"_id":"public/2023/02/04/CSS之At-rules/index.html","hash":"a77f9e5ac9db7c3eacd72f1a017a49875745dffe","modified":1702973545567},{"_id":"public/archives/2023/08/index.html","hash":"7f74d08dc14a294d5d22669da5b742ea1b1ea902","modified":1702973545567},{"_id":"public/archives/2023/07/index.html","hash":"4deb1125f71a2a8c8ef1d5d197103384a0364286","modified":1702973545567},{"_id":"public/archives/2023/10/index.html","hash":"7eecf0ac0e694d53ea640ed421c9dae1b2f060e4","modified":1702973545567},{"_id":"source/images/redis小记-1701961207310.png","hash":"158c8b779ae7f6bd1b6e285a769d12462db396a7","modified":1701961209171},{"_id":"source/_posts/redis小记.md","hash":"0b01cea28a570e6d6663afce5d8eaac8b7f88f93","modified":1701962734638},{"_id":"source/_posts/手写sql复习篇.md","hash":"45f265a10bd2e60ab2cd8959a7bc6701ec519770","modified":1701963191486},{"_id":"source/images/redis小记-1701961883013.png","hash":"afe879d3f3fa4c56a5752d058bd07c151412c171","modified":1701961884876},{"_id":"public/2023/12/07/redis小记/index.html","hash":"a31782466f47ba6184bf18515bdae676685b2685","modified":1702973545567},{"_id":"public/2023/12/07/手写sql复习篇/index.html","hash":"7943df0bbf2c94a89b77df900fdb33b9cfc226b5","modified":1701962738451},{"_id":"public/tags/背包问题/index.html","hash":"9af0f59c27b27dc45af61459070bf8c288fd5ec6","modified":1702973545567},{"_id":"public/tags/sql/index.html","hash":"9ac19fd3e6090c96016aa2bdf4cd8503baedb858","modified":1702973545567},{"_id":"public/images/redis小记-1701961207310.png","hash":"158c8b779ae7f6bd1b6e285a769d12462db396a7","modified":1701962658290},{"_id":"public/images/redis小记-1701961883013.png","hash":"afe879d3f3fa4c56a5752d058bd07c151412c171","modified":1701962658290},{"_id":"public/2023/12/04/手写sql复习篇/index.html","hash":"80496ea249b83ddf16f9cfe7415f899a710a64b5","modified":1702973545567},{"_id":"source/_posts/万物心选一面.md","hash":"482d6b05d1c2862f56b7383385987f284378206f","modified":1702969841978},{"_id":"source/_posts/百姓网.md","hash":"d316d83ff8d83867262082113b8818ccaec6dd71","modified":1702973495940},{"_id":"source/_posts/追形科技一面.md","hash":"d820cc8e4aa3cd4bf76f243e38b479889def2e35","modified":1702966265535},{"_id":"source/_posts/借贷宝一面凉经.md","hash":"4c2cbe4805fe062c323676990c8fb78b27ca74bd","modified":1702973542517},{"_id":"source/images/百姓网-1702880519034.png","hash":"65bde074e2acc1ec178e16a9dcd8602c3aef0aa9","modified":1702880520897},{"_id":"source/images/借贷宝一面凉经-1702454372646.png","hash":"dd360e215c6e961b31fa0708fa2a904adbb7ccc2","modified":1702454374223},{"_id":"source/images/百姓网-1702880543910.png","hash":"91828d558de044b01aa10e9bb916a64f85361e6f","modified":1702880544939},{"_id":"source/images/百姓网-1702859564018.png","hash":"801c022949ebecb5ac1725919f4073b77cc8c582","modified":1702859565483},{"_id":"source/images/百姓网-1702859570812.png","hash":"e867f3e47e8ab959d526fbcfb481be3f831a0869","modified":1702859571921},{"_id":"source/images/借贷宝一面凉经-1702454737068.png","hash":"6785a0fcbff81b9d3b110948c2edf523968b1337","modified":1702454738776},{"_id":"source/images/百姓网-1702880535273.png","hash":"72f1f97f264dfeeaf47ecdf69cdb43aae8718509","modified":1702880537700},{"_id":"source/images/借贷宝一面凉经-1702454757991.png","hash":"15709a2ff84a96f1d6668735f24a21beb5733910","modified":1702454759563},{"_id":"source/images/百姓网-1702881164372.png","hash":"e2d4679ba3206760e0467dfaa08449ae22768d9c","modified":1702881166175},{"_id":"themes/anzhiyu/source/img/jiuye.jpg","hash":"51d3e767072bb5d439fbd347bca7e127993e8f9f","modified":1702455628734},{"_id":"public/2023/12/18/百姓网/index.html","hash":"1efeeb79ec33546f03d81b2e361ba249ffc5a5a7","modified":1702973545567},{"_id":"public/2023/12/15/万物心选一面/index.html","hash":"d5bcbb5e20b4a21e0ea8e9e4b68f6548a5cefc4a","modified":1702973545567},{"_id":"public/2023/12/13/追形科技一面/index.html","hash":"b55da2e700913e653a0e4a0dfe96b3c84ac44593","modified":1702973545567},{"_id":"public/2023/12/13/借贷宝一面凉经/index.html","hash":"483073d5b31bc70bb3d2aff5316b502642463d9e","modified":1702973545567},{"_id":"public/archives/page/3/index.html","hash":"34f14226bb9b9cdfaa72a3b8d13568d37a1fb0dd","modified":1702973545567},{"_id":"public/archives/2023/page/3/index.html","hash":"6bfd1514a6a91e7fdf659f1faf808c60fada5bb1","modified":1702973545567},{"_id":"public/categories/就业/index.html","hash":"642184e64d011604fef7d1bf54ff837880019153","modified":1702973545567},{"_id":"public/page/3/index.html","hash":"7cafbd1f5bff68eb8b96cd603b584a030b84f713","modified":1702973545567},{"_id":"public/tags/面经/index.html","hash":"2cd43c1e14e58f4c0379001fb1298536253399f6","modified":1702973545567},{"_id":"public/tags/kafka/index.html","hash":"ac9fb4912463021519cb8bf9c021c26500006250","modified":1702973545567},{"_id":"public/tags/虚拟内存/index.html","hash":"7326b4174ab390fd40d5d6345b574f163ae7f4f1","modified":1702973545567},{"_id":"public/tags/缓存/index.html","hash":"08737f9cc5abbe0290945b88a316c43a7af25b64","modified":1702973545567},{"_id":"public/images/借贷宝一面凉经-1702454372646.png","hash":"dd360e215c6e961b31fa0708fa2a904adbb7ccc2","modified":1702973453019},{"_id":"public/images/百姓网-1702880519034.png","hash":"65bde074e2acc1ec178e16a9dcd8602c3aef0aa9","modified":1702973453019},{"_id":"public/images/借贷宝一面凉经-1702454737068.png","hash":"6785a0fcbff81b9d3b110948c2edf523968b1337","modified":1702973453019},{"_id":"public/images/百姓网-1702880543910.png","hash":"91828d558de044b01aa10e9bb916a64f85361e6f","modified":1702973453019},{"_id":"public/images/借贷宝一面凉经-1702454757991.png","hash":"15709a2ff84a96f1d6668735f24a21beb5733910","modified":1702973453019},{"_id":"public/images/百姓网-1702859570812.png","hash":"e867f3e47e8ab959d526fbcfb481be3f831a0869","modified":1702973453019},{"_id":"public/images/百姓网-1702859564018.png","hash":"801c022949ebecb5ac1725919f4073b77cc8c582","modified":1702973453019},{"_id":"public/images/百姓网-1702880535273.png","hash":"72f1f97f264dfeeaf47ecdf69cdb43aae8718509","modified":1702973453019},{"_id":"public/images/百姓网-1702881164372.png","hash":"e2d4679ba3206760e0467dfaa08449ae22768d9c","modified":1702973453019},{"_id":"public/img/jiuye.jpg","hash":"51d3e767072bb5d439fbd347bca7e127993e8f9f","modified":1702973453019}],"Category":[{"name":"算法","_id":"clpnozddn0000h0pkcfjc3xbn"},{"name":"前端","_id":"clpqoimiz00010cpkdevrf590"},{"name":"docker","_id":"clpqoimj200070cpkaag2fnhw"},{"name":"后端","_id":"clpqpb73s0003rspkgp0ieqvo"},{"name":"就业","_id":"clqc2fb5200025spkccif86nx"}],"Data":[{"_id":"about","data":[{"class_name":"关于页","subtitle":"多一点努力，努力多一点✨","avatarImg":"https://avatars.githubusercontent.com/u/106024593?v=4","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱"]},"name":"xingxing","description":"是一名 后端工程师、学生、独立开发者","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"YNU,计算机科学与技术","color":"#357ef5"}]},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，昆明市","background":"/img/location.png","backgroundDark":"/img/locationDark.png"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2003,"selfInfoTips2":"云南大学","selfInfoContent2":"计算机科学与技术","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}]},{"_id":"album","data":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}]},{"_id":"equipment","data":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}]},{"_id":"essay","data":[{"title":"即刻短文","subTitle":"xingxing的日常。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"/img/beautifulImg.jpg","essay_list":[{"content":"发现一个免费拿图的网站诶，还是bing好用，垃圾百度！但是好像要翻墙才可以下载原图，不过可以直接复制图片地址，然后用迅雷下载，也是可以的（图片大小翻五倍）。","date":"2023/11/31","image":["/img/essayImg/pixabay.png"],"link":"https://pixabay.com/zh/"},{"content":"寒假实习求职顺利（求神拜佛）","date":"2023/12/2"},{"content":"bilibili给个机会！！！","date":"2023/12/7"},{"content":"许愿oc！！！","date":"2023/12/19"}]}]},{"_id":"link","data":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}]},{"_id":"bangumis","data":{"wantWatch":[{"title":"百妖谱 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/5424062d0821f89ea549533d8a2c3cfff2076766.png","totalCount":"全12话","id":28230717,"follow":"527.1 万","view":"1.2 亿","danmaku":"47.2 万","coin":"42.5 万","score":9.2,"des":"桃都的灵医桃夭带着小和尚磨牙、第一季收服的小狐妖、桃都老邻居柳公子一起继续第一季的故事，为了寻找失踪的百妖谱而云游四方，在途中遇到应声、化蛇、媪姬、照海四个妖怪，为妖怪治疗各种疑难杂症。..."},{"title":"伍六七之玄武国篇","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/00843865ea13702eccc4efd64c313fd4c8029c6b.jpg","totalCount":"全10话","id":28232253,"follow":"1031.1 万","view":"4.7 亿","danmaku":"186.3 万","coin":"405.6 万","score":9.8,"des":"为了保护小鸡岛居民和这里平静的生活，伍六七和他的伙伴大保和小飞开启了去往玄武国的冒险旅程，去寻找身世的真相和解救小岛的办法，等待他们的又将是更多的未知与奇遇。..."},{"title":"伍六七之暗影宿命","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/6e5c5848ff8943fd6366e943a4f75b98598c50c6.png","totalCount":"全10话","id":28412536,"follow":"1250.4 万","view":"5.1 亿","danmaku":"110.7 万","coin":"410.9 万","score":9.2,"des":"随着伍六七回到玄武国寻找他的身世，亦引起了七大暗影刺客的追捕。然而每一位暗影刺客都带着不同的目的和不同的过去，青凤的阴谋也在此浮出了水面。而此时等待着小鸡岛上的人民，又将是另一个危机，伍六七将如何面对..."}],"watching":[{"title":"灵笼 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cf5f6595ece017215e7d61482f022094479dff37.png","totalCount":"-","id":21123554,"follow":"910.5 万","view":"1586.9 万","danmaku":"7.0 万","coin":"35.1 万","score":"-","des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."},{"title":"灵笼","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cfab7e0fbdb4786ff4e885d050b7cf37f8829486.png","totalCount":"全16话","id":23432,"follow":"903.9 万","view":"6.1 亿","danmaku":"674.4 万","coin":"677.7 万","score":9.6,"des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."}],"watched":[{"title":"时光代理人","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/1fe1cd0ec59b790fea83a5726cdc0fa3189c4394.png","totalCount":"全24话","id":28230742,"follow":"879.2 万","view":"5.0 亿","danmaku":"399.9 万","coin":"418.4 万","score":9.7,"des":"为了找到一系列罪案的操纵者，程小时求助于肖力，找寻一切藏匿于暗中的蛛丝马迹。但是拥有未知超能力的凶手在阴影之中，也从没有停止过阴谋的脚步。神秘能力者如影随形，身边伙伴接连遇害，程小时屡次身陷险境。随着..."},{"title":"元龙 第三季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/b3a9b5975059e074593b9381322ad8c423be7b89.png","totalCount":"全16话","id":28235400,"follow":"620.5 万","view":"1.5 亿","danmaku":"24.0 万","coin":"10.7 万","score":6.8,"des":"王胜于现代世界醒来，一切是如此真实而又如梦似幻。皇城遗女，戴家少主的出现更让局势扑朔迷离。而一场由小搏大的赌局，也让王胜渐渐意识到这不仅仅是他和戴家少主两个人的较量。恰时逢盛宴，天下汇集，王胜不得不再..."},{"title":"三体","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/9870f898b8a39bbb8048f34317f8d78a02cc1770.png","totalCount":"全15话","id":4315402,"follow":"690.6 万","view":"6.2 亿","danmaku":"179.3 万","coin":"230.7 万","score":8.2,"des":"无数细线横亘在星空之中，如同一把巨大的刷子。三体星舰队将于400年后抵达。遥远蝴蝶扇动着翅膀，也改变了罗辑的命运，轰然打开的门后是世界中心——面壁计划开启。同时，智子所创建的破壁室内，破壁人一一就位…..."},{"title":"狐妖小红娘","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/cbb20ee03e97a9f3ad2e1506a10fd1271f1c584a.jpg","totalCount":"全100话","id":2543,"follow":"691.5 万","view":"8.7 亿","danmaku":"1052.9 万","coin":"259.8 万","score":9.5,"des":"根据古典小说记载，世上有人有妖，妖会与人相恋，妖寿命千年，人的寿命有限，人死了，妖活着。人会投胎转世，但投胎以后不记得上辈子的爱。妖如果痴情的话，就去找狐妖“购买”一项服务，让投胎转世的人回忆起前世的..."}]}}],"Page":[{"title":"tags","date":"2023-12-01T12:19:10.000Z","type":"tags","comments":0,"top_img":false,"orderby":"random","_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2023-12-01 20:19:10\ntype: \"tags\"\ncomments: false\ntop_img: false\norderby: \"random\"\n---\n","updated":"2023-12-01T12:20:45.764Z","path":"tags/index.html","layout":"page","_id":"clpmnlgr30000qopkasow78gc","content":"","site":{"data":{}},"cover":false,"excerpt":"","more":""},{"title":"categories","date":"2023-12-01T12:21:05.000Z","aside":false,"top_img":false,"type":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2023-12-01 20:21:05\naside: false\ntop_img: false\ntype: \"categories\"\n---\n","updated":"2023-12-01T12:21:24.033Z","path":"categories/index.html","comments":1,"layout":"page","_id":"clpmnlgr90002qopkcliz29mz","content":"","site":{"data":{}},"cover":false,"excerpt":"","more":""},{"title":"about","date":"2023-12-02T07:11:22.000Z","aside":false,"top_img":false,"background":"#f8f9fe","comments":0,"type":"about","_content":"","source":"about/index.md","raw":"---\ntitle: about\ndate: 2023-12-02 15:11:22\naside: false\ntop_img: false\nbackground: \"#f8f9fe\"\ncomments: false\ntype: \"about\"\n---\n","updated":"2023-12-02T07:11:40.377Z","path":"about/index.html","layout":"page","_id":"clpnq0t8n0000pspkearxdujc","content":"","site":{"data":{"about":[{"class_name":"关于页","subtitle":"生活明朗，万物可爱✨","avatarImg":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.0/img/avatar.webp","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱","壮汉人狠话不多 💢"]},"name":"陈志伟","description":"是一名 前端工程师、学生、独立开发者、博主","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"EDU,软件工程专业","color":"#357ef5"},{"desc":"EDU,软件工程专业","color":"#357ef5"},{"desc":"EDU,软件工程专业","color":"#357ef5"}],"img":"https://bu.dusays.com/2023/04/21/644287166329b.png"},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，长沙市","background":"https://bu.dusays.com/2023/07/05/64a4c61cb20ef.jpg","backgroundDark":"https://bu.dusays.com/2023/07/05/64a4c63495ac5.jpg"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2002,"selfInfoTips2":"湖南信息学院","selfInfoContent2":"软件工程","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"personalities":{"author_name":"执政官","personality_type":"ESFJ-A","photo_url":"https://bu.dusays.com/2023/07/05/64a4c63495ac5.jpg","personality_img":"https://npm.elemecdn.com/anzhiyu-blog@2.0.8/img/svg/ESFJ-A.svg","name_url":"https://www.16personalities.com/ch/esfj-%E4%BA%BA%E6%A0%BC"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"咸鱼的日常生活。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"https://img02.anheyu.com/adminuploads/1/2022/08/21/630249e2df20f.jpg","essay_list":[{"content":"安知鱼主题指南","date":"2023/09/09","video":["https://player.bilibili.com/player.html?aid=226886152&bvid=BV1Ch41137tR&cid=1081639816&p=1&autoplay=0"]},{"content":"支持了Accesskey快捷键，可以直接按下shift + ?组合键以查看快捷键选项。","date":"2023/07/01","video":["https://cdn.jsdelivr.net/npm/anzhiyu-blog-static@1.0.0/video/%E9%A3%8E%E8%BD%A6%E6%A0%B7%E5%BC%8F%E6%95%88%E6%9E%9C%E9%A2%84%E8%A7%88.mp4"],"image":["https://img02.anheyu.com/adminuploads/1/2023/07/01/64a033cb2c21e.webp!blogimg"],"address":"长沙","from":"安知鱼","link":"/posts/e140.html"},{"content":"音乐支持了参数设置自定义歌单","date":"2023/01/02","link":"https://blog.anheyu.com/music/?id=7269231710&server=tencent"},{"content":"关于页的打赏仿了b站的充电功能，使用svg绘图➕一些动画参数移动，应该不会被b站警告吧😜，另外文章也支持了顶部随机b站同款春秋冬banner。","date":"2022/12/18"},{"content":"React中不能直接修改state的一个重要原因是在性能优化时的prueComponment会进行浅层比较会认为是用一个对象且不能进入队列中批量更新","date":"2022/12/10"},{"content":"好耶，马上就可以放假回家了！好想家里的好吃的😋！才不是想捏妹妹的脸了","date":"2022/12/06"},{"content":"全局音乐的动画也处理好了, nice!","date":"2022/11/13"},{"content":"把页脚, 首页顶部全都魔改到本地了, 方便后续魔改, 音乐也改成胶囊的样式了, 其实还是想让胶囊可拖拽, 不可点击改变歌词位置的, 但是弄了半天都没弄好就放弃了","date":"2022/11/13"},{"content":"朋友圈船新版本终于写完了, 耶✌️","date":"2022/11/05","link":"https://blog.anheyu.com/album/"},{"content":"终于把相册集搞定了, 耶✌️, 瀑布流在滑动滚动条一个视口范围上下100的情况执行一次, 到底部停止监听让性能高了好多，再也不会布局混乱🤪了","date":"2022/10/25","link":"https://blog.anheyu.com/album/"},{"content":"搜索🔍支持缩略图显示啦（默认获取文章内容的第一张图片）","date":"2022/10/23 08:00:00","from":"安知鱼"},{"content":"遇见彩虹🌈吃定彩虹","date":"2022/10/23 10:00:00","image":["https://bu.dusays.com/2023/04/09/64329399e285d.webp","https://bu.dusays.com/2023/04/09/64329399aa3bc.webp","https://bu.dusays.com/2023/04/09/6432939996dd7.webp"]},{"content":"ThreeJs API真多丫","date":"2022/10/19"},{"content":"妹妹强制要求我买走了她的两幅画 -¥30","date":"2022/10/02","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]},{"content":"歌曲推荐","date":"2022/09/25","aplayer":{"server":"tencent","id":"001FGQba3i10mw"}},{"content":"做了一个噩梦, 梦到从楼顶坠下去了。😷","date":"2022/09/24"},{"content":"JOJO是真的好看！","date":"2022/09/21","link":"https://www.bilibili.com/bangumi/play/ss39431?spm_id_from=333.337.0.0"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}]}},"cover":false,"excerpt":"","more":""},{"title":"equipment","date":"2023-12-02T07:07:19.000Z","type":"equipment","aside":false,"top_img":false,"_content":"","source":"equipment/index.md","raw":"---\ntitle: equipment\ndate: 2023-12-02 15:07:19\ntype: equipment\naside: false\ntop_img: false\n---\n","updated":"2023-12-02T07:07:48.855Z","path":"equipment/index.html","comments":1,"layout":"page","_id":"clpnq0t8q0001pspk92x26slx","content":"","site":{"data":{"about":[{"class_name":"关于页","subtitle":"生活明朗，万物可爱✨","avatarImg":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.0/img/avatar.webp","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱","壮汉人狠话不多 💢"]},"name":"陈志伟","description":"是一名 前端工程师、学生、独立开发者、博主","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"EDU,软件工程专业","color":"#357ef5"},{"desc":"EDU,软件工程专业","color":"#357ef5"},{"desc":"EDU,软件工程专业","color":"#357ef5"}],"img":"https://bu.dusays.com/2023/04/21/644287166329b.png"},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，长沙市","background":"https://bu.dusays.com/2023/07/05/64a4c61cb20ef.jpg","backgroundDark":"https://bu.dusays.com/2023/07/05/64a4c63495ac5.jpg"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2002,"selfInfoTips2":"湖南信息学院","selfInfoContent2":"软件工程","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"personalities":{"author_name":"执政官","personality_type":"ESFJ-A","photo_url":"https://bu.dusays.com/2023/07/05/64a4c63495ac5.jpg","personality_img":"https://npm.elemecdn.com/anzhiyu-blog@2.0.8/img/svg/ESFJ-A.svg","name_url":"https://www.16personalities.com/ch/esfj-%E4%BA%BA%E6%A0%BC"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"咸鱼的日常生活。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"https://img02.anheyu.com/adminuploads/1/2022/08/21/630249e2df20f.jpg","essay_list":[{"content":"安知鱼主题指南","date":"2023/09/09","video":["https://player.bilibili.com/player.html?aid=226886152&bvid=BV1Ch41137tR&cid=1081639816&p=1&autoplay=0"]},{"content":"支持了Accesskey快捷键，可以直接按下shift + ?组合键以查看快捷键选项。","date":"2023/07/01","video":["https://cdn.jsdelivr.net/npm/anzhiyu-blog-static@1.0.0/video/%E9%A3%8E%E8%BD%A6%E6%A0%B7%E5%BC%8F%E6%95%88%E6%9E%9C%E9%A2%84%E8%A7%88.mp4"],"image":["https://img02.anheyu.com/adminuploads/1/2023/07/01/64a033cb2c21e.webp!blogimg"],"address":"长沙","from":"安知鱼","link":"/posts/e140.html"},{"content":"音乐支持了参数设置自定义歌单","date":"2023/01/02","link":"https://blog.anheyu.com/music/?id=7269231710&server=tencent"},{"content":"关于页的打赏仿了b站的充电功能，使用svg绘图➕一些动画参数移动，应该不会被b站警告吧😜，另外文章也支持了顶部随机b站同款春秋冬banner。","date":"2022/12/18"},{"content":"React中不能直接修改state的一个重要原因是在性能优化时的prueComponment会进行浅层比较会认为是用一个对象且不能进入队列中批量更新","date":"2022/12/10"},{"content":"好耶，马上就可以放假回家了！好想家里的好吃的😋！才不是想捏妹妹的脸了","date":"2022/12/06"},{"content":"全局音乐的动画也处理好了, nice!","date":"2022/11/13"},{"content":"把页脚, 首页顶部全都魔改到本地了, 方便后续魔改, 音乐也改成胶囊的样式了, 其实还是想让胶囊可拖拽, 不可点击改变歌词位置的, 但是弄了半天都没弄好就放弃了","date":"2022/11/13"},{"content":"朋友圈船新版本终于写完了, 耶✌️","date":"2022/11/05","link":"https://blog.anheyu.com/album/"},{"content":"终于把相册集搞定了, 耶✌️, 瀑布流在滑动滚动条一个视口范围上下100的情况执行一次, 到底部停止监听让性能高了好多，再也不会布局混乱🤪了","date":"2022/10/25","link":"https://blog.anheyu.com/album/"},{"content":"搜索🔍支持缩略图显示啦（默认获取文章内容的第一张图片）","date":"2022/10/23 08:00:00","from":"安知鱼"},{"content":"遇见彩虹🌈吃定彩虹","date":"2022/10/23 10:00:00","image":["https://bu.dusays.com/2023/04/09/64329399e285d.webp","https://bu.dusays.com/2023/04/09/64329399aa3bc.webp","https://bu.dusays.com/2023/04/09/6432939996dd7.webp"]},{"content":"ThreeJs API真多丫","date":"2022/10/19"},{"content":"妹妹强制要求我买走了她的两幅画 -¥30","date":"2022/10/02","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]},{"content":"歌曲推荐","date":"2022/09/25","aplayer":{"server":"tencent","id":"001FGQba3i10mw"}},{"content":"做了一个噩梦, 梦到从楼顶坠下去了。😷","date":"2022/09/24"},{"content":"JOJO是真的好看！","date":"2022/09/21","link":"https://www.bilibili.com/bangumi/play/ss39431?spm_id_from=333.337.0.0"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}]}},"cover":false,"excerpt":"","more":""},{"title":"相册集","date":"2023-12-02T07:15:01.000Z","aside":false,"top_img":false,"type":"album","_content":"","source":"album/index.md","raw":"---\ntitle: 相册集\ndate: 2023-12-02 15:15:01\naside: false\ntop_img: false\ntype: \"album\"\n---\n","updated":"2023-12-02T07:15:46.831Z","path":"album/index.html","comments":1,"layout":"page","_id":"clpnq0t8r0002pspkbnka9d2n","content":"","site":{"data":{"about":[{"class_name":"关于页","subtitle":"生活明朗，万物可爱✨","avatarImg":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.0/img/avatar.webp","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱","壮汉人狠话不多 💢"]},"name":"陈志伟","description":"是一名 前端工程师、学生、独立开发者、博主","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"EDU,软件工程专业","color":"#357ef5"},{"desc":"EDU,软件工程专业","color":"#357ef5"},{"desc":"EDU,软件工程专业","color":"#357ef5"}],"img":"https://bu.dusays.com/2023/04/21/644287166329b.png"},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，长沙市","background":"https://bu.dusays.com/2023/07/05/64a4c61cb20ef.jpg","backgroundDark":"https://bu.dusays.com/2023/07/05/64a4c63495ac5.jpg"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2002,"selfInfoTips2":"湖南信息学院","selfInfoContent2":"软件工程","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"personalities":{"author_name":"执政官","personality_type":"ESFJ-A","photo_url":"https://bu.dusays.com/2023/07/05/64a4c63495ac5.jpg","personality_img":"https://npm.elemecdn.com/anzhiyu-blog@2.0.8/img/svg/ESFJ-A.svg","name_url":"https://www.16personalities.com/ch/esfj-%E4%BA%BA%E6%A0%BC"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"咸鱼的日常生活。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"https://img02.anheyu.com/adminuploads/1/2022/08/21/630249e2df20f.jpg","essay_list":[{"content":"安知鱼主题指南","date":"2023/09/09","video":["https://player.bilibili.com/player.html?aid=226886152&bvid=BV1Ch41137tR&cid=1081639816&p=1&autoplay=0"]},{"content":"支持了Accesskey快捷键，可以直接按下shift + ?组合键以查看快捷键选项。","date":"2023/07/01","video":["https://cdn.jsdelivr.net/npm/anzhiyu-blog-static@1.0.0/video/%E9%A3%8E%E8%BD%A6%E6%A0%B7%E5%BC%8F%E6%95%88%E6%9E%9C%E9%A2%84%E8%A7%88.mp4"],"image":["https://img02.anheyu.com/adminuploads/1/2023/07/01/64a033cb2c21e.webp!blogimg"],"address":"长沙","from":"安知鱼","link":"/posts/e140.html"},{"content":"音乐支持了参数设置自定义歌单","date":"2023/01/02","link":"https://blog.anheyu.com/music/?id=7269231710&server=tencent"},{"content":"关于页的打赏仿了b站的充电功能，使用svg绘图➕一些动画参数移动，应该不会被b站警告吧😜，另外文章也支持了顶部随机b站同款春秋冬banner。","date":"2022/12/18"},{"content":"React中不能直接修改state的一个重要原因是在性能优化时的prueComponment会进行浅层比较会认为是用一个对象且不能进入队列中批量更新","date":"2022/12/10"},{"content":"好耶，马上就可以放假回家了！好想家里的好吃的😋！才不是想捏妹妹的脸了","date":"2022/12/06"},{"content":"全局音乐的动画也处理好了, nice!","date":"2022/11/13"},{"content":"把页脚, 首页顶部全都魔改到本地了, 方便后续魔改, 音乐也改成胶囊的样式了, 其实还是想让胶囊可拖拽, 不可点击改变歌词位置的, 但是弄了半天都没弄好就放弃了","date":"2022/11/13"},{"content":"朋友圈船新版本终于写完了, 耶✌️","date":"2022/11/05","link":"https://blog.anheyu.com/album/"},{"content":"终于把相册集搞定了, 耶✌️, 瀑布流在滑动滚动条一个视口范围上下100的情况执行一次, 到底部停止监听让性能高了好多，再也不会布局混乱🤪了","date":"2022/10/25","link":"https://blog.anheyu.com/album/"},{"content":"搜索🔍支持缩略图显示啦（默认获取文章内容的第一张图片）","date":"2022/10/23 08:00:00","from":"安知鱼"},{"content":"遇见彩虹🌈吃定彩虹","date":"2022/10/23 10:00:00","image":["https://bu.dusays.com/2023/04/09/64329399e285d.webp","https://bu.dusays.com/2023/04/09/64329399aa3bc.webp","https://bu.dusays.com/2023/04/09/6432939996dd7.webp"]},{"content":"ThreeJs API真多丫","date":"2022/10/19"},{"content":"妹妹强制要求我买走了她的两幅画 -¥30","date":"2022/10/02","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]},{"content":"歌曲推荐","date":"2022/09/25","aplayer":{"server":"tencent","id":"001FGQba3i10mw"}},{"content":"做了一个噩梦, 梦到从楼顶坠下去了。😷","date":"2022/09/24"},{"content":"JOJO是真的好看！","date":"2022/09/21","link":"https://www.bilibili.com/bangumi/play/ss39431?spm_id_from=333.337.0.0"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}]}},"cover":false,"excerpt":"","more":""},{"title":"essay","date":"2023-12-02T07:16:32.000Z","comments":1,"aside":false,"top_img":false,"type":"essay","_content":"","source":"essay/index.md","raw":"---\ntitle: essay\ndate: 2023-12-02 15:16:32\ncomments: true\naside: false\ntop_img: false\ntype: essay\n---\n","updated":"2023-12-02T07:16:46.324Z","path":"essay/index.html","layout":"page","_id":"clpnq0t8s0003pspk468q0z9f","content":"","site":{"data":{"about":[{"class_name":"关于页","subtitle":"生活明朗，万物可爱✨","avatarImg":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.0/img/avatar.webp","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱","壮汉人狠话不多 💢"]},"name":"陈志伟","description":"是一名 前端工程师、学生、独立开发者、博主","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"EDU,软件工程专业","color":"#357ef5"},{"desc":"EDU,软件工程专业","color":"#357ef5"},{"desc":"EDU,软件工程专业","color":"#357ef5"}],"img":"https://bu.dusays.com/2023/04/21/644287166329b.png"},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，长沙市","background":"https://bu.dusays.com/2023/07/05/64a4c61cb20ef.jpg","backgroundDark":"https://bu.dusays.com/2023/07/05/64a4c63495ac5.jpg"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2002,"selfInfoTips2":"湖南信息学院","selfInfoContent2":"软件工程","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"personalities":{"author_name":"执政官","personality_type":"ESFJ-A","photo_url":"https://bu.dusays.com/2023/07/05/64a4c63495ac5.jpg","personality_img":"https://npm.elemecdn.com/anzhiyu-blog@2.0.8/img/svg/ESFJ-A.svg","name_url":"https://www.16personalities.com/ch/esfj-%E4%BA%BA%E6%A0%BC"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"咸鱼的日常生活。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"https://img02.anheyu.com/adminuploads/1/2022/08/21/630249e2df20f.jpg","essay_list":[{"content":"安知鱼主题指南","date":"2023/09/09","video":["https://player.bilibili.com/player.html?aid=226886152&bvid=BV1Ch41137tR&cid=1081639816&p=1&autoplay=0"]},{"content":"支持了Accesskey快捷键，可以直接按下shift + ?组合键以查看快捷键选项。","date":"2023/07/01","video":["https://cdn.jsdelivr.net/npm/anzhiyu-blog-static@1.0.0/video/%E9%A3%8E%E8%BD%A6%E6%A0%B7%E5%BC%8F%E6%95%88%E6%9E%9C%E9%A2%84%E8%A7%88.mp4"],"image":["https://img02.anheyu.com/adminuploads/1/2023/07/01/64a033cb2c21e.webp!blogimg"],"address":"长沙","from":"安知鱼","link":"/posts/e140.html"},{"content":"音乐支持了参数设置自定义歌单","date":"2023/01/02","link":"https://blog.anheyu.com/music/?id=7269231710&server=tencent"},{"content":"关于页的打赏仿了b站的充电功能，使用svg绘图➕一些动画参数移动，应该不会被b站警告吧😜，另外文章也支持了顶部随机b站同款春秋冬banner。","date":"2022/12/18"},{"content":"React中不能直接修改state的一个重要原因是在性能优化时的prueComponment会进行浅层比较会认为是用一个对象且不能进入队列中批量更新","date":"2022/12/10"},{"content":"好耶，马上就可以放假回家了！好想家里的好吃的😋！才不是想捏妹妹的脸了","date":"2022/12/06"},{"content":"全局音乐的动画也处理好了, nice!","date":"2022/11/13"},{"content":"把页脚, 首页顶部全都魔改到本地了, 方便后续魔改, 音乐也改成胶囊的样式了, 其实还是想让胶囊可拖拽, 不可点击改变歌词位置的, 但是弄了半天都没弄好就放弃了","date":"2022/11/13"},{"content":"朋友圈船新版本终于写完了, 耶✌️","date":"2022/11/05","link":"https://blog.anheyu.com/album/"},{"content":"终于把相册集搞定了, 耶✌️, 瀑布流在滑动滚动条一个视口范围上下100的情况执行一次, 到底部停止监听让性能高了好多，再也不会布局混乱🤪了","date":"2022/10/25","link":"https://blog.anheyu.com/album/"},{"content":"搜索🔍支持缩略图显示啦（默认获取文章内容的第一张图片）","date":"2022/10/23 08:00:00","from":"安知鱼"},{"content":"遇见彩虹🌈吃定彩虹","date":"2022/10/23 10:00:00","image":["https://bu.dusays.com/2023/04/09/64329399e285d.webp","https://bu.dusays.com/2023/04/09/64329399aa3bc.webp","https://bu.dusays.com/2023/04/09/6432939996dd7.webp"]},{"content":"ThreeJs API真多丫","date":"2022/10/19"},{"content":"妹妹强制要求我买走了她的两幅画 -¥30","date":"2022/10/02","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]},{"content":"歌曲推荐","date":"2022/09/25","aplayer":{"server":"tencent","id":"001FGQba3i10mw"}},{"content":"做了一个噩梦, 梦到从楼顶坠下去了。😷","date":"2022/09/24"},{"content":"JOJO是真的好看！","date":"2022/09/21","link":"https://www.bilibili.com/bangumi/play/ss39431?spm_id_from=333.337.0.0"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}]}},"cover":false,"excerpt":"","more":""},{"title":"fcircle","date":"2023-12-02T07:13:45.000Z","comments":0,"aside":false,"top_img":false,"type":"fcircle","_content":"","source":"fcircle/index.md","raw":"---\ntitle: fcircle\ndate: 2023-12-02 15:13:45\ncomments: false\naside: false\ntop_img: false\ntype: \"fcircle\"\n---\n","updated":"2023-12-02T07:14:18.587Z","path":"fcircle/index.html","layout":"page","_id":"clpnq0t8t0004pspkgm0250tv","content":"","site":{"data":{"about":[{"class_name":"关于页","subtitle":"生活明朗，万物可爱✨","avatarImg":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.0/img/avatar.webp","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱","壮汉人狠话不多 💢"]},"name":"陈志伟","description":"是一名 前端工程师、学生、独立开发者、博主","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"EDU,软件工程专业","color":"#357ef5"},{"desc":"EDU,软件工程专业","color":"#357ef5"},{"desc":"EDU,软件工程专业","color":"#357ef5"}],"img":"https://bu.dusays.com/2023/04/21/644287166329b.png"},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，长沙市","background":"https://bu.dusays.com/2023/07/05/64a4c61cb20ef.jpg","backgroundDark":"https://bu.dusays.com/2023/07/05/64a4c63495ac5.jpg"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2002,"selfInfoTips2":"湖南信息学院","selfInfoContent2":"软件工程","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"personalities":{"author_name":"执政官","personality_type":"ESFJ-A","photo_url":"https://bu.dusays.com/2023/07/05/64a4c63495ac5.jpg","personality_img":"https://npm.elemecdn.com/anzhiyu-blog@2.0.8/img/svg/ESFJ-A.svg","name_url":"https://www.16personalities.com/ch/esfj-%E4%BA%BA%E6%A0%BC"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"咸鱼的日常生活。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"https://img02.anheyu.com/adminuploads/1/2022/08/21/630249e2df20f.jpg","essay_list":[{"content":"安知鱼主题指南","date":"2023/09/09","video":["https://player.bilibili.com/player.html?aid=226886152&bvid=BV1Ch41137tR&cid=1081639816&p=1&autoplay=0"]},{"content":"支持了Accesskey快捷键，可以直接按下shift + ?组合键以查看快捷键选项。","date":"2023/07/01","video":["https://cdn.jsdelivr.net/npm/anzhiyu-blog-static@1.0.0/video/%E9%A3%8E%E8%BD%A6%E6%A0%B7%E5%BC%8F%E6%95%88%E6%9E%9C%E9%A2%84%E8%A7%88.mp4"],"image":["https://img02.anheyu.com/adminuploads/1/2023/07/01/64a033cb2c21e.webp!blogimg"],"address":"长沙","from":"安知鱼","link":"/posts/e140.html"},{"content":"音乐支持了参数设置自定义歌单","date":"2023/01/02","link":"https://blog.anheyu.com/music/?id=7269231710&server=tencent"},{"content":"关于页的打赏仿了b站的充电功能，使用svg绘图➕一些动画参数移动，应该不会被b站警告吧😜，另外文章也支持了顶部随机b站同款春秋冬banner。","date":"2022/12/18"},{"content":"React中不能直接修改state的一个重要原因是在性能优化时的prueComponment会进行浅层比较会认为是用一个对象且不能进入队列中批量更新","date":"2022/12/10"},{"content":"好耶，马上就可以放假回家了！好想家里的好吃的😋！才不是想捏妹妹的脸了","date":"2022/12/06"},{"content":"全局音乐的动画也处理好了, nice!","date":"2022/11/13"},{"content":"把页脚, 首页顶部全都魔改到本地了, 方便后续魔改, 音乐也改成胶囊的样式了, 其实还是想让胶囊可拖拽, 不可点击改变歌词位置的, 但是弄了半天都没弄好就放弃了","date":"2022/11/13"},{"content":"朋友圈船新版本终于写完了, 耶✌️","date":"2022/11/05","link":"https://blog.anheyu.com/album/"},{"content":"终于把相册集搞定了, 耶✌️, 瀑布流在滑动滚动条一个视口范围上下100的情况执行一次, 到底部停止监听让性能高了好多，再也不会布局混乱🤪了","date":"2022/10/25","link":"https://blog.anheyu.com/album/"},{"content":"搜索🔍支持缩略图显示啦（默认获取文章内容的第一张图片）","date":"2022/10/23 08:00:00","from":"安知鱼"},{"content":"遇见彩虹🌈吃定彩虹","date":"2022/10/23 10:00:00","image":["https://bu.dusays.com/2023/04/09/64329399e285d.webp","https://bu.dusays.com/2023/04/09/64329399aa3bc.webp","https://bu.dusays.com/2023/04/09/6432939996dd7.webp"]},{"content":"ThreeJs API真多丫","date":"2022/10/19"},{"content":"妹妹强制要求我买走了她的两幅画 -¥30","date":"2022/10/02","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]},{"content":"歌曲推荐","date":"2022/09/25","aplayer":{"server":"tencent","id":"001FGQba3i10mw"}},{"content":"做了一个噩梦, 梦到从楼顶坠下去了。😷","date":"2022/09/24"},{"content":"JOJO是真的好看！","date":"2022/09/21","link":"https://www.bilibili.com/bangumi/play/ss39431?spm_id_from=333.337.0.0"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}]}},"cover":false,"excerpt":"","more":""},{"_content":"[\n  {\n    \"name\": \"青花瓷\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.4/青花瓷/青花瓷.mp3\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000002eFUFm2XYZ7z_2.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.4/青花瓷/青花瓷.lrc\"\n  },\n  {\n    \"name\": \"稻香\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/稻香/稻香.mp3\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/稻香/稻香.lrc\"\n  },\n  {\n    \"name\": \"晴天\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/晴天/晴天.mp3\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000000MkMni19ClKG_3.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/晴天/晴天.lrc\"\n  },\n  {\n    \"name\": \"七里香\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/七里香/七里香.mp3\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000003DFRzD192KKD_1.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/七里香/七里香.lrc\"\n  },\n  {\n    \"name\": \"花海\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/花海/花海.flac\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/花海/花海.lrc\"\n  },\n  {\n    \"name\": \"反方向的钟\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/反方向的钟/反方向的钟.flac\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000000f01724fd7TH_1.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/反方向的钟/反方向的钟.lrc\"\n  },\n  {\n    \"name\": \"兰亭序\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/兰亭序/兰亭序.mp3\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/兰亭序/兰亭序.lrc\"\n  },\n  {\n    \"name\": \"说好的辛福呢\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/说好的辛福呢/说好的辛福呢.mp3\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/说好的辛福呢/说好的幸福呢.lrc\"\n  },\n  {\n    \"name\": \"等你下课 (with 杨瑞代)\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/等你下课/等你下课.mp3\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000003bSL0v4bpKAx_1.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/等你下课/等你下课.lrc\"\n  },\n  {\n    \"name\": \"我落泪情绪零碎\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/我落泪情绪零碎/我落泪情绪零碎.mp3\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000000bviBl4FjTpO_1.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/我落泪情绪零碎/我落泪情绪零碎.lrc\"\n  },\n  {\n    \"name\": \"听妈妈的话\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/听妈妈的话/听妈妈的话.mp3\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000002jLGWe16Tf1H_1.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/听妈妈的话/听妈妈的话.lrc\"\n  },\n  {\n    \"name\": \"明明就\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/明明就/明明就.flac\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000003Ow85E3pnoqi_1.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/明明就/明明就.lrc\"\n  },\n  {\n    \"name\": \"我是如此相信\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/我是如此相信/我是如此相信.flac\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000001hGx1Z0so1YX_1.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/我是如此相信/我是如此相信.lrc\"\n  },\n  {\n    \"name\": \"发如雪\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.3/发如雪/发如雪.mp3\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M0000024bjiL2aocxT_3.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.3/发如雪/发如雪.lrc\"\n  },\n  {\n    \"name\": \"以父之名\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.3/以父之名/以父之名.mp3\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000000MkMni19ClKG_3.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.3/以父之名/以父之名.lrc\"\n  },\n  {\n    \"name\": \"园游会\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.3/园游会/园游会.flac\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000003DFRzD192KKD_1.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.3/园游会/园游会.lrc\"\n  },\n  {\n    \"name\": \"本草纲目\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.4/本草纲目/本草纲目.mp3\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000002jLGWe16Tf1H_1.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.4/本草纲目/本草纲目.lrc\"\n  },\n  {\n    \"name\": \"龙卷风\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.4/龙卷风/龙卷风.mp3\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000000f01724fd7TH_1.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.4/龙卷风/龙卷风.lrc\"\n  }\n]","source":"json/music.json","raw":"[\n  {\n    \"name\": \"青花瓷\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.4/青花瓷/青花瓷.mp3\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000002eFUFm2XYZ7z_2.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.4/青花瓷/青花瓷.lrc\"\n  },\n  {\n    \"name\": \"稻香\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/稻香/稻香.mp3\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/稻香/稻香.lrc\"\n  },\n  {\n    \"name\": \"晴天\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/晴天/晴天.mp3\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000000MkMni19ClKG_3.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/晴天/晴天.lrc\"\n  },\n  {\n    \"name\": \"七里香\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/七里香/七里香.mp3\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000003DFRzD192KKD_1.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/七里香/七里香.lrc\"\n  },\n  {\n    \"name\": \"花海\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/花海/花海.flac\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/花海/花海.lrc\"\n  },\n  {\n    \"name\": \"反方向的钟\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/反方向的钟/反方向的钟.flac\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000000f01724fd7TH_1.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/反方向的钟/反方向的钟.lrc\"\n  },\n  {\n    \"name\": \"兰亭序\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/兰亭序/兰亭序.mp3\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/兰亭序/兰亭序.lrc\"\n  },\n  {\n    \"name\": \"说好的辛福呢\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/说好的辛福呢/说好的辛福呢.mp3\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/说好的辛福呢/说好的幸福呢.lrc\"\n  },\n  {\n    \"name\": \"等你下课 (with 杨瑞代)\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/等你下课/等你下课.mp3\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000003bSL0v4bpKAx_1.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/等你下课/等你下课.lrc\"\n  },\n  {\n    \"name\": \"我落泪情绪零碎\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/我落泪情绪零碎/我落泪情绪零碎.mp3\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000000bviBl4FjTpO_1.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/我落泪情绪零碎/我落泪情绪零碎.lrc\"\n  },\n  {\n    \"name\": \"听妈妈的话\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/听妈妈的话/听妈妈的话.mp3\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000002jLGWe16Tf1H_1.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/听妈妈的话/听妈妈的话.lrc\"\n  },\n  {\n    \"name\": \"明明就\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/明明就/明明就.flac\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000003Ow85E3pnoqi_1.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/明明就/明明就.lrc\"\n  },\n  {\n    \"name\": \"我是如此相信\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/我是如此相信/我是如此相信.flac\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000001hGx1Z0so1YX_1.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/我是如此相信/我是如此相信.lrc\"\n  },\n  {\n    \"name\": \"发如雪\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.3/发如雪/发如雪.mp3\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M0000024bjiL2aocxT_3.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.3/发如雪/发如雪.lrc\"\n  },\n  {\n    \"name\": \"以父之名\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.3/以父之名/以父之名.mp3\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000000MkMni19ClKG_3.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.3/以父之名/以父之名.lrc\"\n  },\n  {\n    \"name\": \"园游会\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.3/园游会/园游会.flac\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000003DFRzD192KKD_1.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.3/园游会/园游会.lrc\"\n  },\n  {\n    \"name\": \"本草纲目\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.4/本草纲目/本草纲目.mp3\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000002jLGWe16Tf1H_1.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.4/本草纲目/本草纲目.lrc\"\n  },\n  {\n    \"name\": \"龙卷风\",\n    \"artist\": \"周杰伦\",\n    \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.4/龙卷风/龙卷风.mp3\",\n    \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000000f01724fd7TH_1.jpg?max_age=2592000\",\n    \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.4/龙卷风/龙卷风.lrc\"\n  }\n]","date":"2023-12-02T07:13:28.085Z","updated":"2023-12-02T07:13:28.085Z","path":"json/music.json","layout":"false","title":"","comments":1,"_id":"clpnq0t8w0005pspkfwz0h2qg","content":"[{\"name\":\"青花瓷\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.4/青花瓷/青花瓷.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000002eFUFm2XYZ7z_2.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.4/青花瓷/青花瓷.lrc\"},{\"name\":\"稻香\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/稻香/稻香.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/稻香/稻香.lrc\"},{\"name\":\"晴天\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/晴天/晴天.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000000MkMni19ClKG_3.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/晴天/晴天.lrc\"},{\"name\":\"七里香\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/七里香/七里香.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000003DFRzD192KKD_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/七里香/七里香.lrc\"},{\"name\":\"花海\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/花海/花海.flac\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/花海/花海.lrc\"},{\"name\":\"反方向的钟\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/反方向的钟/反方向的钟.flac\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000000f01724fd7TH_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/反方向的钟/反方向的钟.lrc\"},{\"name\":\"兰亭序\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/兰亭序/兰亭序.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/兰亭序/兰亭序.lrc\"},{\"name\":\"说好的辛福呢\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/说好的辛福呢/说好的辛福呢.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/说好的辛福呢/说好的幸福呢.lrc\"},{\"name\":\"等你下课 (with 杨瑞代)\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/等你下课/等你下课.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000003bSL0v4bpKAx_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/等你下课/等你下课.lrc\"},{\"name\":\"我落泪情绪零碎\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/我落泪情绪零碎/我落泪情绪零碎.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000000bviBl4FjTpO_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/我落泪情绪零碎/我落泪情绪零碎.lrc\"},{\"name\":\"听妈妈的话\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/听妈妈的话/听妈妈的话.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000002jLGWe16Tf1H_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/听妈妈的话/听妈妈的话.lrc\"},{\"name\":\"明明就\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/明明就/明明就.flac\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000003Ow85E3pnoqi_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/明明就/明明就.lrc\"},{\"name\":\"我是如此相信\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/我是如此相信/我是如此相信.flac\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000001hGx1Z0so1YX_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/我是如此相信/我是如此相信.lrc\"},{\"name\":\"发如雪\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.3/发如雪/发如雪.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M0000024bjiL2aocxT_3.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.3/发如雪/发如雪.lrc\"},{\"name\":\"以父之名\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.3/以父之名/以父之名.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000000MkMni19ClKG_3.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.3/以父之名/以父之名.lrc\"},{\"name\":\"园游会\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.3/园游会/园游会.flac\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000003DFRzD192KKD_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.3/园游会/园游会.lrc\"},{\"name\":\"本草纲目\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.4/本草纲目/本草纲目.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000002jLGWe16Tf1H_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.4/本草纲目/本草纲目.lrc\"},{\"name\":\"龙卷风\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.4/龙卷风/龙卷风.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000000f01724fd7TH_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.4/龙卷风/龙卷风.lrc\"}]","site":{"data":{"about":[{"class_name":"关于页","subtitle":"生活明朗，万物可爱✨","avatarImg":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.0/img/avatar.webp","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱","壮汉人狠话不多 💢"]},"name":"陈志伟","description":"是一名 前端工程师、学生、独立开发者、博主","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"EDU,软件工程专业","color":"#357ef5"},{"desc":"EDU,软件工程专业","color":"#357ef5"},{"desc":"EDU,软件工程专业","color":"#357ef5"}],"img":"https://bu.dusays.com/2023/04/21/644287166329b.png"},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，长沙市","background":"https://bu.dusays.com/2023/07/05/64a4c61cb20ef.jpg","backgroundDark":"https://bu.dusays.com/2023/07/05/64a4c63495ac5.jpg"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2002,"selfInfoTips2":"湖南信息学院","selfInfoContent2":"软件工程","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"personalities":{"author_name":"执政官","personality_type":"ESFJ-A","photo_url":"https://bu.dusays.com/2023/07/05/64a4c63495ac5.jpg","personality_img":"https://npm.elemecdn.com/anzhiyu-blog@2.0.8/img/svg/ESFJ-A.svg","name_url":"https://www.16personalities.com/ch/esfj-%E4%BA%BA%E6%A0%BC"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"咸鱼的日常生活。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"https://img02.anheyu.com/adminuploads/1/2022/08/21/630249e2df20f.jpg","essay_list":[{"content":"安知鱼主题指南","date":"2023/09/09","video":["https://player.bilibili.com/player.html?aid=226886152&bvid=BV1Ch41137tR&cid=1081639816&p=1&autoplay=0"]},{"content":"支持了Accesskey快捷键，可以直接按下shift + ?组合键以查看快捷键选项。","date":"2023/07/01","video":["https://cdn.jsdelivr.net/npm/anzhiyu-blog-static@1.0.0/video/%E9%A3%8E%E8%BD%A6%E6%A0%B7%E5%BC%8F%E6%95%88%E6%9E%9C%E9%A2%84%E8%A7%88.mp4"],"image":["https://img02.anheyu.com/adminuploads/1/2023/07/01/64a033cb2c21e.webp!blogimg"],"address":"长沙","from":"安知鱼","link":"/posts/e140.html"},{"content":"音乐支持了参数设置自定义歌单","date":"2023/01/02","link":"https://blog.anheyu.com/music/?id=7269231710&server=tencent"},{"content":"关于页的打赏仿了b站的充电功能，使用svg绘图➕一些动画参数移动，应该不会被b站警告吧😜，另外文章也支持了顶部随机b站同款春秋冬banner。","date":"2022/12/18"},{"content":"React中不能直接修改state的一个重要原因是在性能优化时的prueComponment会进行浅层比较会认为是用一个对象且不能进入队列中批量更新","date":"2022/12/10"},{"content":"好耶，马上就可以放假回家了！好想家里的好吃的😋！才不是想捏妹妹的脸了","date":"2022/12/06"},{"content":"全局音乐的动画也处理好了, nice!","date":"2022/11/13"},{"content":"把页脚, 首页顶部全都魔改到本地了, 方便后续魔改, 音乐也改成胶囊的样式了, 其实还是想让胶囊可拖拽, 不可点击改变歌词位置的, 但是弄了半天都没弄好就放弃了","date":"2022/11/13"},{"content":"朋友圈船新版本终于写完了, 耶✌️","date":"2022/11/05","link":"https://blog.anheyu.com/album/"},{"content":"终于把相册集搞定了, 耶✌️, 瀑布流在滑动滚动条一个视口范围上下100的情况执行一次, 到底部停止监听让性能高了好多，再也不会布局混乱🤪了","date":"2022/10/25","link":"https://blog.anheyu.com/album/"},{"content":"搜索🔍支持缩略图显示啦（默认获取文章内容的第一张图片）","date":"2022/10/23 08:00:00","from":"安知鱼"},{"content":"遇见彩虹🌈吃定彩虹","date":"2022/10/23 10:00:00","image":["https://bu.dusays.com/2023/04/09/64329399e285d.webp","https://bu.dusays.com/2023/04/09/64329399aa3bc.webp","https://bu.dusays.com/2023/04/09/6432939996dd7.webp"]},{"content":"ThreeJs API真多丫","date":"2022/10/19"},{"content":"妹妹强制要求我买走了她的两幅画 -¥30","date":"2022/10/02","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]},{"content":"歌曲推荐","date":"2022/09/25","aplayer":{"server":"tencent","id":"001FGQba3i10mw"}},{"content":"做了一个噩梦, 梦到从楼顶坠下去了。😷","date":"2022/09/24"},{"content":"JOJO是真的好看！","date":"2022/09/21","link":"https://www.bilibili.com/bangumi/play/ss39431?spm_id_from=333.337.0.0"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}]}},"cover":false,"excerpt":"","more":"[{\"name\":\"青花瓷\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.4/青花瓷/青花瓷.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000002eFUFm2XYZ7z_2.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.4/青花瓷/青花瓷.lrc\"},{\"name\":\"稻香\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/稻香/稻香.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/稻香/稻香.lrc\"},{\"name\":\"晴天\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/晴天/晴天.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000000MkMni19ClKG_3.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/晴天/晴天.lrc\"},{\"name\":\"七里香\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/七里香/七里香.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000003DFRzD192KKD_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/七里香/七里香.lrc\"},{\"name\":\"花海\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/花海/花海.flac\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/花海/花海.lrc\"},{\"name\":\"反方向的钟\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/反方向的钟/反方向的钟.flac\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000000f01724fd7TH_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/反方向的钟/反方向的钟.lrc\"},{\"name\":\"兰亭序\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/兰亭序/兰亭序.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/兰亭序/兰亭序.lrc\"},{\"name\":\"说好的辛福呢\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/说好的辛福呢/说好的辛福呢.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/说好的辛福呢/说好的幸福呢.lrc\"},{\"name\":\"等你下课 (with 杨瑞代)\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/等你下课/等你下课.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000003bSL0v4bpKAx_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/等你下课/等你下课.lrc\"},{\"name\":\"我落泪情绪零碎\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/我落泪情绪零碎/我落泪情绪零碎.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000000bviBl4FjTpO_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/我落泪情绪零碎/我落泪情绪零碎.lrc\"},{\"name\":\"听妈妈的话\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/听妈妈的话/听妈妈的话.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000002jLGWe16Tf1H_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/听妈妈的话/听妈妈的话.lrc\"},{\"name\":\"明明就\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/明明就/明明就.flac\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000003Ow85E3pnoqi_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/明明就/明明就.lrc\"},{\"name\":\"我是如此相信\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/我是如此相信/我是如此相信.flac\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000001hGx1Z0so1YX_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/我是如此相信/我是如此相信.lrc\"},{\"name\":\"发如雪\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.3/发如雪/发如雪.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M0000024bjiL2aocxT_3.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.3/发如雪/发如雪.lrc\"},{\"name\":\"以父之名\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.3/以父之名/以父之名.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000000MkMni19ClKG_3.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.3/以父之名/以父之名.lrc\"},{\"name\":\"园游会\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.3/园游会/园游会.flac\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000003DFRzD192KKD_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.3/园游会/园游会.lrc\"},{\"name\":\"本草纲目\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.4/本草纲目/本草纲目.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000002jLGWe16Tf1H_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.4/本草纲目/本草纲目.lrc\"},{\"name\":\"龙卷风\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.4/龙卷风/龙卷风.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000000f01724fd7TH_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.4/龙卷风/龙卷风.lrc\"}]"},{"title":"music","date":"2023-12-02T07:12:18.000Z","type":"music","aplayer":true,"top_img":false,"comments":0,"aside":false,"_content":"","source":"music/index.md","raw":"---\ntitle: music\ndate: 2023-12-02 15:12:18\ntype: music\naplayer: true\ntop_img: false\ncomments: false\naside: false\n---\n","updated":"2023-12-02T07:12:38.821Z","path":"music/index.html","layout":"page","_id":"clpnq0t8x0006pspkbulzglk7","content":"","site":{"data":{"about":[{"class_name":"关于页","subtitle":"生活明朗，万物可爱✨","avatarImg":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.0/img/avatar.webp","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱","壮汉人狠话不多 💢"]},"name":"陈志伟","description":"是一名 前端工程师、学生、独立开发者、博主","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"EDU,软件工程专业","color":"#357ef5"},{"desc":"EDU,软件工程专业","color":"#357ef5"},{"desc":"EDU,软件工程专业","color":"#357ef5"}],"img":"https://bu.dusays.com/2023/04/21/644287166329b.png"},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，长沙市","background":"https://bu.dusays.com/2023/07/05/64a4c61cb20ef.jpg","backgroundDark":"https://bu.dusays.com/2023/07/05/64a4c63495ac5.jpg"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2002,"selfInfoTips2":"湖南信息学院","selfInfoContent2":"软件工程","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"personalities":{"author_name":"执政官","personality_type":"ESFJ-A","photo_url":"https://bu.dusays.com/2023/07/05/64a4c63495ac5.jpg","personality_img":"https://npm.elemecdn.com/anzhiyu-blog@2.0.8/img/svg/ESFJ-A.svg","name_url":"https://www.16personalities.com/ch/esfj-%E4%BA%BA%E6%A0%BC"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"咸鱼的日常生活。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"https://img02.anheyu.com/adminuploads/1/2022/08/21/630249e2df20f.jpg","essay_list":[{"content":"安知鱼主题指南","date":"2023/09/09","video":["https://player.bilibili.com/player.html?aid=226886152&bvid=BV1Ch41137tR&cid=1081639816&p=1&autoplay=0"]},{"content":"支持了Accesskey快捷键，可以直接按下shift + ?组合键以查看快捷键选项。","date":"2023/07/01","video":["https://cdn.jsdelivr.net/npm/anzhiyu-blog-static@1.0.0/video/%E9%A3%8E%E8%BD%A6%E6%A0%B7%E5%BC%8F%E6%95%88%E6%9E%9C%E9%A2%84%E8%A7%88.mp4"],"image":["https://img02.anheyu.com/adminuploads/1/2023/07/01/64a033cb2c21e.webp!blogimg"],"address":"长沙","from":"安知鱼","link":"/posts/e140.html"},{"content":"音乐支持了参数设置自定义歌单","date":"2023/01/02","link":"https://blog.anheyu.com/music/?id=7269231710&server=tencent"},{"content":"关于页的打赏仿了b站的充电功能，使用svg绘图➕一些动画参数移动，应该不会被b站警告吧😜，另外文章也支持了顶部随机b站同款春秋冬banner。","date":"2022/12/18"},{"content":"React中不能直接修改state的一个重要原因是在性能优化时的prueComponment会进行浅层比较会认为是用一个对象且不能进入队列中批量更新","date":"2022/12/10"},{"content":"好耶，马上就可以放假回家了！好想家里的好吃的😋！才不是想捏妹妹的脸了","date":"2022/12/06"},{"content":"全局音乐的动画也处理好了, nice!","date":"2022/11/13"},{"content":"把页脚, 首页顶部全都魔改到本地了, 方便后续魔改, 音乐也改成胶囊的样式了, 其实还是想让胶囊可拖拽, 不可点击改变歌词位置的, 但是弄了半天都没弄好就放弃了","date":"2022/11/13"},{"content":"朋友圈船新版本终于写完了, 耶✌️","date":"2022/11/05","link":"https://blog.anheyu.com/album/"},{"content":"终于把相册集搞定了, 耶✌️, 瀑布流在滑动滚动条一个视口范围上下100的情况执行一次, 到底部停止监听让性能高了好多，再也不会布局混乱🤪了","date":"2022/10/25","link":"https://blog.anheyu.com/album/"},{"content":"搜索🔍支持缩略图显示啦（默认获取文章内容的第一张图片）","date":"2022/10/23 08:00:00","from":"安知鱼"},{"content":"遇见彩虹🌈吃定彩虹","date":"2022/10/23 10:00:00","image":["https://bu.dusays.com/2023/04/09/64329399e285d.webp","https://bu.dusays.com/2023/04/09/64329399aa3bc.webp","https://bu.dusays.com/2023/04/09/6432939996dd7.webp"]},{"content":"ThreeJs API真多丫","date":"2022/10/19"},{"content":"妹妹强制要求我买走了她的两幅画 -¥30","date":"2022/10/02","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]},{"content":"歌曲推荐","date":"2022/09/25","aplayer":{"server":"tencent","id":"001FGQba3i10mw"}},{"content":"做了一个噩梦, 梦到从楼顶坠下去了。😷","date":"2022/09/24"},{"content":"JOJO是真的好看！","date":"2022/09/21","link":"https://www.bilibili.com/bangumi/play/ss39431?spm_id_from=333.337.0.0"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}]}},"cover":false,"excerpt":"","more":""},{"title":"link","date":"2023-12-02T06:58:49.000Z","type":"link","_content":"","source":"link/index.md","raw":"---\ntitle: link\ndate: 2023-12-02 14:58:49\ntype: \"link\"\n---\n","updated":"2023-12-02T07:00:20.516Z","path":"link/index.html","comments":1,"layout":"page","_id":"clpnq0t8x0007pspkfc5w7ccb","content":"","site":{"data":{"about":[{"class_name":"关于页","subtitle":"生活明朗，万物可爱✨","avatarImg":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.0/img/avatar.webp","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱","壮汉人狠话不多 💢"]},"name":"陈志伟","description":"是一名 前端工程师、学生、独立开发者、博主","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"EDU,软件工程专业","color":"#357ef5"},{"desc":"EDU,软件工程专业","color":"#357ef5"},{"desc":"EDU,软件工程专业","color":"#357ef5"}],"img":"https://bu.dusays.com/2023/04/21/644287166329b.png"},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，长沙市","background":"https://bu.dusays.com/2023/07/05/64a4c61cb20ef.jpg","backgroundDark":"https://bu.dusays.com/2023/07/05/64a4c63495ac5.jpg"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2002,"selfInfoTips2":"湖南信息学院","selfInfoContent2":"软件工程","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"personalities":{"author_name":"执政官","personality_type":"ESFJ-A","photo_url":"https://bu.dusays.com/2023/07/05/64a4c63495ac5.jpg","personality_img":"https://npm.elemecdn.com/anzhiyu-blog@2.0.8/img/svg/ESFJ-A.svg","name_url":"https://www.16personalities.com/ch/esfj-%E4%BA%BA%E6%A0%BC"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"咸鱼的日常生活。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"https://img02.anheyu.com/adminuploads/1/2022/08/21/630249e2df20f.jpg","essay_list":[{"content":"安知鱼主题指南","date":"2023/09/09","video":["https://player.bilibili.com/player.html?aid=226886152&bvid=BV1Ch41137tR&cid=1081639816&p=1&autoplay=0"]},{"content":"支持了Accesskey快捷键，可以直接按下shift + ?组合键以查看快捷键选项。","date":"2023/07/01","video":["https://cdn.jsdelivr.net/npm/anzhiyu-blog-static@1.0.0/video/%E9%A3%8E%E8%BD%A6%E6%A0%B7%E5%BC%8F%E6%95%88%E6%9E%9C%E9%A2%84%E8%A7%88.mp4"],"image":["https://img02.anheyu.com/adminuploads/1/2023/07/01/64a033cb2c21e.webp!blogimg"],"address":"长沙","from":"安知鱼","link":"/posts/e140.html"},{"content":"音乐支持了参数设置自定义歌单","date":"2023/01/02","link":"https://blog.anheyu.com/music/?id=7269231710&server=tencent"},{"content":"关于页的打赏仿了b站的充电功能，使用svg绘图➕一些动画参数移动，应该不会被b站警告吧😜，另外文章也支持了顶部随机b站同款春秋冬banner。","date":"2022/12/18"},{"content":"React中不能直接修改state的一个重要原因是在性能优化时的prueComponment会进行浅层比较会认为是用一个对象且不能进入队列中批量更新","date":"2022/12/10"},{"content":"好耶，马上就可以放假回家了！好想家里的好吃的😋！才不是想捏妹妹的脸了","date":"2022/12/06"},{"content":"全局音乐的动画也处理好了, nice!","date":"2022/11/13"},{"content":"把页脚, 首页顶部全都魔改到本地了, 方便后续魔改, 音乐也改成胶囊的样式了, 其实还是想让胶囊可拖拽, 不可点击改变歌词位置的, 但是弄了半天都没弄好就放弃了","date":"2022/11/13"},{"content":"朋友圈船新版本终于写完了, 耶✌️","date":"2022/11/05","link":"https://blog.anheyu.com/album/"},{"content":"终于把相册集搞定了, 耶✌️, 瀑布流在滑动滚动条一个视口范围上下100的情况执行一次, 到底部停止监听让性能高了好多，再也不会布局混乱🤪了","date":"2022/10/25","link":"https://blog.anheyu.com/album/"},{"content":"搜索🔍支持缩略图显示啦（默认获取文章内容的第一张图片）","date":"2022/10/23 08:00:00","from":"安知鱼"},{"content":"遇见彩虹🌈吃定彩虹","date":"2022/10/23 10:00:00","image":["https://bu.dusays.com/2023/04/09/64329399e285d.webp","https://bu.dusays.com/2023/04/09/64329399aa3bc.webp","https://bu.dusays.com/2023/04/09/6432939996dd7.webp"]},{"content":"ThreeJs API真多丫","date":"2022/10/19"},{"content":"妹妹强制要求我买走了她的两幅画 -¥30","date":"2022/10/02","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]},{"content":"歌曲推荐","date":"2022/09/25","aplayer":{"server":"tencent","id":"001FGQba3i10mw"}},{"content":"做了一个噩梦, 梦到从楼顶坠下去了。😷","date":"2022/09/24"},{"content":"JOJO是真的好看！","date":"2022/09/21","link":"https://www.bilibili.com/bangumi/play/ss39431?spm_id_from=333.337.0.0"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}]}},"cover":false,"excerpt":"","more":""}],"Post":[{"title":"hexo-anzhiyu学习","date":"2023-09-01T12:12:32.000Z","keywords":"hexo-anzhiyu学习","description":"hexo-anzhiyu学习","top_img":"/img/houduan.png","comments":1,"cover":"/img/houduan.png","toc":null,"toc_number":null,"toc_style_simple":null,"copyright":null,"copyright_author":"xingxing","copyright_author_href":"www.staraway.asia","copyright_url":null,"copyright_info":"可转载哦","mathjax":null,"katex":null,"aplayer":null,"highlight_shrink":null,"aside":null,"swiper_index":1,"top_group_index":1,"background":"#fff","_content":"\n\n## \n\nPost Front-matter\n\n\n| _**写法**_            | _**解释**_                                                                                  |\n| --------------------- | ------------------------------------------------------------------------------------------- |\n| title                 | 【必需】文章标题                                                                            |\n| date                  | 【必需】文章创建日期                                                                        |\n| updated               | 【可选】文章更新日期                                                                        |\n| tags                  | 【可选】文章标签                                                                            |\n| categories            | 【可选】文章分类                                                                            |\n| keywords              | 【可选】文章关键字                                                                          |\n| description           | 【可选】文章描述                                                                            |\n| top_img               | 【可选】文章顶部图片                                                                        |\n| cover                 | 【可选】文章缩略图(如果没有设置 top_img,文章页顶部将显示缩略图，可设为 false/图片地址/留空) |\n| comments              | 【可选】显示文章评论模块(默认 true)                                                         |\n| toc                   | 【可选】显示文章 TOC(默认为设置中 toc 的 enable 配置)                                       |\n| toc_number            | 【可选】显示 toc_number(默认为设置中 toc 的 number 配置)                                    |\n| toc_style_simple      | 【可选】显示 toc 简洁模式                                                                   |\n| copyright             | 【可选】显示文章版权模块(默认为设置中 post_copyright 的 enable 配置)                        |\n| copyright_author      | 【可选】文章版权模块的`文章作者`                                                            |\n| copyright_author_href | 【可选】文章版权模块的`文章作者`链接                                                        |\n| copyright_url         | 【可选】文章版权模块的`文章链接`链接                                                        |\n| copyright_info        | 【可选】文章版权模块的版权声明文字                                                          |\n| mathjax               | 【可选】显示 mathjax(当设置 mathjax 的 per_page: false 时，才需要配置，默认 false)          |\n| katex                 | 【可选】显示 katex(当设置 katex 的 per_page: false 时，才需要配置，默认 false)              |\n| aplayer               | 【可选】在需要的页面加载 aplayer 的 js 和 css,请参考文章下面的`音乐` 配置                   |\n| highlight_shrink      | 【可选】配置代码框是否展开(true/false)(默认为设置中 highlight_shrink 的配置)                |\n| aside                 | 【可选】显示侧边栏 (默认 true)                                                              |\n| swiper_index          | 【可选】首页轮播图配置 index 索引，数字越小越靠前                                           |\n| top_group_index       | 【可选】首页右侧卡片组配置, 数字越小越靠前                                                  |\n| ai                    | 【可选】文章ai摘要                                                                          |\n| main_color            | 【可选】文章主色，必须是16进制颜色且有6位，不可缩减，例如#ffffff 不可写成#fff               |\n\n1. 首页轮播图配置: `swiper_index`, 数字越小越靠前\n2. 首页卡片配置: `top_group_index`, 数字越小越靠前\n3. page 中`top_single_background`, 可配置部分页面的顶部背景图片\n","source":"_posts/hexo-anzhiyu学习.md","raw":"---\ntitle: hexo-anzhiyu学习\ndate: 2023-9-01 20:12:32\ntags: 就业\ncategories: 后端\nkeywords: hexo-anzhiyu学习\ndescription: hexo-anzhiyu学习\ntop_img: /img/houduan.png\ncomments: true\ncover: /img/houduan.png\ntoc: \ntoc_number:\ntoc_style_simple:\ncopyright: \ncopyright_author: xingxing\ncopyright_author_href: www.staraway.asia\ncopyright_url:\ncopyright_info: 可转载哦\nmathjax:\nkatex:\naplayer:\nhighlight_shrink:\naside:\nswiper_index: 1\ntop_group_index: 1\nbackground: \"#fff\"\n---\n\n\n## \n\nPost Front-matter\n\n\n| _**写法**_            | _**解释**_                                                                                  |\n| --------------------- | ------------------------------------------------------------------------------------------- |\n| title                 | 【必需】文章标题                                                                            |\n| date                  | 【必需】文章创建日期                                                                        |\n| updated               | 【可选】文章更新日期                                                                        |\n| tags                  | 【可选】文章标签                                                                            |\n| categories            | 【可选】文章分类                                                                            |\n| keywords              | 【可选】文章关键字                                                                          |\n| description           | 【可选】文章描述                                                                            |\n| top_img               | 【可选】文章顶部图片                                                                        |\n| cover                 | 【可选】文章缩略图(如果没有设置 top_img,文章页顶部将显示缩略图，可设为 false/图片地址/留空) |\n| comments              | 【可选】显示文章评论模块(默认 true)                                                         |\n| toc                   | 【可选】显示文章 TOC(默认为设置中 toc 的 enable 配置)                                       |\n| toc_number            | 【可选】显示 toc_number(默认为设置中 toc 的 number 配置)                                    |\n| toc_style_simple      | 【可选】显示 toc 简洁模式                                                                   |\n| copyright             | 【可选】显示文章版权模块(默认为设置中 post_copyright 的 enable 配置)                        |\n| copyright_author      | 【可选】文章版权模块的`文章作者`                                                            |\n| copyright_author_href | 【可选】文章版权模块的`文章作者`链接                                                        |\n| copyright_url         | 【可选】文章版权模块的`文章链接`链接                                                        |\n| copyright_info        | 【可选】文章版权模块的版权声明文字                                                          |\n| mathjax               | 【可选】显示 mathjax(当设置 mathjax 的 per_page: false 时，才需要配置，默认 false)          |\n| katex                 | 【可选】显示 katex(当设置 katex 的 per_page: false 时，才需要配置，默认 false)              |\n| aplayer               | 【可选】在需要的页面加载 aplayer 的 js 和 css,请参考文章下面的`音乐` 配置                   |\n| highlight_shrink      | 【可选】配置代码框是否展开(true/false)(默认为设置中 highlight_shrink 的配置)                |\n| aside                 | 【可选】显示侧边栏 (默认 true)                                                              |\n| swiper_index          | 【可选】首页轮播图配置 index 索引，数字越小越靠前                                           |\n| top_group_index       | 【可选】首页右侧卡片组配置, 数字越小越靠前                                                  |\n| ai                    | 【可选】文章ai摘要                                                                          |\n| main_color            | 【可选】文章主色，必须是16进制颜色且有6位，不可缩减，例如#ffffff 不可写成#fff               |\n\n1. 首页轮播图配置: `swiper_index`, 数字越小越靠前\n2. 首页卡片配置: `top_group_index`, 数字越小越靠前\n3. page 中`top_single_background`, 可配置部分页面的顶部背景图片\n","slug":"hexo-anzhiyu学习","published":1,"updated":"2023-12-05T03:15:55.324Z","_id":"clpmnlgrn0003qopkeql89g8f","layout":"post","photos":[],"link":"","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Post Front-matter</p>\n<table>\n<thead>\n<tr>\n<th><em><strong>写法</strong></em></th>\n<th><em><strong>解释</strong></em></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>title</td>\n<td>【必需】文章标题</td>\n</tr>\n<tr>\n<td>date</td>\n<td>【必需】文章创建日期</td>\n</tr>\n<tr>\n<td>updated</td>\n<td>【可选】文章更新日期</td>\n</tr>\n<tr>\n<td>tags</td>\n<td>【可选】文章标签</td>\n</tr>\n<tr>\n<td>categories</td>\n<td>【可选】文章分类</td>\n</tr>\n<tr>\n<td>keywords</td>\n<td>【可选】文章关键字</td>\n</tr>\n<tr>\n<td>description</td>\n<td>【可选】文章描述</td>\n</tr>\n<tr>\n<td>top_img</td>\n<td>【可选】文章顶部图片</td>\n</tr>\n<tr>\n<td>cover</td>\n<td>【可选】文章缩略图(如果没有设置 top_img,文章页顶部将显示缩略图，可设为 false&#x2F;图片地址&#x2F;留空)</td>\n</tr>\n<tr>\n<td>comments</td>\n<td>【可选】显示文章评论模块(默认 true)</td>\n</tr>\n<tr>\n<td>toc</td>\n<td>【可选】显示文章 TOC(默认为设置中 toc 的 enable 配置)</td>\n</tr>\n<tr>\n<td>toc_number</td>\n<td>【可选】显示 toc_number(默认为设置中 toc 的 number 配置)</td>\n</tr>\n<tr>\n<td>toc_style_simple</td>\n<td>【可选】显示 toc 简洁模式</td>\n</tr>\n<tr>\n<td>copyright</td>\n<td>【可选】显示文章版权模块(默认为设置中 post_copyright 的 enable 配置)</td>\n</tr>\n<tr>\n<td>copyright_author</td>\n<td>【可选】文章版权模块的<code>文章作者</code></td>\n</tr>\n<tr>\n<td>copyright_author_href</td>\n<td>【可选】文章版权模块的<code>文章作者</code>链接</td>\n</tr>\n<tr>\n<td>copyright_url</td>\n<td>【可选】文章版权模块的<code>文章链接</code>链接</td>\n</tr>\n<tr>\n<td>copyright_info</td>\n<td>【可选】文章版权模块的版权声明文字</td>\n</tr>\n<tr>\n<td>mathjax</td>\n<td>【可选】显示 mathjax(当设置 mathjax 的 per_page: false 时，才需要配置，默认 false)</td>\n</tr>\n<tr>\n<td>katex</td>\n<td>【可选】显示 katex(当设置 katex 的 per_page: false 时，才需要配置，默认 false)</td>\n</tr>\n<tr>\n<td>aplayer</td>\n<td>【可选】在需要的页面加载 aplayer 的 js 和 css,请参考文章下面的<code>音乐</code> 配置</td>\n</tr>\n<tr>\n<td>highlight_shrink</td>\n<td>【可选】配置代码框是否展开(true&#x2F;false)(默认为设置中 highlight_shrink 的配置)</td>\n</tr>\n<tr>\n<td>aside</td>\n<td>【可选】显示侧边栏 (默认 true)</td>\n</tr>\n<tr>\n<td>swiper_index</td>\n<td>【可选】首页轮播图配置 index 索引，数字越小越靠前</td>\n</tr>\n<tr>\n<td>top_group_index</td>\n<td>【可选】首页右侧卡片组配置, 数字越小越靠前</td>\n</tr>\n<tr>\n<td>ai</td>\n<td>【可选】文章ai摘要</td>\n</tr>\n<tr>\n<td>main_color</td>\n<td>【可选】文章主色，必须是16进制颜色且有6位，不可缩减，例如#ffffff 不可写成#fff</td>\n</tr>\n</tbody></table>\n<ol>\n<li>首页轮播图配置: <code>swiper_index</code>, 数字越小越靠前</li>\n<li>首页卡片配置: <code>top_group_index</code>, 数字越小越靠前</li>\n<li>page 中<code>top_single_background</code>, 可配置部分页面的顶部背景图片</li>\n</ol>\n","site":{"data":{"about":[{"class_name":"关于页","subtitle":"多一点努力，努力多一点✨","avatarImg":"https://avatars.githubusercontent.com/u/106024593?v=4","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱","壮汉人狠话不多 💢"]},"name":"xingxing","description":"是一名 后端工程师、学生、独立开发者","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"EDU,软件工程专业","color":"#357ef5"},{"desc":"EDU,软件工程专业","color":"#357ef5"},{"desc":"EDU,软件工程专业","color":"#357ef5"}],"img":"https://bu.dusays.com/2023/04/21/644287166329b.png"},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，昆明市","background":"https://bu.dusays.com/2023/07/05/64a4c61cb20ef.jpg","backgroundDark":"https://bu.dusays.com/2023/07/05/64a4c63495ac5.jpg"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2002,"selfInfoTips2":"湖南信息学院","selfInfoContent2":"软件工程","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"personalities":{"author_name":"执政官","personality_type":"ESFJ-A","photo_url":"https://bu.dusays.com/2023/07/05/64a4c63495ac5.jpg","personality_img":"https://npm.elemecdn.com/anzhiyu-blog@2.0.8/img/svg/ESFJ-A.svg","name_url":"https://www.16personalities.com/ch/esfj-%E4%BA%BA%E6%A0%BC"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"xingxing的日常。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"https://img02.anheyu.com/adminuploads/1/2022/08/21/630249e2df20f.jpg","essay_list":[{"content":"安知鱼主题指南","date":"2023/09/09","video":["https://player.bilibili.com/player.html?aid=226886152&bvid=BV1Ch41137tR&cid=1081639816&p=1&autoplay=0"]},{"content":"支持了Accesskey快捷键，可以直接按下shift + ?组合键以查看快捷键选项。","date":"2023/07/01","video":["https://cdn.jsdelivr.net/npm/anzhiyu-blog-static@1.0.0/video/%E9%A3%8E%E8%BD%A6%E6%A0%B7%E5%BC%8F%E6%95%88%E6%9E%9C%E9%A2%84%E8%A7%88.mp4"],"image":["https://img02.anheyu.com/adminuploads/1/2023/07/01/64a033cb2c21e.webp!blogimg"],"address":"长沙","from":"安知鱼","link":"/posts/e140.html"},{"content":"音乐支持了参数设置自定义歌单","date":"2023/01/02","link":"https://blog.anheyu.com/music/?id=7269231710&server=tencent"},{"content":"关于页的打赏仿了b站的充电功能，使用svg绘图➕一些动画参数移动，应该不会被b站警告吧😜，另外文章也支持了顶部随机b站同款春秋冬banner。","date":"2022/12/18"},{"content":"React中不能直接修改state的一个重要原因是在性能优化时的prueComponment会进行浅层比较会认为是用一个对象且不能进入队列中批量更新","date":"2022/12/10"},{"content":"好耶，马上就可以放假回家了！好想家里的好吃的😋！才不是想捏妹妹的脸了","date":"2022/12/06"},{"content":"全局音乐的动画也处理好了, nice!","date":"2022/11/13"},{"content":"把页脚, 首页顶部全都魔改到本地了, 方便后续魔改, 音乐也改成胶囊的样式了, 其实还是想让胶囊可拖拽, 不可点击改变歌词位置的, 但是弄了半天都没弄好就放弃了","date":"2022/11/13"},{"content":"朋友圈船新版本终于写完了, 耶✌️","date":"2022/11/05","link":"https://blog.anheyu.com/album/"},{"content":"终于把相册集搞定了, 耶✌️, 瀑布流在滑动滚动条一个视口范围上下100的情况执行一次, 到底部停止监听让性能高了好多，再也不会布局混乱🤪了","date":"2022/10/25","link":"https://blog.anheyu.com/album/"},{"content":"搜索🔍支持缩略图显示啦（默认获取文章内容的第一张图片）","date":"2022/10/23 08:00:00","from":"安知鱼"},{"content":"遇见彩虹🌈吃定彩虹","date":"2022/10/23 10:00:00","image":["https://bu.dusays.com/2023/04/09/64329399e285d.webp","https://bu.dusays.com/2023/04/09/64329399aa3bc.webp","https://bu.dusays.com/2023/04/09/6432939996dd7.webp"]},{"content":"ThreeJs API真多丫","date":"2022/10/19"},{"content":"妹妹强制要求我买走了她的两幅画 -¥30","date":"2022/10/02","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]},{"content":"歌曲推荐","date":"2022/09/25","aplayer":{"server":"tencent","id":"001FGQba3i10mw"}},{"content":"做了一个噩梦, 梦到从楼顶坠下去了。😷","date":"2022/09/24"},{"content":"JOJO是真的好看！","date":"2022/09/21","link":"https://www.bilibili.com/bangumi/play/ss39431?spm_id_from=333.337.0.0"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}]}},"cover_type":"img","excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Post Front-matter</p>\n<table>\n<thead>\n<tr>\n<th><em><strong>写法</strong></em></th>\n<th><em><strong>解释</strong></em></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>title</td>\n<td>【必需】文章标题</td>\n</tr>\n<tr>\n<td>date</td>\n<td>【必需】文章创建日期</td>\n</tr>\n<tr>\n<td>updated</td>\n<td>【可选】文章更新日期</td>\n</tr>\n<tr>\n<td>tags</td>\n<td>【可选】文章标签</td>\n</tr>\n<tr>\n<td>categories</td>\n<td>【可选】文章分类</td>\n</tr>\n<tr>\n<td>keywords</td>\n<td>【可选】文章关键字</td>\n</tr>\n<tr>\n<td>description</td>\n<td>【可选】文章描述</td>\n</tr>\n<tr>\n<td>top_img</td>\n<td>【可选】文章顶部图片</td>\n</tr>\n<tr>\n<td>cover</td>\n<td>【可选】文章缩略图(如果没有设置 top_img,文章页顶部将显示缩略图，可设为 false&#x2F;图片地址&#x2F;留空)</td>\n</tr>\n<tr>\n<td>comments</td>\n<td>【可选】显示文章评论模块(默认 true)</td>\n</tr>\n<tr>\n<td>toc</td>\n<td>【可选】显示文章 TOC(默认为设置中 toc 的 enable 配置)</td>\n</tr>\n<tr>\n<td>toc_number</td>\n<td>【可选】显示 toc_number(默认为设置中 toc 的 number 配置)</td>\n</tr>\n<tr>\n<td>toc_style_simple</td>\n<td>【可选】显示 toc 简洁模式</td>\n</tr>\n<tr>\n<td>copyright</td>\n<td>【可选】显示文章版权模块(默认为设置中 post_copyright 的 enable 配置)</td>\n</tr>\n<tr>\n<td>copyright_author</td>\n<td>【可选】文章版权模块的<code>文章作者</code></td>\n</tr>\n<tr>\n<td>copyright_author_href</td>\n<td>【可选】文章版权模块的<code>文章作者</code>链接</td>\n</tr>\n<tr>\n<td>copyright_url</td>\n<td>【可选】文章版权模块的<code>文章链接</code>链接</td>\n</tr>\n<tr>\n<td>copyright_info</td>\n<td>【可选】文章版权模块的版权声明文字</td>\n</tr>\n<tr>\n<td>mathjax</td>\n<td>【可选】显示 mathjax(当设置 mathjax 的 per_page: false 时，才需要配置，默认 false)</td>\n</tr>\n<tr>\n<td>katex</td>\n<td>【可选】显示 katex(当设置 katex 的 per_page: false 时，才需要配置，默认 false)</td>\n</tr>\n<tr>\n<td>aplayer</td>\n<td>【可选】在需要的页面加载 aplayer 的 js 和 css,请参考文章下面的<code>音乐</code> 配置</td>\n</tr>\n<tr>\n<td>highlight_shrink</td>\n<td>【可选】配置代码框是否展开(true&#x2F;false)(默认为设置中 highlight_shrink 的配置)</td>\n</tr>\n<tr>\n<td>aside</td>\n<td>【可选】显示侧边栏 (默认 true)</td>\n</tr>\n<tr>\n<td>swiper_index</td>\n<td>【可选】首页轮播图配置 index 索引，数字越小越靠前</td>\n</tr>\n<tr>\n<td>top_group_index</td>\n<td>【可选】首页右侧卡片组配置, 数字越小越靠前</td>\n</tr>\n<tr>\n<td>ai</td>\n<td>【可选】文章ai摘要</td>\n</tr>\n<tr>\n<td>main_color</td>\n<td>【可选】文章主色，必须是16进制颜色且有6位，不可缩减，例如#ffffff 不可写成#fff</td>\n</tr>\n</tbody></table>\n<ol>\n<li>首页轮播图配置: <code>swiper_index</code>, 数字越小越靠前</li>\n<li>首页卡片配置: <code>top_group_index</code>, 数字越小越靠前</li>\n<li>page 中<code>top_single_background</code>, 可配置部分页面的顶部背景图片</li>\n</ol>\n"},{"title":"docker常用命令合集","keywords":"docker, 命令, 云原生","description":"docker命令二览","top_img":"/img/yunyuansheng.png","comments":1,"cover":"/img/yunyuansheng.png","copyright_author":"xingxing","copyright_author_href":"www.staraway.asia","copyright_info":"本篇转载自我的掘金。","date":"2023-05-04T08:37:24.000Z","_content":"\n## 镜像相关\n- 查看镜像列表\n```bash\ndocker images\n```\n- 镜像搜索`显示包含name字段的所有官方镜像和star数，可以选择需要的进行下载`\n\n```bash\ndocker search xnamex\n```\n\n![1](../images/docker常用命令合集-1701679683733.png)\n- 下拉镜像\n```bash\ndocker pull xnamex\ndocker pull xnamex:tag\n```\n- 删除镜像\n``` bash\ndocker rmi -f xnamex/xidx\n```\n- 保存镜像（压缩为tar文件，可以随意取出）\n``` bash\ndocker save xname/xidx -o 保存位置\n```\n- 加载镜像（配合前面的保存镜像）\n``` bash\ndocker load -i 镜像tar包保存位置\n```\n### 容器相关\n\n- 查看容器列表\n``` bash\ndocker ps\n```\n- 创建容器\n\n``` bash\ndocker run -it -d --name 运行的容器的别名 -p 宿主机端口：容器端口 -v 宿主机文件存储位置：容器内文件位置 镜像名：tag /bin/bash\n```\n`参数含义`:\n1. -it 表示可以与该运行的容器进行交互，如进入mysql\n2. -d 表示可以后台运行容器 （守护式运行）\n3. /bin/bash 交互路径\n4. -p 将容器的端口映射到宿主机上面，可以通过宿主机访问内部端口\n5. -v 将容器内的指定文件夹挂载到宿主机对应位置（防止容器关闭后数据丢失）\n\n- 停止容器\n\n``` bash\ndocker stop xname/xidx\n```\n- 删除容器\n``` bash\n# 删除一个容器\ndocker rm -f xnamex/xidx\n# 删除多个容器 空格隔开要删除的容器名或者容器id\ndocker rm -f xnamex/xidx xnamex/xidx xnamex/xidx\n# 删除全部容器\ndocker rm -f $(docker ps -aq)\n```\n- 进入容器(只能进入正在运行的容器)\n\n``` bash\ndocker attach xnamex/xidx\n```\n### 数据卷相关\n- 创建数据卷\n```bash\ndocker volume create xnamex\n```\n- 查看所有数据卷\n\n``` bash\ndocker volume ls\n```\n- 查看数据卷的所有信息（包含关联的宿主机目录位置）\n``` bash\ndocker volume inspect xnamex\n```\n\n![2](../images/docker常用命令合集-1701679704149.png)\n\n- 删除数据卷\n\n``` bash\ndocker volume rm xnamex\n``` \n- 删除所有未使用过的数据卷\n\n```bash\ndocker volume prune\n```\n\n### docker安装相关（linux）\n1. 如果之前安装了旧版docker，请先删除。\n```bash\nsudo yum remove docker \\\n                  docker-client \\\n                  docker-client-latest \\\n                  docker-common \\\n                  docker-latest \\\n                  docker-latest-logrotate \\\n                  docker-logrotate \\\n                  docker-engine\n```\n\n2. 安装仓库\n```bash\nsudo yum install -y yum-utils\n\nsudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\n```\n\n3. 安装docker engine\n\n```bash\nsudo yum install docker-ce docker-ce-cli containerd.io docker-compose-plugin\n```\n\n4. 配置国内镜像仓库地址：\n\n新建`/etc/docker/daemon.json`文件，输入如下内容：\n```bash\n{\n  \"registry-mirrors\": [\n    \"https://registry.docker-cn.com\",\n    \"http://hub-mirror.c.163.com\",\n    \"https://fsp2sfpr.mirror.aliyuncs.com/\"\n  ]\n}\n```\n\n5. 然后重启，配置开机启动\n\n```bash\nsudo systemctl restart docker\nsudo systemctl enable docker\nsudo systemctl enable containerd\n```\n\n### 网络相关\ndocker会自动创建三个网络，`bridge`,`host`,`none`\n\n\n![3](../images/docker常用命令合集-1701679717546.png)\n\n\n-   bridge桥接网络\n\n如果不指定，新创建的容器默认将连接到bridge网络。\n\n默认情况下，使用bridge网络，宿主机可以ping通容器ip，容器中也能ping通宿主机。\n\n容器之间只能通过 IP 地址相互访问，由于容器的ip会随着启动顺序发生变化，因此不推荐使用ip访问。\n\n-   host\n\n`慎用，可能会有安全问题。`\n\n容器与宿主机共享网络，不需要映射端口即可通过宿主机IP访问。（-p选项会被忽略）\n\n主机模式网络可用于优化性能，在容器需要处理大量端口的情况下，它不需要网络地址转换 （NAT），并且不会为每个端口创建“用户空间代理”。\n\n-   none\n\n禁用容器中所用网络，在启动容器时使用。\n","source":"_posts/docker常用命令合集.md","raw":"---\ntitle: docker常用命令合集\ntags: \n  - docker\n  - 云原生\ncategories: docker\nkeywords: docker, 命令, 云原生\ndescription: docker命令二览\ntop_img: /img/yunyuansheng.png\ncomments: true\ncover: /img/yunyuansheng.png\ncopyright_author: xingxing\ncopyright_author_href: www.staraway.asia\ncopyright_info: 本篇转载自我的掘金。\ndate: 2023-5-04 16:37:24\n---\n\n## 镜像相关\n- 查看镜像列表\n```bash\ndocker images\n```\n- 镜像搜索`显示包含name字段的所有官方镜像和star数，可以选择需要的进行下载`\n\n```bash\ndocker search xnamex\n```\n\n![1](../images/docker常用命令合集-1701679683733.png)\n- 下拉镜像\n```bash\ndocker pull xnamex\ndocker pull xnamex:tag\n```\n- 删除镜像\n``` bash\ndocker rmi -f xnamex/xidx\n```\n- 保存镜像（压缩为tar文件，可以随意取出）\n``` bash\ndocker save xname/xidx -o 保存位置\n```\n- 加载镜像（配合前面的保存镜像）\n``` bash\ndocker load -i 镜像tar包保存位置\n```\n### 容器相关\n\n- 查看容器列表\n``` bash\ndocker ps\n```\n- 创建容器\n\n``` bash\ndocker run -it -d --name 运行的容器的别名 -p 宿主机端口：容器端口 -v 宿主机文件存储位置：容器内文件位置 镜像名：tag /bin/bash\n```\n`参数含义`:\n1. -it 表示可以与该运行的容器进行交互，如进入mysql\n2. -d 表示可以后台运行容器 （守护式运行）\n3. /bin/bash 交互路径\n4. -p 将容器的端口映射到宿主机上面，可以通过宿主机访问内部端口\n5. -v 将容器内的指定文件夹挂载到宿主机对应位置（防止容器关闭后数据丢失）\n\n- 停止容器\n\n``` bash\ndocker stop xname/xidx\n```\n- 删除容器\n``` bash\n# 删除一个容器\ndocker rm -f xnamex/xidx\n# 删除多个容器 空格隔开要删除的容器名或者容器id\ndocker rm -f xnamex/xidx xnamex/xidx xnamex/xidx\n# 删除全部容器\ndocker rm -f $(docker ps -aq)\n```\n- 进入容器(只能进入正在运行的容器)\n\n``` bash\ndocker attach xnamex/xidx\n```\n### 数据卷相关\n- 创建数据卷\n```bash\ndocker volume create xnamex\n```\n- 查看所有数据卷\n\n``` bash\ndocker volume ls\n```\n- 查看数据卷的所有信息（包含关联的宿主机目录位置）\n``` bash\ndocker volume inspect xnamex\n```\n\n![2](../images/docker常用命令合集-1701679704149.png)\n\n- 删除数据卷\n\n``` bash\ndocker volume rm xnamex\n``` \n- 删除所有未使用过的数据卷\n\n```bash\ndocker volume prune\n```\n\n### docker安装相关（linux）\n1. 如果之前安装了旧版docker，请先删除。\n```bash\nsudo yum remove docker \\\n                  docker-client \\\n                  docker-client-latest \\\n                  docker-common \\\n                  docker-latest \\\n                  docker-latest-logrotate \\\n                  docker-logrotate \\\n                  docker-engine\n```\n\n2. 安装仓库\n```bash\nsudo yum install -y yum-utils\n\nsudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\n```\n\n3. 安装docker engine\n\n```bash\nsudo yum install docker-ce docker-ce-cli containerd.io docker-compose-plugin\n```\n\n4. 配置国内镜像仓库地址：\n\n新建`/etc/docker/daemon.json`文件，输入如下内容：\n```bash\n{\n  \"registry-mirrors\": [\n    \"https://registry.docker-cn.com\",\n    \"http://hub-mirror.c.163.com\",\n    \"https://fsp2sfpr.mirror.aliyuncs.com/\"\n  ]\n}\n```\n\n5. 然后重启，配置开机启动\n\n```bash\nsudo systemctl restart docker\nsudo systemctl enable docker\nsudo systemctl enable containerd\n```\n\n### 网络相关\ndocker会自动创建三个网络，`bridge`,`host`,`none`\n\n\n![3](../images/docker常用命令合集-1701679717546.png)\n\n\n-   bridge桥接网络\n\n如果不指定，新创建的容器默认将连接到bridge网络。\n\n默认情况下，使用bridge网络，宿主机可以ping通容器ip，容器中也能ping通宿主机。\n\n容器之间只能通过 IP 地址相互访问，由于容器的ip会随着启动顺序发生变化，因此不推荐使用ip访问。\n\n-   host\n\n`慎用，可能会有安全问题。`\n\n容器与宿主机共享网络，不需要映射端口即可通过宿主机IP访问。（-p选项会被忽略）\n\n主机模式网络可用于优化性能，在容器需要处理大量端口的情况下，它不需要网络地址转换 （NAT），并且不会为每个端口创建“用户空间代理”。\n\n-   none\n\n禁用容器中所用网络，在启动容器时使用。\n","slug":"docker常用命令合集","published":1,"updated":"2023-12-06T02:57:32.240Z","_id":"clpqo03j200001wpkalr4e34i","layout":"post","photos":[],"link":"","content":"<h2 id=\"镜像相关\"><a href=\"#镜像相关\" class=\"headerlink\" title=\"镜像相关\"></a>镜像相关</h2><ul>\n<li>查看镜像列表<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker images</span><br></pre></td></tr></table></figure></li>\n<li>镜像搜索<code>显示包含name字段的所有官方镜像和star数，可以选择需要的进行下载</code></li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker search xnamex</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/../images/docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E5%90%88%E9%9B%86-1701679683733.png\" alt=\"1\"></p>\n<ul>\n<li>下拉镜像<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker pull xnamex</span><br><span class=\"line\">docker pull xnamex:tag</span><br></pre></td></tr></table></figure></li>\n<li>删除镜像<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker rmi -f xnamex/xidx</span><br></pre></td></tr></table></figure></li>\n<li>保存镜像（压缩为tar文件，可以随意取出）<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker save xname/xidx -o 保存位置</span><br></pre></td></tr></table></figure></li>\n<li>加载镜像（配合前面的保存镜像）<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker load -i 镜像tar包保存位置</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h3 id=\"容器相关\"><a href=\"#容器相关\" class=\"headerlink\" title=\"容器相关\"></a>容器相关</h3><ul>\n<li>查看容器列表<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker ps</span><br></pre></td></tr></table></figure></li>\n<li>创建容器</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -it -d --name 运行的容器的别名 -p 宿主机端口：容器端口 -v 宿主机文件存储位置：容器内文件位置 镜像名：tag /bin/bash</span><br></pre></td></tr></table></figure>\n<p><code>参数含义</code>:</p>\n<ol>\n<li>-it 表示可以与该运行的容器进行交互，如进入mysql</li>\n<li>-d 表示可以后台运行容器 （守护式运行）</li>\n<li>&#x2F;bin&#x2F;bash 交互路径</li>\n<li>-p 将容器的端口映射到宿主机上面，可以通过宿主机访问内部端口</li>\n<li>-v 将容器内的指定文件夹挂载到宿主机对应位置（防止容器关闭后数据丢失）</li>\n</ol>\n<ul>\n<li>停止容器</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker stop xname/xidx</span><br></pre></td></tr></table></figure>\n<ul>\n<li>删除容器<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 删除一个容器</span></span><br><span class=\"line\">docker <span class=\"built_in\">rm</span> -f xnamex/xidx</span><br><span class=\"line\"><span class=\"comment\"># 删除多个容器 空格隔开要删除的容器名或者容器id</span></span><br><span class=\"line\">docker <span class=\"built_in\">rm</span> -f xnamex/xidx xnamex/xidx xnamex/xidx</span><br><span class=\"line\"><span class=\"comment\"># 删除全部容器</span></span><br><span class=\"line\">docker <span class=\"built_in\">rm</span> -f $(docker ps -aq)</span><br></pre></td></tr></table></figure></li>\n<li>进入容器(只能进入正在运行的容器)</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker attach xnamex/xidx</span><br></pre></td></tr></table></figure>\n<h3 id=\"数据卷相关\"><a href=\"#数据卷相关\" class=\"headerlink\" title=\"数据卷相关\"></a>数据卷相关</h3><ul>\n<li>创建数据卷<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker volume create xnamex</span><br></pre></td></tr></table></figure></li>\n<li>查看所有数据卷</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker volume <span class=\"built_in\">ls</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>查看数据卷的所有信息（包含关联的宿主机目录位置）<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker volume inspect xnamex</span><br></pre></td></tr></table></figure></li>\n</ul>\n<p><img src=\"/../images/docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E5%90%88%E9%9B%86-1701679704149.png\" alt=\"2\"></p>\n<ul>\n<li>删除数据卷</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker volume <span class=\"built_in\">rm</span> xnamex</span><br></pre></td></tr></table></figure>\n<ul>\n<li>删除所有未使用过的数据卷</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker volume prune</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"docker安装相关（linux）\"><a href=\"#docker安装相关（linux）\" class=\"headerlink\" title=\"docker安装相关（linux）\"></a>docker安装相关（linux）</h3><ol>\n<li><p>如果之前安装了旧版docker，请先删除。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum remove docker \\</span><br><span class=\"line\">                  docker-client \\</span><br><span class=\"line\">                  docker-client-latest \\</span><br><span class=\"line\">                  docker-common \\</span><br><span class=\"line\">                  docker-latest \\</span><br><span class=\"line\">                  docker-latest-logrotate \\</span><br><span class=\"line\">                  docker-logrotate \\</span><br><span class=\"line\">                  docker-engine</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>安装仓库</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum install -y yum-utils</span><br><span class=\"line\"></span><br><span class=\"line\">sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>安装docker engine</p>\n</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum install docker-ce docker-ce-cli containerd.io docker-compose-plugin</span><br></pre></td></tr></table></figure>\n\n<ol start=\"4\">\n<li>配置国内镜像仓库地址：</li>\n</ol>\n<p>新建<code>/etc/docker/daemon.json</code>文件，输入如下内容：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;registry-mirrors&quot;</span>: [</span><br><span class=\"line\">    <span class=\"string\">&quot;https://registry.docker-cn.com&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;http://hub-mirror.c.163.com&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;https://fsp2sfpr.mirror.aliyuncs.com/&quot;</span></span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"5\">\n<li>然后重启，配置开机启动</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo systemctl restart docker</span><br><span class=\"line\">sudo systemctl <span class=\"built_in\">enable</span> docker</span><br><span class=\"line\">sudo systemctl <span class=\"built_in\">enable</span> containerd</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"网络相关\"><a href=\"#网络相关\" class=\"headerlink\" title=\"网络相关\"></a>网络相关</h3><p>docker会自动创建三个网络，<code>bridge</code>,<code>host</code>,<code>none</code></p>\n<p><img src=\"/../images/docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E5%90%88%E9%9B%86-1701679717546.png\" alt=\"3\"></p>\n<ul>\n<li>bridge桥接网络</li>\n</ul>\n<p>如果不指定，新创建的容器默认将连接到bridge网络。</p>\n<p>默认情况下，使用bridge网络，宿主机可以ping通容器ip，容器中也能ping通宿主机。</p>\n<p>容器之间只能通过 IP 地址相互访问，由于容器的ip会随着启动顺序发生变化，因此不推荐使用ip访问。</p>\n<ul>\n<li>host</li>\n</ul>\n<p><code>慎用，可能会有安全问题。</code></p>\n<p>容器与宿主机共享网络，不需要映射端口即可通过宿主机IP访问。（-p选项会被忽略）</p>\n<p>主机模式网络可用于优化性能，在容器需要处理大量端口的情况下，它不需要网络地址转换 （NAT），并且不会为每个端口创建“用户空间代理”。</p>\n<ul>\n<li>none</li>\n</ul>\n<p>禁用容器中所用网络，在启动容器时使用。</p>\n","site":{"data":{"about":[{"class_name":"关于页","subtitle":"多一点努力，努力多一点✨","avatarImg":"https://avatars.githubusercontent.com/u/106024593?v=4","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱"]},"name":"xingxing","description":"是一名 后端工程师、学生、独立开发者","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"YNU,计算机科学与技术","color":"#357ef5"}]},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，昆明市","background":"/img/location.png","backgroundDark":"/img/locationDark.png"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2003,"selfInfoTips2":"云南大学","selfInfoContent2":"计算机科学与技术","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"xingxing的日常。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"/img/beautifulImg.jpg","essay_list":[{"content":"发现一个免费拿图的网站诶，还是bing好用，垃圾百度！但是好像要翻墙才可以下载原图，不过可以直接复制图片地址，然后用迅雷下载，也是可以的（图片大小翻五倍）。","date":"2023/11/31","image":["/img/essayImg/pixabay.png"],"link":"https://pixabay.com/zh/"},{"content":"寒假实习求职顺利（求神拜佛）","date":"2023/12/2"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}],"bangumis":{"wantWatch":[{"title":"百妖谱 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/5424062d0821f89ea549533d8a2c3cfff2076766.png","totalCount":"全12话","id":28230717,"follow":"527.1 万","view":"1.2 亿","danmaku":"47.2 万","coin":"42.5 万","score":9.2,"des":"桃都的灵医桃夭带着小和尚磨牙、第一季收服的小狐妖、桃都老邻居柳公子一起继续第一季的故事，为了寻找失踪的百妖谱而云游四方，在途中遇到应声、化蛇、媪姬、照海四个妖怪，为妖怪治疗各种疑难杂症。..."},{"title":"伍六七之玄武国篇","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/00843865ea13702eccc4efd64c313fd4c8029c6b.jpg","totalCount":"全10话","id":28232253,"follow":"1031.1 万","view":"4.7 亿","danmaku":"186.3 万","coin":"405.6 万","score":9.8,"des":"为了保护小鸡岛居民和这里平静的生活，伍六七和他的伙伴大保和小飞开启了去往玄武国的冒险旅程，去寻找身世的真相和解救小岛的办法，等待他们的又将是更多的未知与奇遇。..."},{"title":"伍六七之暗影宿命","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/6e5c5848ff8943fd6366e943a4f75b98598c50c6.png","totalCount":"全10话","id":28412536,"follow":"1250.4 万","view":"5.1 亿","danmaku":"110.7 万","coin":"410.9 万","score":9.2,"des":"随着伍六七回到玄武国寻找他的身世，亦引起了七大暗影刺客的追捕。然而每一位暗影刺客都带着不同的目的和不同的过去，青凤的阴谋也在此浮出了水面。而此时等待着小鸡岛上的人民，又将是另一个危机，伍六七将如何面对..."}],"watching":[{"title":"灵笼 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cf5f6595ece017215e7d61482f022094479dff37.png","totalCount":"-","id":21123554,"follow":"910.5 万","view":"1586.9 万","danmaku":"7.0 万","coin":"35.1 万","score":"-","des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."},{"title":"灵笼","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cfab7e0fbdb4786ff4e885d050b7cf37f8829486.png","totalCount":"全16话","id":23432,"follow":"903.9 万","view":"6.1 亿","danmaku":"674.4 万","coin":"677.7 万","score":9.6,"des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."}],"watched":[{"title":"时光代理人","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/1fe1cd0ec59b790fea83a5726cdc0fa3189c4394.png","totalCount":"全24话","id":28230742,"follow":"879.2 万","view":"5.0 亿","danmaku":"399.9 万","coin":"418.4 万","score":9.7,"des":"为了找到一系列罪案的操纵者，程小时求助于肖力，找寻一切藏匿于暗中的蛛丝马迹。但是拥有未知超能力的凶手在阴影之中，也从没有停止过阴谋的脚步。神秘能力者如影随形，身边伙伴接连遇害，程小时屡次身陷险境。随着..."},{"title":"元龙 第三季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/b3a9b5975059e074593b9381322ad8c423be7b89.png","totalCount":"全16话","id":28235400,"follow":"620.5 万","view":"1.5 亿","danmaku":"24.0 万","coin":"10.7 万","score":6.8,"des":"王胜于现代世界醒来，一切是如此真实而又如梦似幻。皇城遗女，戴家少主的出现更让局势扑朔迷离。而一场由小搏大的赌局，也让王胜渐渐意识到这不仅仅是他和戴家少主两个人的较量。恰时逢盛宴，天下汇集，王胜不得不再..."},{"title":"三体","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/9870f898b8a39bbb8048f34317f8d78a02cc1770.png","totalCount":"全15话","id":4315402,"follow":"690.6 万","view":"6.2 亿","danmaku":"179.3 万","coin":"230.7 万","score":8.2,"des":"无数细线横亘在星空之中，如同一把巨大的刷子。三体星舰队将于400年后抵达。遥远蝴蝶扇动着翅膀，也改变了罗辑的命运，轰然打开的门后是世界中心——面壁计划开启。同时，智子所创建的破壁室内，破壁人一一就位…..."},{"title":"狐妖小红娘","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/cbb20ee03e97a9f3ad2e1506a10fd1271f1c584a.jpg","totalCount":"全100话","id":2543,"follow":"691.5 万","view":"8.7 亿","danmaku":"1052.9 万","coin":"259.8 万","score":9.5,"des":"根据古典小说记载，世上有人有妖，妖会与人相恋，妖寿命千年，人的寿命有限，人死了，妖活着。人会投胎转世，但投胎以后不记得上辈子的爱。妖如果痴情的话，就去找狐妖“购买”一项服务，让投胎转世的人回忆起前世的..."}]}}},"cover_type":"img","excerpt":"","more":"<h2 id=\"镜像相关\"><a href=\"#镜像相关\" class=\"headerlink\" title=\"镜像相关\"></a>镜像相关</h2><ul>\n<li>查看镜像列表<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker images</span><br></pre></td></tr></table></figure></li>\n<li>镜像搜索<code>显示包含name字段的所有官方镜像和star数，可以选择需要的进行下载</code></li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker search xnamex</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/../images/docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E5%90%88%E9%9B%86-1701679683733.png\" alt=\"1\"></p>\n<ul>\n<li>下拉镜像<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker pull xnamex</span><br><span class=\"line\">docker pull xnamex:tag</span><br></pre></td></tr></table></figure></li>\n<li>删除镜像<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker rmi -f xnamex/xidx</span><br></pre></td></tr></table></figure></li>\n<li>保存镜像（压缩为tar文件，可以随意取出）<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker save xname/xidx -o 保存位置</span><br></pre></td></tr></table></figure></li>\n<li>加载镜像（配合前面的保存镜像）<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker load -i 镜像tar包保存位置</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h3 id=\"容器相关\"><a href=\"#容器相关\" class=\"headerlink\" title=\"容器相关\"></a>容器相关</h3><ul>\n<li>查看容器列表<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker ps</span><br></pre></td></tr></table></figure></li>\n<li>创建容器</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -it -d --name 运行的容器的别名 -p 宿主机端口：容器端口 -v 宿主机文件存储位置：容器内文件位置 镜像名：tag /bin/bash</span><br></pre></td></tr></table></figure>\n<p><code>参数含义</code>:</p>\n<ol>\n<li>-it 表示可以与该运行的容器进行交互，如进入mysql</li>\n<li>-d 表示可以后台运行容器 （守护式运行）</li>\n<li>&#x2F;bin&#x2F;bash 交互路径</li>\n<li>-p 将容器的端口映射到宿主机上面，可以通过宿主机访问内部端口</li>\n<li>-v 将容器内的指定文件夹挂载到宿主机对应位置（防止容器关闭后数据丢失）</li>\n</ol>\n<ul>\n<li>停止容器</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker stop xname/xidx</span><br></pre></td></tr></table></figure>\n<ul>\n<li>删除容器<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 删除一个容器</span></span><br><span class=\"line\">docker <span class=\"built_in\">rm</span> -f xnamex/xidx</span><br><span class=\"line\"><span class=\"comment\"># 删除多个容器 空格隔开要删除的容器名或者容器id</span></span><br><span class=\"line\">docker <span class=\"built_in\">rm</span> -f xnamex/xidx xnamex/xidx xnamex/xidx</span><br><span class=\"line\"><span class=\"comment\"># 删除全部容器</span></span><br><span class=\"line\">docker <span class=\"built_in\">rm</span> -f $(docker ps -aq)</span><br></pre></td></tr></table></figure></li>\n<li>进入容器(只能进入正在运行的容器)</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker attach xnamex/xidx</span><br></pre></td></tr></table></figure>\n<h3 id=\"数据卷相关\"><a href=\"#数据卷相关\" class=\"headerlink\" title=\"数据卷相关\"></a>数据卷相关</h3><ul>\n<li>创建数据卷<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker volume create xnamex</span><br></pre></td></tr></table></figure></li>\n<li>查看所有数据卷</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker volume <span class=\"built_in\">ls</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>查看数据卷的所有信息（包含关联的宿主机目录位置）<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker volume inspect xnamex</span><br></pre></td></tr></table></figure></li>\n</ul>\n<p><img src=\"/../images/docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E5%90%88%E9%9B%86-1701679704149.png\" alt=\"2\"></p>\n<ul>\n<li>删除数据卷</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker volume <span class=\"built_in\">rm</span> xnamex</span><br></pre></td></tr></table></figure>\n<ul>\n<li>删除所有未使用过的数据卷</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker volume prune</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"docker安装相关（linux）\"><a href=\"#docker安装相关（linux）\" class=\"headerlink\" title=\"docker安装相关（linux）\"></a>docker安装相关（linux）</h3><ol>\n<li><p>如果之前安装了旧版docker，请先删除。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum remove docker \\</span><br><span class=\"line\">                  docker-client \\</span><br><span class=\"line\">                  docker-client-latest \\</span><br><span class=\"line\">                  docker-common \\</span><br><span class=\"line\">                  docker-latest \\</span><br><span class=\"line\">                  docker-latest-logrotate \\</span><br><span class=\"line\">                  docker-logrotate \\</span><br><span class=\"line\">                  docker-engine</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>安装仓库</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum install -y yum-utils</span><br><span class=\"line\"></span><br><span class=\"line\">sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>安装docker engine</p>\n</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum install docker-ce docker-ce-cli containerd.io docker-compose-plugin</span><br></pre></td></tr></table></figure>\n\n<ol start=\"4\">\n<li>配置国内镜像仓库地址：</li>\n</ol>\n<p>新建<code>/etc/docker/daemon.json</code>文件，输入如下内容：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;registry-mirrors&quot;</span>: [</span><br><span class=\"line\">    <span class=\"string\">&quot;https://registry.docker-cn.com&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;http://hub-mirror.c.163.com&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;https://fsp2sfpr.mirror.aliyuncs.com/&quot;</span></span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"5\">\n<li>然后重启，配置开机启动</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo systemctl restart docker</span><br><span class=\"line\">sudo systemctl <span class=\"built_in\">enable</span> docker</span><br><span class=\"line\">sudo systemctl <span class=\"built_in\">enable</span> containerd</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"网络相关\"><a href=\"#网络相关\" class=\"headerlink\" title=\"网络相关\"></a>网络相关</h3><p>docker会自动创建三个网络，<code>bridge</code>,<code>host</code>,<code>none</code></p>\n<p><img src=\"/../images/docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E5%90%88%E9%9B%86-1701679717546.png\" alt=\"3\"></p>\n<ul>\n<li>bridge桥接网络</li>\n</ul>\n<p>如果不指定，新创建的容器默认将连接到bridge网络。</p>\n<p>默认情况下，使用bridge网络，宿主机可以ping通容器ip，容器中也能ping通宿主机。</p>\n<p>容器之间只能通过 IP 地址相互访问，由于容器的ip会随着启动顺序发生变化，因此不推荐使用ip访问。</p>\n<ul>\n<li>host</li>\n</ul>\n<p><code>慎用，可能会有安全问题。</code></p>\n<p>容器与宿主机共享网络，不需要映射端口即可通过宿主机IP访问。（-p选项会被忽略）</p>\n<p>主机模式网络可用于优化性能，在容器需要处理大量端口的情况下，它不需要网络地址转换 （NAT），并且不会为每个端口创建“用户空间代理”。</p>\n<ul>\n<li>none</li>\n</ul>\n<p>禁用容器中所用网络，在启动容器时使用。</p>\n"},{"title":"CSS之At-rules","keywords":"css, at-rules","description":"css中at-rules的使用","top_img":"/img/qianduan.png","comments":1,"cover":"/img/qianduan.png","copyright_author":"xingxing","copyright_author_href":"www.staraway.asia","copyright_info":"本篇转载自我的掘金。","date":"2023-02-04T08:52:42.000Z","_content":"\n\n> `At-rules`规则是目前CSS中一种常见的语法规则，它使用一个`\"@\"`符号加一个关键词定义，后面跟上语法区块，如果没有则以分号结束即可。  \n这种规则一般用于标识文档、引入外部样式、条件判断等等，本文是对该规则的使用总结。`\n\n### @keyframes\n> 使用 `@keyframes` 可以创建动画。在动画过程中，您可以更改CSS样式的设定多次。指定的变化时发生时使用％，或关键字“from”和“to”，等价于0％到100％  0％是开头动画，100％是当动画完成。\n\n##### 示例\n```\n @keyframes mycolor {\n    0% { background-color: red; }\n    30% { background-color: darkblue; }\n    50% { background-color: yellow; }\n    70% { background-color: darkblue; }\n    100% { background-color: red; }\n  }\n```\n\n##### css样式名称\n- `animation-name`:动画的名称 用于指定一个@keyframes动画，指定要使用哪一个关键帧\n- `animation-name`:动画持续时间 用于定义动画完成一个周期要多少秒或者多少毫秒\n- animation-timing-function:动画的运动方式 指定动画将如何完成一个周期,有如下参数，通常不指定  默认ease\n```\n  ease;默认\n  ease-in;  \n  ease-out;\n  ease-in-out;\n  linear;\n  steps(数值, 定位) 定位：start/end 默认end指逐步运动\n```\n- animation-delay:动画在组件渲染后多久开始\n- animation-iteration-count:动画循环播放的次数，默认值为1，一般会设定为infinite（一直循环）\n- animation-fill-mode：动画在播放完成后的状态，有两个值可以选择\n```\n  forwards 保持动画结束后的状态(通常选择这个，防止抖动)\n  backwards 动画结束后回到最初的状态\n```\n- animation-direction:动画执行顺序----动画是否应该播放完后逆向交替循环（对设置了多次播放的动画有效），有三个值可供选择：\n\n```\n normal 默认值（即执行完后回到起点再次执行）\n reverse 反向（即直接从终点反向执行到起点再反复）\n alternate 先从起点到终点，再从终点到起点\n```\n\n**以上所有css样式可以简写为:**\n`animation: 动画执行时间 延迟时间 执行关键帧名称 运动方式 运动次数 结束状态 动画执行顺序`;\n**更简形式为:**\n``animation: 动画执行时间 执行关键帧名称;``\n\n##### 简单应用\n```css\ndiv { \n\twidth: 200px;\n\theight: 200px;\n\tbackground: red;\n}\n@keyframes mycolor {\n\t0% { background-color: red; }\n\t30% { background-color: yellow; }\n\t60% { background-color: green; }\n\t100% { background-color: red; }\n}\ndiv:hover {\n\tanimation-name: mycolor;\n\tanimation-duration: 5s;\n\tanimation-timing-function: linear;\n\tanimation-iteration-count: 2;\n}\n```\n##### 注意事项\n`@keyframes的原理是把元素样式从一个状态慢慢的变为另外一个状态，所以是要能够进行渐变的样式才可以使用`\n以下是不能生效的\n```css\ndiv {\n    animation: appear 2s;\n}\n@keyframes appear {\n    from { display:none; }\n    to   { display:block;}\n}\n```\n`常用于@keyframes的属性介绍`\n- visibility和opacity\n- color和background-color\n- 盒子模型中的margin、pading、bottom、top、border\n\n想到了再补充其他的\n\n### @media\n> 使用 @media，可以针对不同的媒体类型定义不同的样式。\n> 使用 @media， 可以针对不同的屏幕尺寸设置不同的样式\n> 当你重置浏览器大小的过程中，页面也会根据浏览器的宽度和高度重新渲染页面。\n\n##### 简单示例子\n```\n@media mediatype and|not|only (media feature) {\n    CSS-Code;\n}\n```\n##### 媒体类型\n-   all 【默认值】 匹配所有设备，无论是打印设备还是其他普通的现实设备。\n-   screen 除打印设备和屏幕阅读设备以外的所有设备\n-   speech 能够“读出”页面的屏幕阅读设备，通常供残疾人士使用\n-   print 在打印和打印预览的时候生效\n\n`此处一般情况下不写，采用默认值all，当前我们设计的前端项目一般不涉及speech、print、screen的区分`\n\n##### 媒体特征（常用）\n- 判断设备是横屏还是竖屏\n```css\n/* 横屏 */ \n@media (orientation: landscape) {} \n/* 竖屏 */ \n@media (orientation: portrait) {}\n\n```\n- 匹配设备的最大高度、最大宽度\n```css\n/* 如果高度小于600px */ \n@media (max-height: 600px) {}\n/* 如果高度小于480px */ \n@media (max-height: 480px) {}\n\n/*多重判断可以用or或者and*/\n@media(min-height: 100px) and (max-height: 200px){\n  body { background: #333; color: white; }\n}\n\n```\n- 判断深色模式\n```css\n\n/* 深色模式 表示系统更倾向于深色模式*/\n@media (prefers-color-scheme: dark) {\n    body { background: #333; color: white; }\n}\n/* 浅色模式 表示系统更倾向于浅色模式*/\n@media (prefers-color-scheme: light) {\n    body { background: white; color: #333; }\n}\n\n```\n\n##### 匹配规则\n\n`从前往后，一旦匹配则终止`\n\n### @import\n> 用于导入其他样式文件\n\n- 可以混用条件判断媒体查询\n``` css\n/* 宽度小于1000px才会生效 */\n@import \"./reset.css\" screen and (max-width: 1000px); \n\n```\n\n### @font-face\n> @font-face 用于加载自定义字体。属于目前前端比较常用的语法，也有多开源的字体图标库可以使用既支持提供字体资源文件路径进行加载，也支持用户本地安装的字体加载\n\n阿里开源字体库引用 示例\n- 引入ttf文件\n\n\n![1](../images/CSS之At-rules-1701680236420.png)\n- font.css\n\n\n![2](../images/CSS之At-rules-1701680245005.png)\n\n- global.less中引入\n\n\n![3](../images/CSS之At-rules-1701680251744.png)\n\n","source":"_posts/CSS之At-rules.md","raw":"---\ntitle: CSS之At-rules\ntags: \n  - css\ncategories: 前端\nkeywords: css, at-rules\ndescription: css中at-rules的使用\ntop_img: /img/qianduan.png\ncomments: true\ncover: /img/qianduan.png\ncopyright_author: xingxing\ncopyright_author_href: www.staraway.asia\ncopyright_info: 本篇转载自我的掘金。\ndate: 2023-2-04 16:52:42\n---\n\n\n> `At-rules`规则是目前CSS中一种常见的语法规则，它使用一个`\"@\"`符号加一个关键词定义，后面跟上语法区块，如果没有则以分号结束即可。  \n这种规则一般用于标识文档、引入外部样式、条件判断等等，本文是对该规则的使用总结。`\n\n### @keyframes\n> 使用 `@keyframes` 可以创建动画。在动画过程中，您可以更改CSS样式的设定多次。指定的变化时发生时使用％，或关键字“from”和“to”，等价于0％到100％  0％是开头动画，100％是当动画完成。\n\n##### 示例\n```\n @keyframes mycolor {\n    0% { background-color: red; }\n    30% { background-color: darkblue; }\n    50% { background-color: yellow; }\n    70% { background-color: darkblue; }\n    100% { background-color: red; }\n  }\n```\n\n##### css样式名称\n- `animation-name`:动画的名称 用于指定一个@keyframes动画，指定要使用哪一个关键帧\n- `animation-name`:动画持续时间 用于定义动画完成一个周期要多少秒或者多少毫秒\n- animation-timing-function:动画的运动方式 指定动画将如何完成一个周期,有如下参数，通常不指定  默认ease\n```\n  ease;默认\n  ease-in;  \n  ease-out;\n  ease-in-out;\n  linear;\n  steps(数值, 定位) 定位：start/end 默认end指逐步运动\n```\n- animation-delay:动画在组件渲染后多久开始\n- animation-iteration-count:动画循环播放的次数，默认值为1，一般会设定为infinite（一直循环）\n- animation-fill-mode：动画在播放完成后的状态，有两个值可以选择\n```\n  forwards 保持动画结束后的状态(通常选择这个，防止抖动)\n  backwards 动画结束后回到最初的状态\n```\n- animation-direction:动画执行顺序----动画是否应该播放完后逆向交替循环（对设置了多次播放的动画有效），有三个值可供选择：\n\n```\n normal 默认值（即执行完后回到起点再次执行）\n reverse 反向（即直接从终点反向执行到起点再反复）\n alternate 先从起点到终点，再从终点到起点\n```\n\n**以上所有css样式可以简写为:**\n`animation: 动画执行时间 延迟时间 执行关键帧名称 运动方式 运动次数 结束状态 动画执行顺序`;\n**更简形式为:**\n``animation: 动画执行时间 执行关键帧名称;``\n\n##### 简单应用\n```css\ndiv { \n\twidth: 200px;\n\theight: 200px;\n\tbackground: red;\n}\n@keyframes mycolor {\n\t0% { background-color: red; }\n\t30% { background-color: yellow; }\n\t60% { background-color: green; }\n\t100% { background-color: red; }\n}\ndiv:hover {\n\tanimation-name: mycolor;\n\tanimation-duration: 5s;\n\tanimation-timing-function: linear;\n\tanimation-iteration-count: 2;\n}\n```\n##### 注意事项\n`@keyframes的原理是把元素样式从一个状态慢慢的变为另外一个状态，所以是要能够进行渐变的样式才可以使用`\n以下是不能生效的\n```css\ndiv {\n    animation: appear 2s;\n}\n@keyframes appear {\n    from { display:none; }\n    to   { display:block;}\n}\n```\n`常用于@keyframes的属性介绍`\n- visibility和opacity\n- color和background-color\n- 盒子模型中的margin、pading、bottom、top、border\n\n想到了再补充其他的\n\n### @media\n> 使用 @media，可以针对不同的媒体类型定义不同的样式。\n> 使用 @media， 可以针对不同的屏幕尺寸设置不同的样式\n> 当你重置浏览器大小的过程中，页面也会根据浏览器的宽度和高度重新渲染页面。\n\n##### 简单示例子\n```\n@media mediatype and|not|only (media feature) {\n    CSS-Code;\n}\n```\n##### 媒体类型\n-   all 【默认值】 匹配所有设备，无论是打印设备还是其他普通的现实设备。\n-   screen 除打印设备和屏幕阅读设备以外的所有设备\n-   speech 能够“读出”页面的屏幕阅读设备，通常供残疾人士使用\n-   print 在打印和打印预览的时候生效\n\n`此处一般情况下不写，采用默认值all，当前我们设计的前端项目一般不涉及speech、print、screen的区分`\n\n##### 媒体特征（常用）\n- 判断设备是横屏还是竖屏\n```css\n/* 横屏 */ \n@media (orientation: landscape) {} \n/* 竖屏 */ \n@media (orientation: portrait) {}\n\n```\n- 匹配设备的最大高度、最大宽度\n```css\n/* 如果高度小于600px */ \n@media (max-height: 600px) {}\n/* 如果高度小于480px */ \n@media (max-height: 480px) {}\n\n/*多重判断可以用or或者and*/\n@media(min-height: 100px) and (max-height: 200px){\n  body { background: #333; color: white; }\n}\n\n```\n- 判断深色模式\n```css\n\n/* 深色模式 表示系统更倾向于深色模式*/\n@media (prefers-color-scheme: dark) {\n    body { background: #333; color: white; }\n}\n/* 浅色模式 表示系统更倾向于浅色模式*/\n@media (prefers-color-scheme: light) {\n    body { background: white; color: #333; }\n}\n\n```\n\n##### 匹配规则\n\n`从前往后，一旦匹配则终止`\n\n### @import\n> 用于导入其他样式文件\n\n- 可以混用条件判断媒体查询\n``` css\n/* 宽度小于1000px才会生效 */\n@import \"./reset.css\" screen and (max-width: 1000px); \n\n```\n\n### @font-face\n> @font-face 用于加载自定义字体。属于目前前端比较常用的语法，也有多开源的字体图标库可以使用既支持提供字体资源文件路径进行加载，也支持用户本地安装的字体加载\n\n阿里开源字体库引用 示例\n- 引入ttf文件\n\n\n![1](../images/CSS之At-rules-1701680236420.png)\n- font.css\n\n\n![2](../images/CSS之At-rules-1701680245005.png)\n\n- global.less中引入\n\n\n![3](../images/CSS之At-rules-1701680251744.png)\n\n","slug":"CSS之At-rules","published":1,"updated":"2023-12-06T02:57:32.279Z","_id":"clpqoimit00000cpk2cvo4qut","layout":"post","photos":[],"link":"","content":"<blockquote>\n<p><code>At-rules</code>规则是目前CSS中一种常见的语法规则，它使用一个<code>&quot;@&quot;</code>符号加一个关键词定义，后面跟上语法区块，如果没有则以分号结束即可。<br>这种规则一般用于标识文档、引入外部样式、条件判断等等，本文是对该规则的使用总结。&#96;</p>\n</blockquote>\n<h3 id=\"keyframes\"><a href=\"#keyframes\" class=\"headerlink\" title=\"@keyframes\"></a>@keyframes</h3><blockquote>\n<p>使用 <code>@keyframes</code> 可以创建动画。在动画过程中，您可以更改CSS样式的设定多次。指定的变化时发生时使用％，或关键字“from”和“to”，等价于0％到100％  0％是开头动画，100％是当动画完成。</p>\n</blockquote>\n<h5 id=\"示例\"><a href=\"#示例\" class=\"headerlink\" title=\"示例\"></a>示例</h5><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@keyframes mycolor &#123;</span><br><span class=\"line\">   0% &#123; background-color: red; &#125;</span><br><span class=\"line\">   30% &#123; background-color: darkblue; &#125;</span><br><span class=\"line\">   50% &#123; background-color: yellow; &#125;</span><br><span class=\"line\">   70% &#123; background-color: darkblue; &#125;</span><br><span class=\"line\">   100% &#123; background-color: red; &#125;</span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"css样式名称\"><a href=\"#css样式名称\" class=\"headerlink\" title=\"css样式名称\"></a>css样式名称</h5><ul>\n<li><code>animation-name</code>:动画的名称 用于指定一个@keyframes动画，指定要使用哪一个关键帧</li>\n<li><code>animation-name</code>:动画持续时间 用于定义动画完成一个周期要多少秒或者多少毫秒</li>\n<li>animation-timing-function:动画的运动方式 指定动画将如何完成一个周期,有如下参数，通常不指定  默认ease<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ease;默认</span><br><span class=\"line\">ease-in;  </span><br><span class=\"line\">ease-out;</span><br><span class=\"line\">ease-in-out;</span><br><span class=\"line\">linear;</span><br><span class=\"line\">steps(数值, 定位) 定位：start/end 默认end指逐步运动</span><br></pre></td></tr></table></figure></li>\n<li>animation-delay:动画在组件渲染后多久开始</li>\n<li>animation-iteration-count:动画循环播放的次数，默认值为1，一般会设定为infinite（一直循环）</li>\n<li>animation-fill-mode：动画在播放完成后的状态，有两个值可以选择<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">forwards 保持动画结束后的状态(通常选择这个，防止抖动)</span><br><span class=\"line\">backwards 动画结束后回到最初的状态</span><br></pre></td></tr></table></figure></li>\n<li>animation-direction:动画执行顺序—-动画是否应该播放完后逆向交替循环（对设置了多次播放的动画有效），有三个值可供选择：</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">normal 默认值（即执行完后回到起点再次执行）</span><br><span class=\"line\">reverse 反向（即直接从终点反向执行到起点再反复）</span><br><span class=\"line\">alternate 先从起点到终点，再从终点到起点</span><br></pre></td></tr></table></figure>\n\n<p><strong>以上所有css样式可以简写为:</strong><br><code>animation: 动画执行时间 延迟时间 执行关键帧名称 运动方式 运动次数 结束状态 动画执行顺序</code>;<br><strong>更简形式为:</strong><br><code>animation: 动画执行时间 执行关键帧名称;</code></p>\n<h5 id=\"简单应用\"><a href=\"#简单应用\" class=\"headerlink\" title=\"简单应用\"></a>简单应用</h5><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">div</span> &#123; </span><br><span class=\"line\">\t<span class=\"attribute\">width</span>: <span class=\"number\">200px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">height</span>: <span class=\"number\">200px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">background</span>: red;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">@keyframes</span> mycolor &#123;</span><br><span class=\"line\">\t<span class=\"number\">0%</span> &#123; <span class=\"attribute\">background-color</span>: red; &#125;</span><br><span class=\"line\">\t<span class=\"number\">30%</span> &#123; <span class=\"attribute\">background-color</span>: yellow; &#125;</span><br><span class=\"line\">\t<span class=\"number\">60%</span> &#123; <span class=\"attribute\">background-color</span>: green; &#125;</span><br><span class=\"line\">\t<span class=\"number\">100%</span> &#123; <span class=\"attribute\">background-color</span>: red; &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-tag\">div</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">animation-name</span>: mycolor;</span><br><span class=\"line\">\t<span class=\"attribute\">animation-duration</span>: <span class=\"number\">5s</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">animation-timing-function</span>: linear;</span><br><span class=\"line\">\t<span class=\"attribute\">animation-iteration-count</span>: <span class=\"number\">2</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h5><p><code>@keyframes的原理是把元素样式从一个状态慢慢的变为另外一个状态，所以是要能够进行渐变的样式才可以使用</code><br>以下是不能生效的</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">div</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">animation</span>: appear <span class=\"number\">2s</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">@keyframes</span> appear &#123;</span><br><span class=\"line\">    <span class=\"selector-tag\">from</span> &#123; <span class=\"attribute\">display</span>:none; &#125;</span><br><span class=\"line\">    <span class=\"selector-tag\">to</span>   &#123; <span class=\"attribute\">display</span>:block;&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>常用于@keyframes的属性介绍</code></p>\n<ul>\n<li>visibility和opacity</li>\n<li>color和background-color</li>\n<li>盒子模型中的margin、pading、bottom、top、border</li>\n</ul>\n<p>想到了再补充其他的</p>\n<h3 id=\"media\"><a href=\"#media\" class=\"headerlink\" title=\"@media\"></a>@media</h3><blockquote>\n<p>使用 @media，可以针对不同的媒体类型定义不同的样式。<br>使用 @media， 可以针对不同的屏幕尺寸设置不同的样式<br>当你重置浏览器大小的过程中，页面也会根据浏览器的宽度和高度重新渲染页面。</p>\n</blockquote>\n<h5 id=\"简单示例子\"><a href=\"#简单示例子\" class=\"headerlink\" title=\"简单示例子\"></a>简单示例子</h5><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@media mediatype and|not|only (media feature) &#123;</span><br><span class=\"line\">    CSS-Code;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"媒体类型\"><a href=\"#媒体类型\" class=\"headerlink\" title=\"媒体类型\"></a>媒体类型</h5><ul>\n<li>all 【默认值】 匹配所有设备，无论是打印设备还是其他普通的现实设备。</li>\n<li>screen 除打印设备和屏幕阅读设备以外的所有设备</li>\n<li>speech 能够“读出”页面的屏幕阅读设备，通常供残疾人士使用</li>\n<li>print 在打印和打印预览的时候生效</li>\n</ul>\n<p><code>此处一般情况下不写，采用默认值all，当前我们设计的前端项目一般不涉及speech、print、screen的区分</code></p>\n<h5 id=\"媒体特征（常用）\"><a href=\"#媒体特征（常用）\" class=\"headerlink\" title=\"媒体特征（常用）\"></a>媒体特征（常用）</h5><ul>\n<li>判断设备是横屏还是竖屏<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 横屏 */</span> </span><br><span class=\"line\"><span class=\"keyword\">@media</span> (<span class=\"attribute\">orientation</span>: landscape) &#123;&#125; </span><br><span class=\"line\"><span class=\"comment\">/* 竖屏 */</span> </span><br><span class=\"line\"><span class=\"keyword\">@media</span> (<span class=\"attribute\">orientation</span>: portrait) &#123;&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n<li>匹配设备的最大高度、最大宽度<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 如果高度小于600px */</span> </span><br><span class=\"line\"><span class=\"keyword\">@media</span> (<span class=\"attribute\">max-height</span>: <span class=\"number\">600px</span>) &#123;&#125;</span><br><span class=\"line\"><span class=\"comment\">/* 如果高度小于480px */</span> </span><br><span class=\"line\"><span class=\"keyword\">@media</span> (<span class=\"attribute\">max-height</span>: <span class=\"number\">480px</span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*多重判断可以用or或者and*/</span></span><br><span class=\"line\"><span class=\"keyword\">@media</span>(min-height: <span class=\"number\">100px</span>) <span class=\"keyword\">and</span> (<span class=\"attribute\">max-height</span>: <span class=\"number\">200px</span>)&#123;</span><br><span class=\"line\">  <span class=\"selector-tag\">body</span> &#123; <span class=\"attribute\">background</span>: <span class=\"number\">#333</span>; <span class=\"attribute\">color</span>: white; &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n<li>判断深色模式<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 深色模式 表示系统更倾向于深色模式*/</span></span><br><span class=\"line\"><span class=\"keyword\">@media</span> (<span class=\"attribute\">prefers-color-scheme</span>: dark) &#123;</span><br><span class=\"line\">    <span class=\"selector-tag\">body</span> &#123; <span class=\"attribute\">background</span>: <span class=\"number\">#333</span>; <span class=\"attribute\">color</span>: white; &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* 浅色模式 表示系统更倾向于浅色模式*/</span></span><br><span class=\"line\"><span class=\"keyword\">@media</span> (<span class=\"attribute\">prefers-color-scheme</span>: light) &#123;</span><br><span class=\"line\">    <span class=\"selector-tag\">body</span> &#123; <span class=\"attribute\">background</span>: white; <span class=\"attribute\">color</span>: <span class=\"number\">#333</span>; &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n</ul>\n<h5 id=\"匹配规则\"><a href=\"#匹配规则\" class=\"headerlink\" title=\"匹配规则\"></a>匹配规则</h5><p><code>从前往后，一旦匹配则终止</code></p>\n<h3 id=\"import\"><a href=\"#import\" class=\"headerlink\" title=\"@import\"></a>@import</h3><blockquote>\n<p>用于导入其他样式文件</p>\n</blockquote>\n<ul>\n<li>可以混用条件判断媒体查询<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 宽度小于1000px才会生效 */</span></span><br><span class=\"line\"><span class=\"keyword\">@import</span> <span class=\"string\">&quot;./reset.css&quot;</span> screen <span class=\"keyword\">and</span> (<span class=\"attribute\">max-width</span>: <span class=\"number\">1000px</span>); </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n</ul>\n<h3 id=\"font-face\"><a href=\"#font-face\" class=\"headerlink\" title=\"@font-face\"></a>@font-face</h3><blockquote>\n<p>@font-face 用于加载自定义字体。属于目前前端比较常用的语法，也有多开源的字体图标库可以使用既支持提供字体资源文件路径进行加载，也支持用户本地安装的字体加载</p>\n</blockquote>\n<p>阿里开源字体库引用 示例</p>\n<ul>\n<li>引入ttf文件</li>\n</ul>\n<p><img src=\"/../images/CSS%E4%B9%8BAt-rules-1701680236420.png\" alt=\"1\"></p>\n<ul>\n<li>font.css</li>\n</ul>\n<p><img src=\"/../images/CSS%E4%B9%8BAt-rules-1701680245005.png\" alt=\"2\"></p>\n<ul>\n<li>global.less中引入</li>\n</ul>\n<p><img src=\"/../images/CSS%E4%B9%8BAt-rules-1701680251744.png\" alt=\"3\"></p>\n","site":{"data":{"about":[{"class_name":"关于页","subtitle":"多一点努力，努力多一点✨","avatarImg":"https://avatars.githubusercontent.com/u/106024593?v=4","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱"]},"name":"xingxing","description":"是一名 后端工程师、学生、独立开发者","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"YNU,计算机科学与技术","color":"#357ef5"}]},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，昆明市","background":"/img/location.png","backgroundDark":"/img/locationDark.png"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2003,"selfInfoTips2":"云南大学","selfInfoContent2":"计算机科学与技术","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"xingxing的日常。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"/img/beautifulImg.jpg","essay_list":[{"content":"发现一个免费拿图的网站诶，还是bing好用，垃圾百度！但是好像要翻墙才可以下载原图，不过可以直接复制图片地址，然后用迅雷下载，也是可以的（图片大小翻五倍）。","date":"2023/11/31","image":["/img/essayImg/pixabay.png"],"link":"https://pixabay.com/zh/"},{"content":"寒假实习求职顺利（求神拜佛）","date":"2023/12/2"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}],"bangumis":{"wantWatch":[{"title":"百妖谱 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/5424062d0821f89ea549533d8a2c3cfff2076766.png","totalCount":"全12话","id":28230717,"follow":"527.1 万","view":"1.2 亿","danmaku":"47.2 万","coin":"42.5 万","score":9.2,"des":"桃都的灵医桃夭带着小和尚磨牙、第一季收服的小狐妖、桃都老邻居柳公子一起继续第一季的故事，为了寻找失踪的百妖谱而云游四方，在途中遇到应声、化蛇、媪姬、照海四个妖怪，为妖怪治疗各种疑难杂症。..."},{"title":"伍六七之玄武国篇","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/00843865ea13702eccc4efd64c313fd4c8029c6b.jpg","totalCount":"全10话","id":28232253,"follow":"1031.1 万","view":"4.7 亿","danmaku":"186.3 万","coin":"405.6 万","score":9.8,"des":"为了保护小鸡岛居民和这里平静的生活，伍六七和他的伙伴大保和小飞开启了去往玄武国的冒险旅程，去寻找身世的真相和解救小岛的办法，等待他们的又将是更多的未知与奇遇。..."},{"title":"伍六七之暗影宿命","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/6e5c5848ff8943fd6366e943a4f75b98598c50c6.png","totalCount":"全10话","id":28412536,"follow":"1250.4 万","view":"5.1 亿","danmaku":"110.7 万","coin":"410.9 万","score":9.2,"des":"随着伍六七回到玄武国寻找他的身世，亦引起了七大暗影刺客的追捕。然而每一位暗影刺客都带着不同的目的和不同的过去，青凤的阴谋也在此浮出了水面。而此时等待着小鸡岛上的人民，又将是另一个危机，伍六七将如何面对..."}],"watching":[{"title":"灵笼 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cf5f6595ece017215e7d61482f022094479dff37.png","totalCount":"-","id":21123554,"follow":"910.5 万","view":"1586.9 万","danmaku":"7.0 万","coin":"35.1 万","score":"-","des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."},{"title":"灵笼","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cfab7e0fbdb4786ff4e885d050b7cf37f8829486.png","totalCount":"全16话","id":23432,"follow":"903.9 万","view":"6.1 亿","danmaku":"674.4 万","coin":"677.7 万","score":9.6,"des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."}],"watched":[{"title":"时光代理人","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/1fe1cd0ec59b790fea83a5726cdc0fa3189c4394.png","totalCount":"全24话","id":28230742,"follow":"879.2 万","view":"5.0 亿","danmaku":"399.9 万","coin":"418.4 万","score":9.7,"des":"为了找到一系列罪案的操纵者，程小时求助于肖力，找寻一切藏匿于暗中的蛛丝马迹。但是拥有未知超能力的凶手在阴影之中，也从没有停止过阴谋的脚步。神秘能力者如影随形，身边伙伴接连遇害，程小时屡次身陷险境。随着..."},{"title":"元龙 第三季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/b3a9b5975059e074593b9381322ad8c423be7b89.png","totalCount":"全16话","id":28235400,"follow":"620.5 万","view":"1.5 亿","danmaku":"24.0 万","coin":"10.7 万","score":6.8,"des":"王胜于现代世界醒来，一切是如此真实而又如梦似幻。皇城遗女，戴家少主的出现更让局势扑朔迷离。而一场由小搏大的赌局，也让王胜渐渐意识到这不仅仅是他和戴家少主两个人的较量。恰时逢盛宴，天下汇集，王胜不得不再..."},{"title":"三体","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/9870f898b8a39bbb8048f34317f8d78a02cc1770.png","totalCount":"全15话","id":4315402,"follow":"690.6 万","view":"6.2 亿","danmaku":"179.3 万","coin":"230.7 万","score":8.2,"des":"无数细线横亘在星空之中，如同一把巨大的刷子。三体星舰队将于400年后抵达。遥远蝴蝶扇动着翅膀，也改变了罗辑的命运，轰然打开的门后是世界中心——面壁计划开启。同时，智子所创建的破壁室内，破壁人一一就位…..."},{"title":"狐妖小红娘","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/cbb20ee03e97a9f3ad2e1506a10fd1271f1c584a.jpg","totalCount":"全100话","id":2543,"follow":"691.5 万","view":"8.7 亿","danmaku":"1052.9 万","coin":"259.8 万","score":9.5,"des":"根据古典小说记载，世上有人有妖，妖会与人相恋，妖寿命千年，人的寿命有限，人死了，妖活着。人会投胎转世，但投胎以后不记得上辈子的爱。妖如果痴情的话，就去找狐妖“购买”一项服务，让投胎转世的人回忆起前世的..."}]}}},"cover_type":"img","excerpt":"","more":"<blockquote>\n<p><code>At-rules</code>规则是目前CSS中一种常见的语法规则，它使用一个<code>&quot;@&quot;</code>符号加一个关键词定义，后面跟上语法区块，如果没有则以分号结束即可。<br>这种规则一般用于标识文档、引入外部样式、条件判断等等，本文是对该规则的使用总结。&#96;</p>\n</blockquote>\n<h3 id=\"keyframes\"><a href=\"#keyframes\" class=\"headerlink\" title=\"@keyframes\"></a>@keyframes</h3><blockquote>\n<p>使用 <code>@keyframes</code> 可以创建动画。在动画过程中，您可以更改CSS样式的设定多次。指定的变化时发生时使用％，或关键字“from”和“to”，等价于0％到100％  0％是开头动画，100％是当动画完成。</p>\n</blockquote>\n<h5 id=\"示例\"><a href=\"#示例\" class=\"headerlink\" title=\"示例\"></a>示例</h5><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@keyframes mycolor &#123;</span><br><span class=\"line\">   0% &#123; background-color: red; &#125;</span><br><span class=\"line\">   30% &#123; background-color: darkblue; &#125;</span><br><span class=\"line\">   50% &#123; background-color: yellow; &#125;</span><br><span class=\"line\">   70% &#123; background-color: darkblue; &#125;</span><br><span class=\"line\">   100% &#123; background-color: red; &#125;</span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"css样式名称\"><a href=\"#css样式名称\" class=\"headerlink\" title=\"css样式名称\"></a>css样式名称</h5><ul>\n<li><code>animation-name</code>:动画的名称 用于指定一个@keyframes动画，指定要使用哪一个关键帧</li>\n<li><code>animation-name</code>:动画持续时间 用于定义动画完成一个周期要多少秒或者多少毫秒</li>\n<li>animation-timing-function:动画的运动方式 指定动画将如何完成一个周期,有如下参数，通常不指定  默认ease<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ease;默认</span><br><span class=\"line\">ease-in;  </span><br><span class=\"line\">ease-out;</span><br><span class=\"line\">ease-in-out;</span><br><span class=\"line\">linear;</span><br><span class=\"line\">steps(数值, 定位) 定位：start/end 默认end指逐步运动</span><br></pre></td></tr></table></figure></li>\n<li>animation-delay:动画在组件渲染后多久开始</li>\n<li>animation-iteration-count:动画循环播放的次数，默认值为1，一般会设定为infinite（一直循环）</li>\n<li>animation-fill-mode：动画在播放完成后的状态，有两个值可以选择<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">forwards 保持动画结束后的状态(通常选择这个，防止抖动)</span><br><span class=\"line\">backwards 动画结束后回到最初的状态</span><br></pre></td></tr></table></figure></li>\n<li>animation-direction:动画执行顺序—-动画是否应该播放完后逆向交替循环（对设置了多次播放的动画有效），有三个值可供选择：</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">normal 默认值（即执行完后回到起点再次执行）</span><br><span class=\"line\">reverse 反向（即直接从终点反向执行到起点再反复）</span><br><span class=\"line\">alternate 先从起点到终点，再从终点到起点</span><br></pre></td></tr></table></figure>\n\n<p><strong>以上所有css样式可以简写为:</strong><br><code>animation: 动画执行时间 延迟时间 执行关键帧名称 运动方式 运动次数 结束状态 动画执行顺序</code>;<br><strong>更简形式为:</strong><br><code>animation: 动画执行时间 执行关键帧名称;</code></p>\n<h5 id=\"简单应用\"><a href=\"#简单应用\" class=\"headerlink\" title=\"简单应用\"></a>简单应用</h5><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">div</span> &#123; </span><br><span class=\"line\">\t<span class=\"attribute\">width</span>: <span class=\"number\">200px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">height</span>: <span class=\"number\">200px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">background</span>: red;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">@keyframes</span> mycolor &#123;</span><br><span class=\"line\">\t<span class=\"number\">0%</span> &#123; <span class=\"attribute\">background-color</span>: red; &#125;</span><br><span class=\"line\">\t<span class=\"number\">30%</span> &#123; <span class=\"attribute\">background-color</span>: yellow; &#125;</span><br><span class=\"line\">\t<span class=\"number\">60%</span> &#123; <span class=\"attribute\">background-color</span>: green; &#125;</span><br><span class=\"line\">\t<span class=\"number\">100%</span> &#123; <span class=\"attribute\">background-color</span>: red; &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-tag\">div</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">animation-name</span>: mycolor;</span><br><span class=\"line\">\t<span class=\"attribute\">animation-duration</span>: <span class=\"number\">5s</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">animation-timing-function</span>: linear;</span><br><span class=\"line\">\t<span class=\"attribute\">animation-iteration-count</span>: <span class=\"number\">2</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h5><p><code>@keyframes的原理是把元素样式从一个状态慢慢的变为另外一个状态，所以是要能够进行渐变的样式才可以使用</code><br>以下是不能生效的</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">div</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">animation</span>: appear <span class=\"number\">2s</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">@keyframes</span> appear &#123;</span><br><span class=\"line\">    <span class=\"selector-tag\">from</span> &#123; <span class=\"attribute\">display</span>:none; &#125;</span><br><span class=\"line\">    <span class=\"selector-tag\">to</span>   &#123; <span class=\"attribute\">display</span>:block;&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>常用于@keyframes的属性介绍</code></p>\n<ul>\n<li>visibility和opacity</li>\n<li>color和background-color</li>\n<li>盒子模型中的margin、pading、bottom、top、border</li>\n</ul>\n<p>想到了再补充其他的</p>\n<h3 id=\"media\"><a href=\"#media\" class=\"headerlink\" title=\"@media\"></a>@media</h3><blockquote>\n<p>使用 @media，可以针对不同的媒体类型定义不同的样式。<br>使用 @media， 可以针对不同的屏幕尺寸设置不同的样式<br>当你重置浏览器大小的过程中，页面也会根据浏览器的宽度和高度重新渲染页面。</p>\n</blockquote>\n<h5 id=\"简单示例子\"><a href=\"#简单示例子\" class=\"headerlink\" title=\"简单示例子\"></a>简单示例子</h5><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@media mediatype and|not|only (media feature) &#123;</span><br><span class=\"line\">    CSS-Code;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"媒体类型\"><a href=\"#媒体类型\" class=\"headerlink\" title=\"媒体类型\"></a>媒体类型</h5><ul>\n<li>all 【默认值】 匹配所有设备，无论是打印设备还是其他普通的现实设备。</li>\n<li>screen 除打印设备和屏幕阅读设备以外的所有设备</li>\n<li>speech 能够“读出”页面的屏幕阅读设备，通常供残疾人士使用</li>\n<li>print 在打印和打印预览的时候生效</li>\n</ul>\n<p><code>此处一般情况下不写，采用默认值all，当前我们设计的前端项目一般不涉及speech、print、screen的区分</code></p>\n<h5 id=\"媒体特征（常用）\"><a href=\"#媒体特征（常用）\" class=\"headerlink\" title=\"媒体特征（常用）\"></a>媒体特征（常用）</h5><ul>\n<li>判断设备是横屏还是竖屏<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 横屏 */</span> </span><br><span class=\"line\"><span class=\"keyword\">@media</span> (<span class=\"attribute\">orientation</span>: landscape) &#123;&#125; </span><br><span class=\"line\"><span class=\"comment\">/* 竖屏 */</span> </span><br><span class=\"line\"><span class=\"keyword\">@media</span> (<span class=\"attribute\">orientation</span>: portrait) &#123;&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n<li>匹配设备的最大高度、最大宽度<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 如果高度小于600px */</span> </span><br><span class=\"line\"><span class=\"keyword\">@media</span> (<span class=\"attribute\">max-height</span>: <span class=\"number\">600px</span>) &#123;&#125;</span><br><span class=\"line\"><span class=\"comment\">/* 如果高度小于480px */</span> </span><br><span class=\"line\"><span class=\"keyword\">@media</span> (<span class=\"attribute\">max-height</span>: <span class=\"number\">480px</span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*多重判断可以用or或者and*/</span></span><br><span class=\"line\"><span class=\"keyword\">@media</span>(min-height: <span class=\"number\">100px</span>) <span class=\"keyword\">and</span> (<span class=\"attribute\">max-height</span>: <span class=\"number\">200px</span>)&#123;</span><br><span class=\"line\">  <span class=\"selector-tag\">body</span> &#123; <span class=\"attribute\">background</span>: <span class=\"number\">#333</span>; <span class=\"attribute\">color</span>: white; &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n<li>判断深色模式<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 深色模式 表示系统更倾向于深色模式*/</span></span><br><span class=\"line\"><span class=\"keyword\">@media</span> (<span class=\"attribute\">prefers-color-scheme</span>: dark) &#123;</span><br><span class=\"line\">    <span class=\"selector-tag\">body</span> &#123; <span class=\"attribute\">background</span>: <span class=\"number\">#333</span>; <span class=\"attribute\">color</span>: white; &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* 浅色模式 表示系统更倾向于浅色模式*/</span></span><br><span class=\"line\"><span class=\"keyword\">@media</span> (<span class=\"attribute\">prefers-color-scheme</span>: light) &#123;</span><br><span class=\"line\">    <span class=\"selector-tag\">body</span> &#123; <span class=\"attribute\">background</span>: white; <span class=\"attribute\">color</span>: <span class=\"number\">#333</span>; &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n</ul>\n<h5 id=\"匹配规则\"><a href=\"#匹配规则\" class=\"headerlink\" title=\"匹配规则\"></a>匹配规则</h5><p><code>从前往后，一旦匹配则终止</code></p>\n<h3 id=\"import\"><a href=\"#import\" class=\"headerlink\" title=\"@import\"></a>@import</h3><blockquote>\n<p>用于导入其他样式文件</p>\n</blockquote>\n<ul>\n<li>可以混用条件判断媒体查询<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 宽度小于1000px才会生效 */</span></span><br><span class=\"line\"><span class=\"keyword\">@import</span> <span class=\"string\">&quot;./reset.css&quot;</span> screen <span class=\"keyword\">and</span> (<span class=\"attribute\">max-width</span>: <span class=\"number\">1000px</span>); </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n</ul>\n<h3 id=\"font-face\"><a href=\"#font-face\" class=\"headerlink\" title=\"@font-face\"></a>@font-face</h3><blockquote>\n<p>@font-face 用于加载自定义字体。属于目前前端比较常用的语法，也有多开源的字体图标库可以使用既支持提供字体资源文件路径进行加载，也支持用户本地安装的字体加载</p>\n</blockquote>\n<p>阿里开源字体库引用 示例</p>\n<ul>\n<li>引入ttf文件</li>\n</ul>\n<p><img src=\"/../images/CSS%E4%B9%8BAt-rules-1701680236420.png\" alt=\"1\"></p>\n<ul>\n<li>font.css</li>\n</ul>\n<p><img src=\"/../images/CSS%E4%B9%8BAt-rules-1701680245005.png\" alt=\"2\"></p>\n<ul>\n<li>global.less中引入</li>\n</ul>\n<p><img src=\"/../images/CSS%E4%B9%8BAt-rules-1701680251744.png\" alt=\"3\"></p>\n"},{"title":"回溯——排列、组合、子集","keywords":"就业, 刷题，回溯","description":"回溯章节的排列、组合、子集全刷篇","top_img":"/img/suanfa.png","comments":1,"cover":"/img/suanfa.png","copyright_author":"xingxing","copyright_author_href":"www.staraway.asia","copyright_info":"可转载哦","date":"2023-10-04T08:52:14.000Z","_content":"\n\n> 回溯算法初探————排列、组合、子集\n\n\n## 整体解题步骤\n该类型回溯算法有统一的代码解方案\n1. 确定题解`res`格式和部分可能解`temp`格式\n\n```java\n// res\nList<List<Integer>> res = new ArrayList<>();\n// temp\nDeque<Integer> path = new ArrayDeque<>(len);\n```\n2. 确定递归调用方法\n\n```java\nbackTrack(nums, res, temp, 0, length, unused);\n```\n3. 指定递归终止条件\n\n```java\n        if (depth == len) {\n            res.add(new ArrayList<>(path));\n            return;\n        }\n```\n4. 确定回溯位置\n\n```\n        for (int i = 0; i < len; i++) {\n                path.addLast(nums[i]);\n                dfs(nums, len, depth + 1, path, used, res);\n                path.removeLast();\n            }\n        }\n```\n\n`往往还涉及到unused数组的使用或者begin变量，以防止重复情况`\n\n####  [46. 全排列（中等）](https://leetcode-cn.com/problems/permutations/)\n\n- 题目介绍\n\n![1](../images/回溯——flood-fill、字符串-1701681216686.png)\n- 解题思路\n\n`标准解题步骤基础上加上unused数组，避免元素重复`\n\n`核心代码`：\n```java\n        if (depth == len) {\n            res.add(new ArrayList<>(path));\n            return;\n        }\n\n        for (int i = 0; i < len; i++) {\n            if (!used[i]) {\n                path.addLast(nums[i]);\n                used[i] = true;\n\n                dfs(nums, len, depth + 1, path, used, res);\n\n                used[i] = false;\n                path.removeLast();\n            }\n        }\n```\n- 完整代码\n\n```JAVA\nclass Solution {\n    public List<List<Integer>> permute(int[] nums) {\n        int len = nums.length;\n        // 使用一个动态数组保存所有可能的全排列\n        List<List<Integer>> res = new ArrayList<>();\n        if (len == 0) {\n            return res;\n        }\n\n        boolean[] used = new boolean[len];\n        Deque<Integer> path = new ArrayDeque<>(len);\n\n        // 调用深度优先搜索函数\n        dfs(nums, len, 0, path, used, res);\n        return res;\n    }\n\n    // 深度优先搜索函数\n    private void dfs(int[] nums, int len, int depth,\n                     Deque<Integer> path, boolean[] used,\n                     List<List<Integer>> res) {\n        // 如果达到了数组的长度，说明已经生成了一个全排列\n        if (depth == len) {\n            // 将当前路径中的元素添加到结果集中\n            res.add(new ArrayList<>(path));\n            return;\n        }\n\n        // 遍历数组中的每个元素\n        for (int i = 0; i < len; i++) {\n            if (!used[i]) {\n                // 将当前元素加入路径中\n                path.addLast(nums[i]);\n                used[i] = true;\n\n                // 递归调用深度优先搜索函数，继续生成下一个位置的元素\n                dfs(nums, len, depth + 1, path, used, res);\n\n                // 回溯操作，将当前元素从路径中移除，重新设置为未使用状态\n                used[i] = false;\n                path.removeLast();\n            }\n        }\n    }\n}\n```\n\n#### [47. 全排列 II（中等）](https://leetcode-cn.com/problems/permutations-ii/)\n- 题目介绍\n\n\n![2](../images/回溯——flood-fill、字符串-1701681234910.png)\n\n- 解题思路\n\n`相较于全排列一，该题数字可以重复，考虑排序+从左到右第一次调用`\n\n`核心代码：`\n```java\n// 排序\n Arrays.sort(nums);\n \n//避免重复排列\n     for (int i = 0; i < length; i++) {\n            if (unused[i] || i > 0 && nums[i] == nums[i - 1] && !unused[i - 1]) {\n                continue;\n            }\n            temp.addLast(nums[i]);\n            unused[i] = true;\n            backTrack(nums, res, temp, i, length, unused);\n            unused[i] = false;\n            temp.removeLast();\n        }\n```\n- 完整代码\n\n```java\nclass Solution {\n    public List<List<Integer>> permuteUnique(int[] nums) {\n        // 对数组进行排序，使相同的元素相邻，方便后续去重操作\n        Arrays.sort(nums);\n        // 用于保存结果的列表\n        ArrayList<List<Integer>> res = new ArrayList<>();\n        // 用于暂存当前排列的链表\n        LinkedList<Integer> temp = new LinkedList<>();\n        // 数组的长度\n        int length = nums.length;\n        // 记录元素是否被使用的数组\n        boolean[] unused = new boolean[length];\n        // 调用回溯函数\n        backTrack(nums, res, temp, 0, length, unused);\n\n        return res;\n    }\n\n    private void backTrack(int[] nums,\n                           ArrayList<List<Integer>> res,\n                           LinkedList<Integer> temp,\n                           int x,\n                           int length,\n                           boolean[] unused) {\n        // 终止条件：当暂存排列的长度等于数组的长度时，说明已经生成了一个全排列\n        if (temp.size() == length) {\n            // 将当前排列加入结果列表\n            res.add(new ArrayList<>(temp));\n            return;\n        }\n        // 遍历数组中的每个元素\n        for (int i = 0; i < length; i++) {\n            // 如果当前元素已经被使用，或者是相同的元素且前一个元素未被使用，则跳过该元素\n            if (unused[i] || (i > 0 && nums[i] == nums[i - 1] && !unused[i - 1])) {\n                continue;\n            }\n            // 将当前元素加入暂存排列中\n            temp.addLast(nums[i]);\n            // 将当前元素标记为已使用\n            unused[i] = true;\n            // 递归调用回溯函数，生成下一个位置的元素\n            backTrack(nums, res, temp, i, length, unused);\n            // 回溯操作，将当前元素从暂存排列中移除，重新设置为未使用状态\n            unused[i] = false;\n            temp.removeLast();\n        }\n    }\n}\n```\n####   [39. 组合总和（中等）](https://leetcode-cn.com/problems/combination-sum/)\n- 题目介绍\n\n![4](../images/回溯——flood-fill、字符串-1701681257321.png)\n\n- 解题思路\n\n`以target为和，全排列去对其进行相减，当target等于0则为其中一解，当target小于0则剪枝`\n\n`核心代码：`\n```java\n        if (target == 0) {\n            res.add(new ArrayList<>(temp));\n            return;\n        }\n        if (target < 0) {\n            return;\n        }\n        for (int i = x; i < candidates.length; i++) {\n            temp.addLast(candidates[i]);\n            backTrack(candidates, i, target - candidates[i], res, temp);\n            temp.removeLast();\n        }\n    }\n```\n\n- 完整代码\n\n```java\nclass Solution {\n    public List<List<Integer>> combinationSum(int[] candidates, int target) {\n        // 用于保存结果的列表\n        ArrayList<List<Integer>> res = new ArrayList<>();\n        // 用于暂存当前组合的链表\n        LinkedList<Integer> temp = new LinkedList<>();\n        // 调用回溯函数\n        backTrack(candidates, 0, target, res, temp);\n        return res;\n    }\n\n    // 回溯函数\n    private void backTrack(int[] candidates,\n                           int x,\n                           int target,\n                           ArrayList<List<Integer>> res,\n                           LinkedList<Integer> temp) {\n        // 终止条件：当目标值为0时，说明已经生成了一个满足条件的组合\n        if (target == 0) {\n            // 将当前组合加入结果列表\n            res.add(new ArrayList<>(temp));\n            return;\n        }\n        // 如果目标值小于0，说明当前组合不满足条件，直接返回\n        if (target < 0) {\n            return;\n        }\n        // 遍历候选数数组中的每个元素\n        for (int i = x; i < candidates.length; i++) {\n            // 将当前元素加入暂存组合中\n            temp.addLast(candidates[i]);\n            // 递归调用回溯函数，生成下一个位置的元素\n            backTrack(candidates, i, target - candidates[i], res, temp);\n            // 回溯操作，将当前元素从暂存组合中移除\n            temp.removeLast();\n        }\n    }\n}\n```\n\n\n####   [40. 组合总和 II（中等）](https://leetcode-cn.com/problems/combination-sum-ii/)\n\n- 题目介绍\n\n`和全排列进阶一致`\n\n`核心代码：`\n```java\n        for (int i = x; i < candidates.length; i++) {\n            if (i > 0 && candidates[i] == candidates[i - 1] && !unused[i-1]) {\n                continue;\n            }\n            unused[i]=true;\n            temp.addLast(candidates[i]);\n            backTrack(candidates, i + 1, target - candidates[i], res, temp,unused);\n            unused[i]=false;\n            temp.removeLast();\n        }\n    }\n```\n\n- 完整代码\n```java\nclass Solution {\n    public List<List<Integer>> combinationSum2(int[] candidates, int target) {\n        // 对候选数数组进行排序，为后续剪枝操作做准备\n        Arrays.sort(candidates);\n        // 用于保存结果的列表\n        ArrayList<List<Integer>> res = new ArrayList<>();\n        // 用于暂存当前组合的链表\n        LinkedList<Integer> temp = new LinkedList<>();\n        // 用于标记候选数是否已被使用的布尔数组\n        boolean[] unused = new boolean[candidates.length];\n        // 调用回溯函数\n        backTrack(candidates, 0, target, res, temp, unused);\n\n        return res;\n    }\n\n    // 回溯函数\n    private void backTrack(int[] candidates,\n                           int x,\n                           int target,\n                           ArrayList<List<Integer>> res,\n                           LinkedList<Integer> temp,\n                           boolean[] unused) {\n        // 终止条件：当目标值为0时，说明已经生成了一个满足条件的组合\n        if (target == 0) {\n            // 将当前组合加入结果列表\n            res.add(new ArrayList<>(temp));\n            return;\n        }\n        // 如果目标值小于0，说明当前组合不满足条件，直接返回\n        if (target < 0) {\n            return;\n        }\n        // 遍历候选数数组中的每个元素\n        for (int i = x; i < candidates.length; i++) {\n            // 进行剪枝操作：如果当前元素与前一个元素相同，并且前一个元素未被使用，则跳过当前元素，避免重复组合\n            if (i > 0 && candidates[i] == candidates[i - 1] && !unused[i - 1]) {\n                continue;\n            }\n            // 标记当前元素为已使用\n            unused[i] = true;\n            // 将当前元素加入暂存组合中\n            temp.addLast(candidates[i]);\n            // 递归调用回溯函数，生成下一个位置的元素\n            backTrack(candidates, i + 1, target - candidates[i], res, temp, unused);\n            // 回溯操作，将当前元素从暂存组合中移除，并恢复当前元素的未使用状态\n            unused[i] = false;\n            temp.removeLast();\n        }\n    }\n}\n```\n\n####  [77. 组合（中等）](https://leetcode-cn.com/problems/combinations/)\n\n- 题目介绍\n\n\n![7](../images/回溯——flood-fill、字符串-1701681281060.png)\n\n- 经典全排列\n\n```java\nclass Solution {\n    public List<List<Integer>> combine(int n, int k) {\n        // 用于保存结果的列表\n        ArrayList<List<Integer>> res = new ArrayList<>();\n        // 用于暂存当前组合的链表\n        LinkedList<Integer> temp = new LinkedList<>();\n        // 调用回溯函数\n        backTrack(1, n, k, res, temp);\n        // 打印结果\n        System.out.println(res.toString());\n        return res;\n    }\n\n    // 回溯函数\n    private void backTrack(int x,\n                           int n,\n                           int k,\n                           ArrayList<List<Integer>> res,\n                           LinkedList<Integer> temp) {\n        // 终止条件：当暂存组合的大小等于 k 时，说明已经生成了一个满足条件的组合\n        if (temp.size() == k) {\n            // 将当前组合加入结果列表\n            res.add(new ArrayList<>(temp));\n            return;\n        }\n        // 遍历可选的数字范围\n        for (int i = x; i <= n - (k - temp.size()) + 1; i++) {\n            // 将当前数字加入暂存组合中\n            temp.addLast(i);\n            // 递归调用回溯函数，生成下一个位置的数字\n            backTrack(i + 1, n, k, res, temp);\n            // 回溯操作，将当前数字从暂存组合中移除\n            temp.removeLast();\n        }\n    }\n}\n```\n\n#### [78. 子集（中等）](https://leetcode-cn.com/problems/subsets/)\n\n- 题目介绍\n\n![8](../images/回溯——flood-fill、字符串-1701681296977.png)\n\n- 解题思路\n\n`此处回溯要注意begin变量的设置，可保证集合的非重复性`\n\n`核心代码：`\n```java\n        for (int i = x; i < length; i++) {\n            temp.addLast(nums[i]);\n            backTrace(nums, res, temp, i + 1, length);\n            temp.removeLast();\n        }\n```\n- 完整代码\n\n```java\nclass Solution {\n    public List<List<Integer>> subsets(int[] nums) {\n        // 用于保存结果的列表\n        ArrayList<List<Integer>> res = new ArrayList<>();\n        // 用于暂存当前子集的链表\n        LinkedList<Integer> temp = new LinkedList<>();\n        // 数组的长度\n        int length = nums.length;\n        // 调用回溯函数\n        backTrace(nums, res, temp, 0, length);\n        return res;\n    }\n\n    // 回溯函数\n    private void backTrace(int[] nums,\n                           ArrayList<List<Integer>> res,\n                           LinkedList<Integer> temp,\n                           int x,\n                           int length) {\n        // 将当前子集加入结果列表\n        res.add(new ArrayList<>(temp));\n        // 遍历数组中的元素\n        for (int i = x; i < length; i++) {\n            // 将当前元素加入暂存子集中\n            temp.addLast(nums[i]);\n            // 递归调用回溯函数，生成下一个位置的元素\n            backTrace(nums, res, temp, i + 1, length);\n            // 回溯操作，将当前元素从暂存子集中移除\n            temp.removeLast();\n        }\n    }\n}\n```\n\n#### [90. 子集 II（中等）](https://leetcode-cn.com/problems/subsets-ii/)\n- 题目介绍\n\n![9](../images/回溯——flood-fill、字符串-1701681314905.png)\n\n- 解题思路\n\n`该题加了可重复限制条件，整体和全排列2类似，先排序+只允许从左到右排列`\n\n`核心代码：`\n\n```java\n        for (int i = x; i < length; i++) {\n            if (i>0&&nums[i]==nums[i-1]&&!unused[i-1]){\n                continue;\n            }\n            unused[i]=true;\n            temp.addLast(nums[i]);\n            backTrace(nums,res,temp,i+1,length,unused);\n            unused[i]=false;\n            temp.removeLast();\n        }\n\n```\n\n- 完整代码\n\n```java\nclass Solution {\n    public List<List<Integer>> subsetsWithDup(int[] nums) {\n        // 对数组进行排序\n        Arrays.sort(nums);\n        // 用于保存结果的列表\n        ArrayList<List<Integer>> res = new ArrayList<>();\n        // 用于暂存当前子集的链表\n        LinkedList<Integer> temp = new LinkedList<>();\n        // 数组的长度\n        int length = nums.length;\n        // 标记数组中的元素是否已被使用\n        boolean[] unused = new boolean[length];\n        // 调用回溯函数\n        backTrace(nums, res, temp, 0, length, unused);\n        return res;\n    }\n\n    // 回溯函数\n    private void backTrace(int[] nums,\n                           ArrayList<List<Integer>> res,\n                           LinkedList<Integer> temp,\n                           int x,\n                           int length,\n                           boolean[] unused) {\n        // 将当前子集加入结果列表\n        res.add(new ArrayList<>(temp));\n        // 遍历数组中的元素\n        for (int i = x; i < length; i++) {\n            // 如果当前元素与前一个元素相等，并且前一个元素未被使用，则跳过当前循环\n            if (i > 0 && nums[i] == nums[i - 1] && !unused[i - 1]) {\n                continue;\n            }\n            // 标记当前元素为已使用\n            unused[i] = true;\n            // 将当前元素加入暂存子集中\n            temp.addLast(nums[i]);\n            // 递归调用回溯函数，生成下一个位置的元素\n            backTrace(nums, res, temp, i + 1, length, unused);\n            // 回溯操作，将当前元素从暂存子集中移除\n            unused[i] = false;\n            temp.removeLast();\n        }\n    }\n}\n```\n\n#### [60. 第 k 个排列（中等）](https://leetcode-cn.com/problems/permutation-sequence/)\n\n- 题目介绍\n\n\n![10](../images/回溯——flood-fill、字符串-1701681338321.png)\n\n- 解题思路\n\n`定义count值，每次找到一个全排列+1，当找到第k值后复制res返回`\n\n`核心代码：`\n```java\n        if (temp.size() == n) {\n            //res.add(new ArrayList<>(temp));\n            //System.out.println(count);\n            count++;\n            if (count==k){\n                temp.forEach(t->res.append(t));\n            }\n            return;\n        }\n        for (int i = 1; i <= n; i++) {\n            if (unused[i-1]){\n                continue;\n            }\n            temp.addLast(i);\n            unused[i-1]=true;\n            backTrace(i + 1, n, k, temp,unused);\n            if (count==k){\n                break;\n            }\n            temp.removeLast();\n            unused[i-1]=false;\n        }\n    }\n```\n\n- 完整代码\n\n```java\nclass Solution {\n    // 计数器，用于记录生成的排列数量\n    int count = 0;\n    // 用于保存最终的结果\n    StringBuilder res = new StringBuilder();\n\n    public String getPermutation(int n, int k) {\n        // 用于暂存当前排列的链表\n        LinkedList<Integer> temp = new LinkedList<>();\n        // 标记数字是否已被使用\n        boolean[] unused = new boolean[n];\n        // 调用回溯函数生成排列\n        backTrace(1, n, k, temp, unused);\n        return res.toString();\n    }\n\n    // 回溯函数生成排列\n    private void backTrace(int x,\n                           int n,\n                           int k,\n                           LinkedList<Integer> temp,\n                           boolean[] unused) {\n        // 如果已生成的排列长度为 n，则判断是否为第 k 个排列\n        if (temp.size() == n) {\n            count++;\n            if (count == k) {\n                // 如果是第 k 个排列，则将排列中的数字加入结果字符串\n                temp.forEach(t -> res.append(t));\n            }\n            return;\n        }\n\n        // 遍历可用的数字\n        for (int i = 1; i <= n; i++) {\n            // 如果数字已被使用，则跳过当前循环\n            if (unused[i - 1]) {\n                continue;\n            }\n            // 将当前数字加入暂存排列中\n            temp.addLast(i);\n            unused[i - 1] = true;\n            // 递归调用回溯函数，生成下一个位置的数字\n            backTrace(i + 1, n, k, temp, unused);\n            if (count == k) {\n                // 如果已生成第 k 个排列，则跳出循环\n                break;\n            }\n            // 回溯操作，将当前数字从暂存排列中移除\n            temp.removeLast();\n            unused[i - 1] = false;\n        }\n    }\n}\n```\n\n####  [93. 复原 IP 地址（中等）](https://leetcode-cn.com/problems/restore-ip-addresses/)\n\n- 题目介绍\n\n![11](../images/回溯——flood-fill、字符串-1701681356056.png)\n\n- 解题思路\n  `确定四个值组成一组唯一的ip地址`\n\n`定义ip地址中每一个值的正确判定条件`\n\n`适当减枝`\n\n`核心代码`\n\n```java\n//递归函数，确定ip地址四个值\n    backTrace(s, 0, 4, res, temp, length);\n//定义ip地址中每一个值的正确判定条件\n    private boolean judgeIpSegment(String s, int begin, int end) {\n        int len = end - begin + 1;\n        if (len > 1 && s.charAt(begin) == '0') {\n            return false;\n        }\n        int res = 0;\n        for (int i = begin; i <= end; i++) {\n            res = res * 10 + s.charAt(i) - '0';\n        }\n        //while (begin <= end) {\n        //    res = res * 10 + s.charAt(begin) - '0';\n        //    begin++;\n        //}\n        return res >= 0 && res <= 255;\n    }\n//递归回溯\n            if (judgeIpSegment(s, x, i)) {\n                temp.addLast(s.substring(x, i + 1));\n                backTrace(s, i + 1, k - 1, res, temp, length);\n                temp.removeLast();\n            }\n//适当减枝\n            if (i >= length || length - i > k * 3) {\n                break;\n            }\n```\n- 完整代码\n\n```java\nclass Solution {\n    public List<String> restoreIpAddresses(String s) {\n        // 输入字符串的长度\n        int length = s.length();\n        // 用于保存结果的列表\n        ArrayList<String> res = new ArrayList<>();\n        // 用于暂存当前正在生成的 IP 地址段的双端队列\n        Deque<String> temp = new ArrayDeque<>(4);\n        // 调用回溯函数生成 IP 地址\n        backTrace(s, 0, 4, res, temp, length);\n        return res;\n    }\n\n    // 回溯函数生成 IP 地址\n    private void backTrace(String s,\n                           int x,\n                           int k,\n                           ArrayList<String> res,\n                           Deque<String> temp,\n                           int length) {\n        // 如果已遍历完整个字符串\n        if (x == length) {\n            // 如果已生成了 4 个 IP 地址段，则将当前 IP 地址加入结果列表\n            if (k == 0) {\n                res.add(String.join(\".\", temp));\n            }\n            return;\n        }\n        // 枚举下一个 IP 地址段的结束位置\n        for (int i = x; i < x + 3; i++) {\n            // 如果超出了字符串的长度，或者剩余的字符数大于 k*3，则跳出循环\n            if (i >= length || length - i > k * 3) {\n                break;\n            }\n            // 判断当前 IP 地址段是否合法\n            if (judgeIpSegment(s, x, i)) {\n                // 将当前 IP 地址段加入暂存队列\n                temp.addLast(s.substring(x, i + 1));\n                // 递归调用回溯函数，生成下一个 IP 地址段\n                backTrace(s, i + 1, k - 1, res, temp, length);\n                // 回溯操作，将当前 IP 地址段从暂存队列中移除\n                temp.removeLast();\n            }\n        }\n    }\n\n    // 判断 IP 地址段是否合法\n    private boolean judgeIpSegment(String s, int begin, int end) {\n        // IP 地址段的长度\n        int len = end - begin + 1;\n        // 如果长度大于 1 且以 0 开头，则不合法\n        if (len > 1 && s.charAt(begin) == '0') {\n            return false;\n        }\n        // 将 IP 地址段转换为整数\n        int res = 0;\n        for (int i = begin; i <= end; i++) {\n            res = res * 10 + s.charAt(i) - '0';\n        }\n        // 判断整数是否在合法的范围内\n        return res >= 0 && res <= 255;\n    }\n}\n```\n","source":"_posts/回溯——flood-fill、字符串.md","raw":"---\ntitle: 回溯——排列、组合、子集\ntags:\n    - 就业\n    - 回溯\n    - 刷题\ncategories: 算法\nkeywords: 就业, 刷题，回溯\ndescription: 回溯章节的排列、组合、子集全刷篇\ntop_img: /img/suanfa.png\ncomments: true\ncover: /img/suanfa.png\ncopyright_author: xingxing\ncopyright_author_href: www.staraway.asia\ncopyright_info: 可转载哦\ndate: 2023-10-04 16:52:14\n---\n\n\n> 回溯算法初探————排列、组合、子集\n\n\n## 整体解题步骤\n该类型回溯算法有统一的代码解方案\n1. 确定题解`res`格式和部分可能解`temp`格式\n\n```java\n// res\nList<List<Integer>> res = new ArrayList<>();\n// temp\nDeque<Integer> path = new ArrayDeque<>(len);\n```\n2. 确定递归调用方法\n\n```java\nbackTrack(nums, res, temp, 0, length, unused);\n```\n3. 指定递归终止条件\n\n```java\n        if (depth == len) {\n            res.add(new ArrayList<>(path));\n            return;\n        }\n```\n4. 确定回溯位置\n\n```\n        for (int i = 0; i < len; i++) {\n                path.addLast(nums[i]);\n                dfs(nums, len, depth + 1, path, used, res);\n                path.removeLast();\n            }\n        }\n```\n\n`往往还涉及到unused数组的使用或者begin变量，以防止重复情况`\n\n####  [46. 全排列（中等）](https://leetcode-cn.com/problems/permutations/)\n\n- 题目介绍\n\n![1](../images/回溯——flood-fill、字符串-1701681216686.png)\n- 解题思路\n\n`标准解题步骤基础上加上unused数组，避免元素重复`\n\n`核心代码`：\n```java\n        if (depth == len) {\n            res.add(new ArrayList<>(path));\n            return;\n        }\n\n        for (int i = 0; i < len; i++) {\n            if (!used[i]) {\n                path.addLast(nums[i]);\n                used[i] = true;\n\n                dfs(nums, len, depth + 1, path, used, res);\n\n                used[i] = false;\n                path.removeLast();\n            }\n        }\n```\n- 完整代码\n\n```JAVA\nclass Solution {\n    public List<List<Integer>> permute(int[] nums) {\n        int len = nums.length;\n        // 使用一个动态数组保存所有可能的全排列\n        List<List<Integer>> res = new ArrayList<>();\n        if (len == 0) {\n            return res;\n        }\n\n        boolean[] used = new boolean[len];\n        Deque<Integer> path = new ArrayDeque<>(len);\n\n        // 调用深度优先搜索函数\n        dfs(nums, len, 0, path, used, res);\n        return res;\n    }\n\n    // 深度优先搜索函数\n    private void dfs(int[] nums, int len, int depth,\n                     Deque<Integer> path, boolean[] used,\n                     List<List<Integer>> res) {\n        // 如果达到了数组的长度，说明已经生成了一个全排列\n        if (depth == len) {\n            // 将当前路径中的元素添加到结果集中\n            res.add(new ArrayList<>(path));\n            return;\n        }\n\n        // 遍历数组中的每个元素\n        for (int i = 0; i < len; i++) {\n            if (!used[i]) {\n                // 将当前元素加入路径中\n                path.addLast(nums[i]);\n                used[i] = true;\n\n                // 递归调用深度优先搜索函数，继续生成下一个位置的元素\n                dfs(nums, len, depth + 1, path, used, res);\n\n                // 回溯操作，将当前元素从路径中移除，重新设置为未使用状态\n                used[i] = false;\n                path.removeLast();\n            }\n        }\n    }\n}\n```\n\n#### [47. 全排列 II（中等）](https://leetcode-cn.com/problems/permutations-ii/)\n- 题目介绍\n\n\n![2](../images/回溯——flood-fill、字符串-1701681234910.png)\n\n- 解题思路\n\n`相较于全排列一，该题数字可以重复，考虑排序+从左到右第一次调用`\n\n`核心代码：`\n```java\n// 排序\n Arrays.sort(nums);\n \n//避免重复排列\n     for (int i = 0; i < length; i++) {\n            if (unused[i] || i > 0 && nums[i] == nums[i - 1] && !unused[i - 1]) {\n                continue;\n            }\n            temp.addLast(nums[i]);\n            unused[i] = true;\n            backTrack(nums, res, temp, i, length, unused);\n            unused[i] = false;\n            temp.removeLast();\n        }\n```\n- 完整代码\n\n```java\nclass Solution {\n    public List<List<Integer>> permuteUnique(int[] nums) {\n        // 对数组进行排序，使相同的元素相邻，方便后续去重操作\n        Arrays.sort(nums);\n        // 用于保存结果的列表\n        ArrayList<List<Integer>> res = new ArrayList<>();\n        // 用于暂存当前排列的链表\n        LinkedList<Integer> temp = new LinkedList<>();\n        // 数组的长度\n        int length = nums.length;\n        // 记录元素是否被使用的数组\n        boolean[] unused = new boolean[length];\n        // 调用回溯函数\n        backTrack(nums, res, temp, 0, length, unused);\n\n        return res;\n    }\n\n    private void backTrack(int[] nums,\n                           ArrayList<List<Integer>> res,\n                           LinkedList<Integer> temp,\n                           int x,\n                           int length,\n                           boolean[] unused) {\n        // 终止条件：当暂存排列的长度等于数组的长度时，说明已经生成了一个全排列\n        if (temp.size() == length) {\n            // 将当前排列加入结果列表\n            res.add(new ArrayList<>(temp));\n            return;\n        }\n        // 遍历数组中的每个元素\n        for (int i = 0; i < length; i++) {\n            // 如果当前元素已经被使用，或者是相同的元素且前一个元素未被使用，则跳过该元素\n            if (unused[i] || (i > 0 && nums[i] == nums[i - 1] && !unused[i - 1])) {\n                continue;\n            }\n            // 将当前元素加入暂存排列中\n            temp.addLast(nums[i]);\n            // 将当前元素标记为已使用\n            unused[i] = true;\n            // 递归调用回溯函数，生成下一个位置的元素\n            backTrack(nums, res, temp, i, length, unused);\n            // 回溯操作，将当前元素从暂存排列中移除，重新设置为未使用状态\n            unused[i] = false;\n            temp.removeLast();\n        }\n    }\n}\n```\n####   [39. 组合总和（中等）](https://leetcode-cn.com/problems/combination-sum/)\n- 题目介绍\n\n![4](../images/回溯——flood-fill、字符串-1701681257321.png)\n\n- 解题思路\n\n`以target为和，全排列去对其进行相减，当target等于0则为其中一解，当target小于0则剪枝`\n\n`核心代码：`\n```java\n        if (target == 0) {\n            res.add(new ArrayList<>(temp));\n            return;\n        }\n        if (target < 0) {\n            return;\n        }\n        for (int i = x; i < candidates.length; i++) {\n            temp.addLast(candidates[i]);\n            backTrack(candidates, i, target - candidates[i], res, temp);\n            temp.removeLast();\n        }\n    }\n```\n\n- 完整代码\n\n```java\nclass Solution {\n    public List<List<Integer>> combinationSum(int[] candidates, int target) {\n        // 用于保存结果的列表\n        ArrayList<List<Integer>> res = new ArrayList<>();\n        // 用于暂存当前组合的链表\n        LinkedList<Integer> temp = new LinkedList<>();\n        // 调用回溯函数\n        backTrack(candidates, 0, target, res, temp);\n        return res;\n    }\n\n    // 回溯函数\n    private void backTrack(int[] candidates,\n                           int x,\n                           int target,\n                           ArrayList<List<Integer>> res,\n                           LinkedList<Integer> temp) {\n        // 终止条件：当目标值为0时，说明已经生成了一个满足条件的组合\n        if (target == 0) {\n            // 将当前组合加入结果列表\n            res.add(new ArrayList<>(temp));\n            return;\n        }\n        // 如果目标值小于0，说明当前组合不满足条件，直接返回\n        if (target < 0) {\n            return;\n        }\n        // 遍历候选数数组中的每个元素\n        for (int i = x; i < candidates.length; i++) {\n            // 将当前元素加入暂存组合中\n            temp.addLast(candidates[i]);\n            // 递归调用回溯函数，生成下一个位置的元素\n            backTrack(candidates, i, target - candidates[i], res, temp);\n            // 回溯操作，将当前元素从暂存组合中移除\n            temp.removeLast();\n        }\n    }\n}\n```\n\n\n####   [40. 组合总和 II（中等）](https://leetcode-cn.com/problems/combination-sum-ii/)\n\n- 题目介绍\n\n`和全排列进阶一致`\n\n`核心代码：`\n```java\n        for (int i = x; i < candidates.length; i++) {\n            if (i > 0 && candidates[i] == candidates[i - 1] && !unused[i-1]) {\n                continue;\n            }\n            unused[i]=true;\n            temp.addLast(candidates[i]);\n            backTrack(candidates, i + 1, target - candidates[i], res, temp,unused);\n            unused[i]=false;\n            temp.removeLast();\n        }\n    }\n```\n\n- 完整代码\n```java\nclass Solution {\n    public List<List<Integer>> combinationSum2(int[] candidates, int target) {\n        // 对候选数数组进行排序，为后续剪枝操作做准备\n        Arrays.sort(candidates);\n        // 用于保存结果的列表\n        ArrayList<List<Integer>> res = new ArrayList<>();\n        // 用于暂存当前组合的链表\n        LinkedList<Integer> temp = new LinkedList<>();\n        // 用于标记候选数是否已被使用的布尔数组\n        boolean[] unused = new boolean[candidates.length];\n        // 调用回溯函数\n        backTrack(candidates, 0, target, res, temp, unused);\n\n        return res;\n    }\n\n    // 回溯函数\n    private void backTrack(int[] candidates,\n                           int x,\n                           int target,\n                           ArrayList<List<Integer>> res,\n                           LinkedList<Integer> temp,\n                           boolean[] unused) {\n        // 终止条件：当目标值为0时，说明已经生成了一个满足条件的组合\n        if (target == 0) {\n            // 将当前组合加入结果列表\n            res.add(new ArrayList<>(temp));\n            return;\n        }\n        // 如果目标值小于0，说明当前组合不满足条件，直接返回\n        if (target < 0) {\n            return;\n        }\n        // 遍历候选数数组中的每个元素\n        for (int i = x; i < candidates.length; i++) {\n            // 进行剪枝操作：如果当前元素与前一个元素相同，并且前一个元素未被使用，则跳过当前元素，避免重复组合\n            if (i > 0 && candidates[i] == candidates[i - 1] && !unused[i - 1]) {\n                continue;\n            }\n            // 标记当前元素为已使用\n            unused[i] = true;\n            // 将当前元素加入暂存组合中\n            temp.addLast(candidates[i]);\n            // 递归调用回溯函数，生成下一个位置的元素\n            backTrack(candidates, i + 1, target - candidates[i], res, temp, unused);\n            // 回溯操作，将当前元素从暂存组合中移除，并恢复当前元素的未使用状态\n            unused[i] = false;\n            temp.removeLast();\n        }\n    }\n}\n```\n\n####  [77. 组合（中等）](https://leetcode-cn.com/problems/combinations/)\n\n- 题目介绍\n\n\n![7](../images/回溯——flood-fill、字符串-1701681281060.png)\n\n- 经典全排列\n\n```java\nclass Solution {\n    public List<List<Integer>> combine(int n, int k) {\n        // 用于保存结果的列表\n        ArrayList<List<Integer>> res = new ArrayList<>();\n        // 用于暂存当前组合的链表\n        LinkedList<Integer> temp = new LinkedList<>();\n        // 调用回溯函数\n        backTrack(1, n, k, res, temp);\n        // 打印结果\n        System.out.println(res.toString());\n        return res;\n    }\n\n    // 回溯函数\n    private void backTrack(int x,\n                           int n,\n                           int k,\n                           ArrayList<List<Integer>> res,\n                           LinkedList<Integer> temp) {\n        // 终止条件：当暂存组合的大小等于 k 时，说明已经生成了一个满足条件的组合\n        if (temp.size() == k) {\n            // 将当前组合加入结果列表\n            res.add(new ArrayList<>(temp));\n            return;\n        }\n        // 遍历可选的数字范围\n        for (int i = x; i <= n - (k - temp.size()) + 1; i++) {\n            // 将当前数字加入暂存组合中\n            temp.addLast(i);\n            // 递归调用回溯函数，生成下一个位置的数字\n            backTrack(i + 1, n, k, res, temp);\n            // 回溯操作，将当前数字从暂存组合中移除\n            temp.removeLast();\n        }\n    }\n}\n```\n\n#### [78. 子集（中等）](https://leetcode-cn.com/problems/subsets/)\n\n- 题目介绍\n\n![8](../images/回溯——flood-fill、字符串-1701681296977.png)\n\n- 解题思路\n\n`此处回溯要注意begin变量的设置，可保证集合的非重复性`\n\n`核心代码：`\n```java\n        for (int i = x; i < length; i++) {\n            temp.addLast(nums[i]);\n            backTrace(nums, res, temp, i + 1, length);\n            temp.removeLast();\n        }\n```\n- 完整代码\n\n```java\nclass Solution {\n    public List<List<Integer>> subsets(int[] nums) {\n        // 用于保存结果的列表\n        ArrayList<List<Integer>> res = new ArrayList<>();\n        // 用于暂存当前子集的链表\n        LinkedList<Integer> temp = new LinkedList<>();\n        // 数组的长度\n        int length = nums.length;\n        // 调用回溯函数\n        backTrace(nums, res, temp, 0, length);\n        return res;\n    }\n\n    // 回溯函数\n    private void backTrace(int[] nums,\n                           ArrayList<List<Integer>> res,\n                           LinkedList<Integer> temp,\n                           int x,\n                           int length) {\n        // 将当前子集加入结果列表\n        res.add(new ArrayList<>(temp));\n        // 遍历数组中的元素\n        for (int i = x; i < length; i++) {\n            // 将当前元素加入暂存子集中\n            temp.addLast(nums[i]);\n            // 递归调用回溯函数，生成下一个位置的元素\n            backTrace(nums, res, temp, i + 1, length);\n            // 回溯操作，将当前元素从暂存子集中移除\n            temp.removeLast();\n        }\n    }\n}\n```\n\n#### [90. 子集 II（中等）](https://leetcode-cn.com/problems/subsets-ii/)\n- 题目介绍\n\n![9](../images/回溯——flood-fill、字符串-1701681314905.png)\n\n- 解题思路\n\n`该题加了可重复限制条件，整体和全排列2类似，先排序+只允许从左到右排列`\n\n`核心代码：`\n\n```java\n        for (int i = x; i < length; i++) {\n            if (i>0&&nums[i]==nums[i-1]&&!unused[i-1]){\n                continue;\n            }\n            unused[i]=true;\n            temp.addLast(nums[i]);\n            backTrace(nums,res,temp,i+1,length,unused);\n            unused[i]=false;\n            temp.removeLast();\n        }\n\n```\n\n- 完整代码\n\n```java\nclass Solution {\n    public List<List<Integer>> subsetsWithDup(int[] nums) {\n        // 对数组进行排序\n        Arrays.sort(nums);\n        // 用于保存结果的列表\n        ArrayList<List<Integer>> res = new ArrayList<>();\n        // 用于暂存当前子集的链表\n        LinkedList<Integer> temp = new LinkedList<>();\n        // 数组的长度\n        int length = nums.length;\n        // 标记数组中的元素是否已被使用\n        boolean[] unused = new boolean[length];\n        // 调用回溯函数\n        backTrace(nums, res, temp, 0, length, unused);\n        return res;\n    }\n\n    // 回溯函数\n    private void backTrace(int[] nums,\n                           ArrayList<List<Integer>> res,\n                           LinkedList<Integer> temp,\n                           int x,\n                           int length,\n                           boolean[] unused) {\n        // 将当前子集加入结果列表\n        res.add(new ArrayList<>(temp));\n        // 遍历数组中的元素\n        for (int i = x; i < length; i++) {\n            // 如果当前元素与前一个元素相等，并且前一个元素未被使用，则跳过当前循环\n            if (i > 0 && nums[i] == nums[i - 1] && !unused[i - 1]) {\n                continue;\n            }\n            // 标记当前元素为已使用\n            unused[i] = true;\n            // 将当前元素加入暂存子集中\n            temp.addLast(nums[i]);\n            // 递归调用回溯函数，生成下一个位置的元素\n            backTrace(nums, res, temp, i + 1, length, unused);\n            // 回溯操作，将当前元素从暂存子集中移除\n            unused[i] = false;\n            temp.removeLast();\n        }\n    }\n}\n```\n\n#### [60. 第 k 个排列（中等）](https://leetcode-cn.com/problems/permutation-sequence/)\n\n- 题目介绍\n\n\n![10](../images/回溯——flood-fill、字符串-1701681338321.png)\n\n- 解题思路\n\n`定义count值，每次找到一个全排列+1，当找到第k值后复制res返回`\n\n`核心代码：`\n```java\n        if (temp.size() == n) {\n            //res.add(new ArrayList<>(temp));\n            //System.out.println(count);\n            count++;\n            if (count==k){\n                temp.forEach(t->res.append(t));\n            }\n            return;\n        }\n        for (int i = 1; i <= n; i++) {\n            if (unused[i-1]){\n                continue;\n            }\n            temp.addLast(i);\n            unused[i-1]=true;\n            backTrace(i + 1, n, k, temp,unused);\n            if (count==k){\n                break;\n            }\n            temp.removeLast();\n            unused[i-1]=false;\n        }\n    }\n```\n\n- 完整代码\n\n```java\nclass Solution {\n    // 计数器，用于记录生成的排列数量\n    int count = 0;\n    // 用于保存最终的结果\n    StringBuilder res = new StringBuilder();\n\n    public String getPermutation(int n, int k) {\n        // 用于暂存当前排列的链表\n        LinkedList<Integer> temp = new LinkedList<>();\n        // 标记数字是否已被使用\n        boolean[] unused = new boolean[n];\n        // 调用回溯函数生成排列\n        backTrace(1, n, k, temp, unused);\n        return res.toString();\n    }\n\n    // 回溯函数生成排列\n    private void backTrace(int x,\n                           int n,\n                           int k,\n                           LinkedList<Integer> temp,\n                           boolean[] unused) {\n        // 如果已生成的排列长度为 n，则判断是否为第 k 个排列\n        if (temp.size() == n) {\n            count++;\n            if (count == k) {\n                // 如果是第 k 个排列，则将排列中的数字加入结果字符串\n                temp.forEach(t -> res.append(t));\n            }\n            return;\n        }\n\n        // 遍历可用的数字\n        for (int i = 1; i <= n; i++) {\n            // 如果数字已被使用，则跳过当前循环\n            if (unused[i - 1]) {\n                continue;\n            }\n            // 将当前数字加入暂存排列中\n            temp.addLast(i);\n            unused[i - 1] = true;\n            // 递归调用回溯函数，生成下一个位置的数字\n            backTrace(i + 1, n, k, temp, unused);\n            if (count == k) {\n                // 如果已生成第 k 个排列，则跳出循环\n                break;\n            }\n            // 回溯操作，将当前数字从暂存排列中移除\n            temp.removeLast();\n            unused[i - 1] = false;\n        }\n    }\n}\n```\n\n####  [93. 复原 IP 地址（中等）](https://leetcode-cn.com/problems/restore-ip-addresses/)\n\n- 题目介绍\n\n![11](../images/回溯——flood-fill、字符串-1701681356056.png)\n\n- 解题思路\n  `确定四个值组成一组唯一的ip地址`\n\n`定义ip地址中每一个值的正确判定条件`\n\n`适当减枝`\n\n`核心代码`\n\n```java\n//递归函数，确定ip地址四个值\n    backTrace(s, 0, 4, res, temp, length);\n//定义ip地址中每一个值的正确判定条件\n    private boolean judgeIpSegment(String s, int begin, int end) {\n        int len = end - begin + 1;\n        if (len > 1 && s.charAt(begin) == '0') {\n            return false;\n        }\n        int res = 0;\n        for (int i = begin; i <= end; i++) {\n            res = res * 10 + s.charAt(i) - '0';\n        }\n        //while (begin <= end) {\n        //    res = res * 10 + s.charAt(begin) - '0';\n        //    begin++;\n        //}\n        return res >= 0 && res <= 255;\n    }\n//递归回溯\n            if (judgeIpSegment(s, x, i)) {\n                temp.addLast(s.substring(x, i + 1));\n                backTrace(s, i + 1, k - 1, res, temp, length);\n                temp.removeLast();\n            }\n//适当减枝\n            if (i >= length || length - i > k * 3) {\n                break;\n            }\n```\n- 完整代码\n\n```java\nclass Solution {\n    public List<String> restoreIpAddresses(String s) {\n        // 输入字符串的长度\n        int length = s.length();\n        // 用于保存结果的列表\n        ArrayList<String> res = new ArrayList<>();\n        // 用于暂存当前正在生成的 IP 地址段的双端队列\n        Deque<String> temp = new ArrayDeque<>(4);\n        // 调用回溯函数生成 IP 地址\n        backTrace(s, 0, 4, res, temp, length);\n        return res;\n    }\n\n    // 回溯函数生成 IP 地址\n    private void backTrace(String s,\n                           int x,\n                           int k,\n                           ArrayList<String> res,\n                           Deque<String> temp,\n                           int length) {\n        // 如果已遍历完整个字符串\n        if (x == length) {\n            // 如果已生成了 4 个 IP 地址段，则将当前 IP 地址加入结果列表\n            if (k == 0) {\n                res.add(String.join(\".\", temp));\n            }\n            return;\n        }\n        // 枚举下一个 IP 地址段的结束位置\n        for (int i = x; i < x + 3; i++) {\n            // 如果超出了字符串的长度，或者剩余的字符数大于 k*3，则跳出循环\n            if (i >= length || length - i > k * 3) {\n                break;\n            }\n            // 判断当前 IP 地址段是否合法\n            if (judgeIpSegment(s, x, i)) {\n                // 将当前 IP 地址段加入暂存队列\n                temp.addLast(s.substring(x, i + 1));\n                // 递归调用回溯函数，生成下一个 IP 地址段\n                backTrace(s, i + 1, k - 1, res, temp, length);\n                // 回溯操作，将当前 IP 地址段从暂存队列中移除\n                temp.removeLast();\n            }\n        }\n    }\n\n    // 判断 IP 地址段是否合法\n    private boolean judgeIpSegment(String s, int begin, int end) {\n        // IP 地址段的长度\n        int len = end - begin + 1;\n        // 如果长度大于 1 且以 0 开头，则不合法\n        if (len > 1 && s.charAt(begin) == '0') {\n            return false;\n        }\n        // 将 IP 地址段转换为整数\n        int res = 0;\n        for (int i = begin; i <= end; i++) {\n            res = res * 10 + s.charAt(i) - '0';\n        }\n        // 判断整数是否在合法的范围内\n        return res >= 0 && res <= 255;\n    }\n}\n```\n","slug":"回溯——flood-fill、字符串","published":1,"updated":"2023-12-06T02:57:32.288Z","_id":"clpqoimj000030cpkeicqckp0","layout":"post","photos":[],"link":"","content":"<blockquote>\n<p>回溯算法初探————排列、组合、子集</p>\n</blockquote>\n<h2 id=\"整体解题步骤\"><a href=\"#整体解题步骤\" class=\"headerlink\" title=\"整体解题步骤\"></a>整体解题步骤</h2><p>该类型回溯算法有统一的代码解方案</p>\n<ol>\n<li>确定题解<code>res</code>格式和部分可能解<code>temp</code>格式</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// res</span></span><br><span class=\"line\">List&lt;List&lt;Integer&gt;&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\"><span class=\"comment\">// temp</span></span><br><span class=\"line\">Deque&lt;Integer&gt; path = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayDeque</span>&lt;&gt;(len);</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>确定递归调用方法</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">backTrack(nums, res, temp, <span class=\"number\">0</span>, length, unused);</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>指定递归终止条件</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (depth == len) &#123;</span><br><span class=\"line\">    res.add(<span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;(path));</span><br><span class=\"line\">    <span class=\"keyword\">return</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ol start=\"4\">\n<li>确定回溯位置</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for (int i = 0; i &lt; len; i++) &#123;</span><br><span class=\"line\">        path.addLast(nums[i]);</span><br><span class=\"line\">        dfs(nums, len, depth + 1, path, used, res);</span><br><span class=\"line\">        path.removeLast();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>往往还涉及到unused数组的使用或者begin变量，以防止重复情况</code></p>\n<h4 id=\"46-全排列（中等）\"><a href=\"#46-全排列（中等）\" class=\"headerlink\" title=\"46. 全排列（中等）\"></a><a href=\"https://leetcode-cn.com/problems/permutations/\">46. 全排列（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94flood-fill%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2-1701681216686.png\" alt=\"1\"></p>\n<ul>\n<li>解题思路</li>\n</ul>\n<p><code>标准解题步骤基础上加上unused数组，避免元素重复</code></p>\n<p><code>核心代码</code>：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (depth == len) &#123;</span><br><span class=\"line\">    res.add(<span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;(path));</span><br><span class=\"line\">    <span class=\"keyword\">return</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; len; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!used[i]) &#123;</span><br><span class=\"line\">        path.addLast(nums[i]);</span><br><span class=\"line\">        used[i] = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        dfs(nums, len, depth + <span class=\"number\">1</span>, path, used, res);</span><br><span class=\"line\"></span><br><span class=\"line\">        used[i] = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        path.removeLast();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>完整代码</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;List&lt;Integer&gt;&gt; <span class=\"title function_\">permute</span><span class=\"params\">(<span class=\"type\">int</span>[] nums)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">len</span> <span class=\"operator\">=</span> nums.length;</span><br><span class=\"line\">        <span class=\"comment\">// 使用一个动态数组保存所有可能的全排列</span></span><br><span class=\"line\">        List&lt;List&lt;Integer&gt;&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (len == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">boolean</span>[] used = <span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span>[len];</span><br><span class=\"line\">        Deque&lt;Integer&gt; path = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayDeque</span>&lt;&gt;(len);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 调用深度优先搜索函数</span></span><br><span class=\"line\">        dfs(nums, len, <span class=\"number\">0</span>, path, used, res);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 深度优先搜索函数</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">int</span>[] nums, <span class=\"type\">int</span> len, <span class=\"type\">int</span> depth,</span></span><br><span class=\"line\"><span class=\"params\">                     Deque&lt;Integer&gt; path, <span class=\"type\">boolean</span>[] used,</span></span><br><span class=\"line\"><span class=\"params\">                     List&lt;List&lt;Integer&gt;&gt; res)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 如果达到了数组的长度，说明已经生成了一个全排列</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (depth == len) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前路径中的元素添加到结果集中</span></span><br><span class=\"line\">            res.add(<span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;(path));</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 遍历数组中的每个元素</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; len; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!used[i]) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 将当前元素加入路径中</span></span><br><span class=\"line\">                path.addLast(nums[i]);</span><br><span class=\"line\">                used[i] = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"comment\">// 递归调用深度优先搜索函数，继续生成下一个位置的元素</span></span><br><span class=\"line\">                dfs(nums, len, depth + <span class=\"number\">1</span>, path, used, res);</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"comment\">// 回溯操作，将当前元素从路径中移除，重新设置为未使用状态</span></span><br><span class=\"line\">                used[i] = <span class=\"literal\">false</span>;</span><br><span class=\"line\">                path.removeLast();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"47-全排列-II（中等）\"><a href=\"#47-全排列-II（中等）\" class=\"headerlink\" title=\"47. 全排列 II（中等）\"></a><a href=\"https://leetcode-cn.com/problems/permutations-ii/\">47. 全排列 II（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94flood-fill%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2-1701681234910.png\" alt=\"2\"></p>\n<ul>\n<li>解题思路</li>\n</ul>\n<p><code>相较于全排列一，该题数字可以重复，考虑排序+从左到右第一次调用</code></p>\n<p><code>核心代码：</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 排序</span></span><br><span class=\"line\"> Arrays.sort(nums);</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//避免重复排列</span></span><br><span class=\"line\">     <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (unused[i] || i &gt; <span class=\"number\">0</span> &amp;&amp; nums[i] == nums[i - <span class=\"number\">1</span>] &amp;&amp; !unused[i - <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            temp.addLast(nums[i]);</span><br><span class=\"line\">            unused[i] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">            backTrack(nums, res, temp, i, length, unused);</span><br><span class=\"line\">            unused[i] = <span class=\"literal\">false</span>;</span><br><span class=\"line\">            temp.removeLast();</span><br><span class=\"line\">        &#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>完整代码</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;List&lt;Integer&gt;&gt; <span class=\"title function_\">permuteUnique</span><span class=\"params\">(<span class=\"type\">int</span>[] nums)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 对数组进行排序，使相同的元素相邻，方便后续去重操作</span></span><br><span class=\"line\">        Arrays.sort(nums);</span><br><span class=\"line\">        <span class=\"comment\">// 用于保存结果的列表</span></span><br><span class=\"line\">        ArrayList&lt;List&lt;Integer&gt;&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 用于暂存当前排列的链表</span></span><br><span class=\"line\">        LinkedList&lt;Integer&gt; temp = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 数组的长度</span></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">length</span> <span class=\"operator\">=</span> nums.length;</span><br><span class=\"line\">        <span class=\"comment\">// 记录元素是否被使用的数组</span></span><br><span class=\"line\">        <span class=\"type\">boolean</span>[] unused = <span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span>[length];</span><br><span class=\"line\">        <span class=\"comment\">// 调用回溯函数</span></span><br><span class=\"line\">        backTrack(nums, res, temp, <span class=\"number\">0</span>, length, unused);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">backTrack</span><span class=\"params\">(<span class=\"type\">int</span>[] nums,</span></span><br><span class=\"line\"><span class=\"params\">                           ArrayList&lt;List&lt;Integer&gt;&gt; res,</span></span><br><span class=\"line\"><span class=\"params\">                           LinkedList&lt;Integer&gt; temp,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> x,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> length,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">boolean</span>[] unused)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 终止条件：当暂存排列的长度等于数组的长度时，说明已经生成了一个全排列</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (temp.size() == length) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前排列加入结果列表</span></span><br><span class=\"line\">            res.add(<span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;(temp));</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 遍历数组中的每个元素</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 如果当前元素已经被使用，或者是相同的元素且前一个元素未被使用，则跳过该元素</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (unused[i] || (i &gt; <span class=\"number\">0</span> &amp;&amp; nums[i] == nums[i - <span class=\"number\">1</span>] &amp;&amp; !unused[i - <span class=\"number\">1</span>])) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前元素加入暂存排列中</span></span><br><span class=\"line\">            temp.addLast(nums[i]);</span><br><span class=\"line\">            <span class=\"comment\">// 将当前元素标记为已使用</span></span><br><span class=\"line\">            unused[i] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"comment\">// 递归调用回溯函数，生成下一个位置的元素</span></span><br><span class=\"line\">            backTrack(nums, res, temp, i, length, unused);</span><br><span class=\"line\">            <span class=\"comment\">// 回溯操作，将当前元素从暂存排列中移除，重新设置为未使用状态</span></span><br><span class=\"line\">            unused[i] = <span class=\"literal\">false</span>;</span><br><span class=\"line\">            temp.removeLast();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"39-组合总和（中等）\"><a href=\"#39-组合总和（中等）\" class=\"headerlink\" title=\"39. 组合总和（中等）\"></a><a href=\"https://leetcode-cn.com/problems/combination-sum/\">39. 组合总和（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94flood-fill%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2-1701681257321.png\" alt=\"4\"></p>\n<ul>\n<li>解题思路</li>\n</ul>\n<p><code>以target为和，全排列去对其进行相减，当target等于0则为其中一解，当target小于0则剪枝</code></p>\n<p><code>核心代码：</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"keyword\">if</span> (target == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        res.add(<span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;(temp));</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (target &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> x; i &lt; candidates.length; i++) &#123;</span><br><span class=\"line\">        temp.addLast(candidates[i]);</span><br><span class=\"line\">        backTrack(candidates, i, target - candidates[i], res, temp);</span><br><span class=\"line\">        temp.removeLast();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>完整代码</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;List&lt;Integer&gt;&gt; <span class=\"title function_\">combinationSum</span><span class=\"params\">(<span class=\"type\">int</span>[] candidates, <span class=\"type\">int</span> target)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 用于保存结果的列表</span></span><br><span class=\"line\">        ArrayList&lt;List&lt;Integer&gt;&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 用于暂存当前组合的链表</span></span><br><span class=\"line\">        LinkedList&lt;Integer&gt; temp = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 调用回溯函数</span></span><br><span class=\"line\">        backTrack(candidates, <span class=\"number\">0</span>, target, res, temp);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 回溯函数</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">backTrack</span><span class=\"params\">(<span class=\"type\">int</span>[] candidates,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> x,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> target,</span></span><br><span class=\"line\"><span class=\"params\">                           ArrayList&lt;List&lt;Integer&gt;&gt; res,</span></span><br><span class=\"line\"><span class=\"params\">                           LinkedList&lt;Integer&gt; temp)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 终止条件：当目标值为0时，说明已经生成了一个满足条件的组合</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (target == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前组合加入结果列表</span></span><br><span class=\"line\">            res.add(<span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;(temp));</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 如果目标值小于0，说明当前组合不满足条件，直接返回</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (target &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 遍历候选数数组中的每个元素</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> x; i &lt; candidates.length; i++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前元素加入暂存组合中</span></span><br><span class=\"line\">            temp.addLast(candidates[i]);</span><br><span class=\"line\">            <span class=\"comment\">// 递归调用回溯函数，生成下一个位置的元素</span></span><br><span class=\"line\">            backTrack(candidates, i, target - candidates[i], res, temp);</span><br><span class=\"line\">            <span class=\"comment\">// 回溯操作，将当前元素从暂存组合中移除</span></span><br><span class=\"line\">            temp.removeLast();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n<h4 id=\"40-组合总和-II（中等）\"><a href=\"#40-组合总和-II（中等）\" class=\"headerlink\" title=\"40. 组合总和 II（中等）\"></a><a href=\"https://leetcode-cn.com/problems/combination-sum-ii/\">40. 组合总和 II（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><code>和全排列进阶一致</code></p>\n<p><code>核心代码：</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> x; i &lt; candidates.length; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i &gt; <span class=\"number\">0</span> &amp;&amp; candidates[i] == candidates[i - <span class=\"number\">1</span>] &amp;&amp; !unused[i-<span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        unused[i]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">        temp.addLast(candidates[i]);</span><br><span class=\"line\">        backTrack(candidates, i + <span class=\"number\">1</span>, target - candidates[i], res, temp,unused);</span><br><span class=\"line\">        unused[i]=<span class=\"literal\">false</span>;</span><br><span class=\"line\">        temp.removeLast();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>完整代码<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;List&lt;Integer&gt;&gt; <span class=\"title function_\">combinationSum2</span><span class=\"params\">(<span class=\"type\">int</span>[] candidates, <span class=\"type\">int</span> target)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 对候选数数组进行排序，为后续剪枝操作做准备</span></span><br><span class=\"line\">        Arrays.sort(candidates);</span><br><span class=\"line\">        <span class=\"comment\">// 用于保存结果的列表</span></span><br><span class=\"line\">        ArrayList&lt;List&lt;Integer&gt;&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 用于暂存当前组合的链表</span></span><br><span class=\"line\">        LinkedList&lt;Integer&gt; temp = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 用于标记候选数是否已被使用的布尔数组</span></span><br><span class=\"line\">        <span class=\"type\">boolean</span>[] unused = <span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span>[candidates.length];</span><br><span class=\"line\">        <span class=\"comment\">// 调用回溯函数</span></span><br><span class=\"line\">        backTrack(candidates, <span class=\"number\">0</span>, target, res, temp, unused);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 回溯函数</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">backTrack</span><span class=\"params\">(<span class=\"type\">int</span>[] candidates,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> x,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> target,</span></span><br><span class=\"line\"><span class=\"params\">                           ArrayList&lt;List&lt;Integer&gt;&gt; res,</span></span><br><span class=\"line\"><span class=\"params\">                           LinkedList&lt;Integer&gt; temp,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">boolean</span>[] unused)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 终止条件：当目标值为0时，说明已经生成了一个满足条件的组合</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (target == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前组合加入结果列表</span></span><br><span class=\"line\">            res.add(<span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;(temp));</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 如果目标值小于0，说明当前组合不满足条件，直接返回</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (target &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 遍历候选数数组中的每个元素</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> x; i &lt; candidates.length; i++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 进行剪枝操作：如果当前元素与前一个元素相同，并且前一个元素未被使用，则跳过当前元素，避免重复组合</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i &gt; <span class=\"number\">0</span> &amp;&amp; candidates[i] == candidates[i - <span class=\"number\">1</span>] &amp;&amp; !unused[i - <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 标记当前元素为已使用</span></span><br><span class=\"line\">            unused[i] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前元素加入暂存组合中</span></span><br><span class=\"line\">            temp.addLast(candidates[i]);</span><br><span class=\"line\">            <span class=\"comment\">// 递归调用回溯函数，生成下一个位置的元素</span></span><br><span class=\"line\">            backTrack(candidates, i + <span class=\"number\">1</span>, target - candidates[i], res, temp, unused);</span><br><span class=\"line\">            <span class=\"comment\">// 回溯操作，将当前元素从暂存组合中移除，并恢复当前元素的未使用状态</span></span><br><span class=\"line\">            unused[i] = <span class=\"literal\">false</span>;</span><br><span class=\"line\">            temp.removeLast();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"77-组合（中等）\"><a href=\"#77-组合（中等）\" class=\"headerlink\" title=\"77. 组合（中等）\"></a><a href=\"https://leetcode-cn.com/problems/combinations/\">77. 组合（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94flood-fill%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2-1701681281060.png\" alt=\"7\"></p>\n<ul>\n<li>经典全排列</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;List&lt;Integer&gt;&gt; <span class=\"title function_\">combine</span><span class=\"params\">(<span class=\"type\">int</span> n, <span class=\"type\">int</span> k)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 用于保存结果的列表</span></span><br><span class=\"line\">        ArrayList&lt;List&lt;Integer&gt;&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 用于暂存当前组合的链表</span></span><br><span class=\"line\">        LinkedList&lt;Integer&gt; temp = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 调用回溯函数</span></span><br><span class=\"line\">        backTrack(<span class=\"number\">1</span>, n, k, res, temp);</span><br><span class=\"line\">        <span class=\"comment\">// 打印结果</span></span><br><span class=\"line\">        System.out.println(res.toString());</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 回溯函数</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">backTrack</span><span class=\"params\">(<span class=\"type\">int</span> x,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> n,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> k,</span></span><br><span class=\"line\"><span class=\"params\">                           ArrayList&lt;List&lt;Integer&gt;&gt; res,</span></span><br><span class=\"line\"><span class=\"params\">                           LinkedList&lt;Integer&gt; temp)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 终止条件：当暂存组合的大小等于 k 时，说明已经生成了一个满足条件的组合</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (temp.size() == k) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前组合加入结果列表</span></span><br><span class=\"line\">            res.add(<span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;(temp));</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 遍历可选的数字范围</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> x; i &lt;= n - (k - temp.size()) + <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前数字加入暂存组合中</span></span><br><span class=\"line\">            temp.addLast(i);</span><br><span class=\"line\">            <span class=\"comment\">// 递归调用回溯函数，生成下一个位置的数字</span></span><br><span class=\"line\">            backTrack(i + <span class=\"number\">1</span>, n, k, res, temp);</span><br><span class=\"line\">            <span class=\"comment\">// 回溯操作，将当前数字从暂存组合中移除</span></span><br><span class=\"line\">            temp.removeLast();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"78-子集（中等）\"><a href=\"#78-子集（中等）\" class=\"headerlink\" title=\"78. 子集（中等）\"></a><a href=\"https://leetcode-cn.com/problems/subsets/\">78. 子集（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94flood-fill%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2-1701681296977.png\" alt=\"8\"></p>\n<ul>\n<li>解题思路</li>\n</ul>\n<p><code>此处回溯要注意begin变量的设置，可保证集合的非重复性</code></p>\n<p><code>核心代码：</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> x; i &lt; length; i++) &#123;</span><br><span class=\"line\">    temp.addLast(nums[i]);</span><br><span class=\"line\">    backTrace(nums, res, temp, i + <span class=\"number\">1</span>, length);</span><br><span class=\"line\">    temp.removeLast();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>完整代码</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;List&lt;Integer&gt;&gt; <span class=\"title function_\">subsets</span><span class=\"params\">(<span class=\"type\">int</span>[] nums)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 用于保存结果的列表</span></span><br><span class=\"line\">        ArrayList&lt;List&lt;Integer&gt;&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 用于暂存当前子集的链表</span></span><br><span class=\"line\">        LinkedList&lt;Integer&gt; temp = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 数组的长度</span></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">length</span> <span class=\"operator\">=</span> nums.length;</span><br><span class=\"line\">        <span class=\"comment\">// 调用回溯函数</span></span><br><span class=\"line\">        backTrace(nums, res, temp, <span class=\"number\">0</span>, length);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 回溯函数</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">backTrace</span><span class=\"params\">(<span class=\"type\">int</span>[] nums,</span></span><br><span class=\"line\"><span class=\"params\">                           ArrayList&lt;List&lt;Integer&gt;&gt; res,</span></span><br><span class=\"line\"><span class=\"params\">                           LinkedList&lt;Integer&gt; temp,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> x,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> length)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 将当前子集加入结果列表</span></span><br><span class=\"line\">        res.add(<span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;(temp));</span><br><span class=\"line\">        <span class=\"comment\">// 遍历数组中的元素</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> x; i &lt; length; i++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前元素加入暂存子集中</span></span><br><span class=\"line\">            temp.addLast(nums[i]);</span><br><span class=\"line\">            <span class=\"comment\">// 递归调用回溯函数，生成下一个位置的元素</span></span><br><span class=\"line\">            backTrace(nums, res, temp, i + <span class=\"number\">1</span>, length);</span><br><span class=\"line\">            <span class=\"comment\">// 回溯操作，将当前元素从暂存子集中移除</span></span><br><span class=\"line\">            temp.removeLast();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"90-子集-II（中等）\"><a href=\"#90-子集-II（中等）\" class=\"headerlink\" title=\"90. 子集 II（中等）\"></a><a href=\"https://leetcode-cn.com/problems/subsets-ii/\">90. 子集 II（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94flood-fill%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2-1701681314905.png\" alt=\"9\"></p>\n<ul>\n<li>解题思路</li>\n</ul>\n<p><code>该题加了可重复限制条件，整体和全排列2类似，先排序+只允许从左到右排列</code></p>\n<p><code>核心代码：</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> x; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (i&gt;<span class=\"number\">0</span>&amp;&amp;nums[i]==nums[i-<span class=\"number\">1</span>]&amp;&amp;!unused[i-<span class=\"number\">1</span>])&#123;</span><br><span class=\"line\">        <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    unused[i]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">    temp.addLast(nums[i]);</span><br><span class=\"line\">    backTrace(nums,res,temp,i+<span class=\"number\">1</span>,length,unused);</span><br><span class=\"line\">    unused[i]=<span class=\"literal\">false</span>;</span><br><span class=\"line\">    temp.removeLast();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>完整代码</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;List&lt;Integer&gt;&gt; <span class=\"title function_\">subsetsWithDup</span><span class=\"params\">(<span class=\"type\">int</span>[] nums)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 对数组进行排序</span></span><br><span class=\"line\">        Arrays.sort(nums);</span><br><span class=\"line\">        <span class=\"comment\">// 用于保存结果的列表</span></span><br><span class=\"line\">        ArrayList&lt;List&lt;Integer&gt;&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 用于暂存当前子集的链表</span></span><br><span class=\"line\">        LinkedList&lt;Integer&gt; temp = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 数组的长度</span></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">length</span> <span class=\"operator\">=</span> nums.length;</span><br><span class=\"line\">        <span class=\"comment\">// 标记数组中的元素是否已被使用</span></span><br><span class=\"line\">        <span class=\"type\">boolean</span>[] unused = <span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span>[length];</span><br><span class=\"line\">        <span class=\"comment\">// 调用回溯函数</span></span><br><span class=\"line\">        backTrace(nums, res, temp, <span class=\"number\">0</span>, length, unused);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 回溯函数</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">backTrace</span><span class=\"params\">(<span class=\"type\">int</span>[] nums,</span></span><br><span class=\"line\"><span class=\"params\">                           ArrayList&lt;List&lt;Integer&gt;&gt; res,</span></span><br><span class=\"line\"><span class=\"params\">                           LinkedList&lt;Integer&gt; temp,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> x,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> length,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">boolean</span>[] unused)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 将当前子集加入结果列表</span></span><br><span class=\"line\">        res.add(<span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;(temp));</span><br><span class=\"line\">        <span class=\"comment\">// 遍历数组中的元素</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> x; i &lt; length; i++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 如果当前元素与前一个元素相等，并且前一个元素未被使用，则跳过当前循环</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i &gt; <span class=\"number\">0</span> &amp;&amp; nums[i] == nums[i - <span class=\"number\">1</span>] &amp;&amp; !unused[i - <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 标记当前元素为已使用</span></span><br><span class=\"line\">            unused[i] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前元素加入暂存子集中</span></span><br><span class=\"line\">            temp.addLast(nums[i]);</span><br><span class=\"line\">            <span class=\"comment\">// 递归调用回溯函数，生成下一个位置的元素</span></span><br><span class=\"line\">            backTrace(nums, res, temp, i + <span class=\"number\">1</span>, length, unused);</span><br><span class=\"line\">            <span class=\"comment\">// 回溯操作，将当前元素从暂存子集中移除</span></span><br><span class=\"line\">            unused[i] = <span class=\"literal\">false</span>;</span><br><span class=\"line\">            temp.removeLast();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"60-第-k-个排列（中等）\"><a href=\"#60-第-k-个排列（中等）\" class=\"headerlink\" title=\"60. 第 k 个排列（中等）\"></a><a href=\"https://leetcode-cn.com/problems/permutation-sequence/\">60. 第 k 个排列（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94flood-fill%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2-1701681338321.png\" alt=\"10\"></p>\n<ul>\n<li>解题思路</li>\n</ul>\n<p><code>定义count值，每次找到一个全排列+1，当找到第k值后复制res返回</code></p>\n<p><code>核心代码：</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"keyword\">if</span> (temp.size() == n) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//res.add(new ArrayList&lt;&gt;(temp));</span></span><br><span class=\"line\">        <span class=\"comment\">//System.out.println(count);</span></span><br><span class=\"line\">        count++;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (count==k)&#123;</span><br><span class=\"line\">            temp.forEach(t-&gt;res.append(t));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (unused[i-<span class=\"number\">1</span>])&#123;</span><br><span class=\"line\">            <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        temp.addLast(i);</span><br><span class=\"line\">        unused[i-<span class=\"number\">1</span>]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">        backTrace(i + <span class=\"number\">1</span>, n, k, temp,unused);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (count==k)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        temp.removeLast();</span><br><span class=\"line\">        unused[i-<span class=\"number\">1</span>]=<span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>完整代码</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 计数器，用于记录生成的排列数量</span></span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">count</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"comment\">// 用于保存最终的结果</span></span><br><span class=\"line\">    <span class=\"type\">StringBuilder</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">StringBuilder</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getPermutation</span><span class=\"params\">(<span class=\"type\">int</span> n, <span class=\"type\">int</span> k)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 用于暂存当前排列的链表</span></span><br><span class=\"line\">        LinkedList&lt;Integer&gt; temp = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 标记数字是否已被使用</span></span><br><span class=\"line\">        <span class=\"type\">boolean</span>[] unused = <span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span>[n];</span><br><span class=\"line\">        <span class=\"comment\">// 调用回溯函数生成排列</span></span><br><span class=\"line\">        backTrace(<span class=\"number\">1</span>, n, k, temp, unused);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res.toString();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 回溯函数生成排列</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">backTrace</span><span class=\"params\">(<span class=\"type\">int</span> x,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> n,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> k,</span></span><br><span class=\"line\"><span class=\"params\">                           LinkedList&lt;Integer&gt; temp,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">boolean</span>[] unused)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 如果已生成的排列长度为 n，则判断是否为第 k 个排列</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (temp.size() == n) &#123;</span><br><span class=\"line\">            count++;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (count == k) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 如果是第 k 个排列，则将排列中的数字加入结果字符串</span></span><br><span class=\"line\">                temp.forEach(t -&gt; res.append(t));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 遍历可用的数字</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 如果数字已被使用，则跳过当前循环</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (unused[i - <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前数字加入暂存排列中</span></span><br><span class=\"line\">            temp.addLast(i);</span><br><span class=\"line\">            unused[i - <span class=\"number\">1</span>] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"comment\">// 递归调用回溯函数，生成下一个位置的数字</span></span><br><span class=\"line\">            backTrace(i + <span class=\"number\">1</span>, n, k, temp, unused);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (count == k) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 如果已生成第 k 个排列，则跳出循环</span></span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 回溯操作，将当前数字从暂存排列中移除</span></span><br><span class=\"line\">            temp.removeLast();</span><br><span class=\"line\">            unused[i - <span class=\"number\">1</span>] = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"93-复原-IP-地址（中等）\"><a href=\"#93-复原-IP-地址（中等）\" class=\"headerlink\" title=\"93. 复原 IP 地址（中等）\"></a><a href=\"https://leetcode-cn.com/problems/restore-ip-addresses/\">93. 复原 IP 地址（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94flood-fill%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2-1701681356056.png\" alt=\"11\"></p>\n<ul>\n<li>解题思路<br><code>确定四个值组成一组唯一的ip地址</code></li>\n</ul>\n<p><code>定义ip地址中每一个值的正确判定条件</code></p>\n<p><code>适当减枝</code></p>\n<p><code>核心代码</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//递归函数，确定ip地址四个值</span></span><br><span class=\"line\">    backTrace(s, <span class=\"number\">0</span>, <span class=\"number\">4</span>, res, temp, length);</span><br><span class=\"line\"><span class=\"comment\">//定义ip地址中每一个值的正确判定条件</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">boolean</span> <span class=\"title function_\">judgeIpSegment</span><span class=\"params\">(String s, <span class=\"type\">int</span> begin, <span class=\"type\">int</span> end)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">len</span> <span class=\"operator\">=</span> end - begin + <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (len &gt; <span class=\"number\">1</span> &amp;&amp; s.charAt(begin) == <span class=\"string\">&#x27;0&#x27;</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> begin; i &lt;= end; i++) &#123;</span><br><span class=\"line\">            res = res * <span class=\"number\">10</span> + s.charAt(i) - <span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//while (begin &lt;= end) &#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//    res = res * 10 + s.charAt(begin) - &#x27;0&#x27;;</span></span><br><span class=\"line\">        <span class=\"comment\">//    begin++;</span></span><br><span class=\"line\">        <span class=\"comment\">//&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> res &gt;= <span class=\"number\">0</span> &amp;&amp; res &lt;= <span class=\"number\">255</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"comment\">//递归回溯</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (judgeIpSegment(s, x, i)) &#123;</span><br><span class=\"line\">                temp.addLast(s.substring(x, i + <span class=\"number\">1</span>));</span><br><span class=\"line\">                backTrace(s, i + <span class=\"number\">1</span>, k - <span class=\"number\">1</span>, res, temp, length);</span><br><span class=\"line\">                temp.removeLast();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"><span class=\"comment\">//适当减枝</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i &gt;= length || length - i &gt; k * <span class=\"number\">3</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>完整代码</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;String&gt; <span class=\"title function_\">restoreIpAddresses</span><span class=\"params\">(String s)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 输入字符串的长度</span></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">length</span> <span class=\"operator\">=</span> s.length();</span><br><span class=\"line\">        <span class=\"comment\">// 用于保存结果的列表</span></span><br><span class=\"line\">        ArrayList&lt;String&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 用于暂存当前正在生成的 IP 地址段的双端队列</span></span><br><span class=\"line\">        Deque&lt;String&gt; temp = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayDeque</span>&lt;&gt;(<span class=\"number\">4</span>);</span><br><span class=\"line\">        <span class=\"comment\">// 调用回溯函数生成 IP 地址</span></span><br><span class=\"line\">        backTrace(s, <span class=\"number\">0</span>, <span class=\"number\">4</span>, res, temp, length);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 回溯函数生成 IP 地址</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">backTrace</span><span class=\"params\">(String s,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> x,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> k,</span></span><br><span class=\"line\"><span class=\"params\">                           ArrayList&lt;String&gt; res,</span></span><br><span class=\"line\"><span class=\"params\">                           Deque&lt;String&gt; temp,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> length)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 如果已遍历完整个字符串</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (x == length) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 如果已生成了 4 个 IP 地址段，则将当前 IP 地址加入结果列表</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (k == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                res.add(String.join(<span class=\"string\">&quot;.&quot;</span>, temp));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 枚举下一个 IP 地址段的结束位置</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> x; i &lt; x + <span class=\"number\">3</span>; i++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 如果超出了字符串的长度，或者剩余的字符数大于 k*3，则跳出循环</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i &gt;= length || length - i &gt; k * <span class=\"number\">3</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 判断当前 IP 地址段是否合法</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (judgeIpSegment(s, x, i)) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 将当前 IP 地址段加入暂存队列</span></span><br><span class=\"line\">                temp.addLast(s.substring(x, i + <span class=\"number\">1</span>));</span><br><span class=\"line\">                <span class=\"comment\">// 递归调用回溯函数，生成下一个 IP 地址段</span></span><br><span class=\"line\">                backTrace(s, i + <span class=\"number\">1</span>, k - <span class=\"number\">1</span>, res, temp, length);</span><br><span class=\"line\">                <span class=\"comment\">// 回溯操作，将当前 IP 地址段从暂存队列中移除</span></span><br><span class=\"line\">                temp.removeLast();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 判断 IP 地址段是否合法</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">boolean</span> <span class=\"title function_\">judgeIpSegment</span><span class=\"params\">(String s, <span class=\"type\">int</span> begin, <span class=\"type\">int</span> end)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// IP 地址段的长度</span></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">len</span> <span class=\"operator\">=</span> end - begin + <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"comment\">// 如果长度大于 1 且以 0 开头，则不合法</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (len &gt; <span class=\"number\">1</span> &amp;&amp; s.charAt(begin) == <span class=\"string\">&#x27;0&#x27;</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 将 IP 地址段转换为整数</span></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> begin; i &lt;= end; i++) &#123;</span><br><span class=\"line\">            res = res * <span class=\"number\">10</span> + s.charAt(i) - <span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 判断整数是否在合法的范围内</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> res &gt;= <span class=\"number\">0</span> &amp;&amp; res &lt;= <span class=\"number\">255</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{"about":[{"class_name":"关于页","subtitle":"多一点努力，努力多一点✨","avatarImg":"https://avatars.githubusercontent.com/u/106024593?v=4","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱"]},"name":"xingxing","description":"是一名 后端工程师、学生、独立开发者","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"YNU,计算机科学与技术","color":"#357ef5"}]},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，昆明市","background":"/img/location.png","backgroundDark":"/img/locationDark.png"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2003,"selfInfoTips2":"云南大学","selfInfoContent2":"计算机科学与技术","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"xingxing的日常。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"/img/beautifulImg.jpg","essay_list":[{"content":"发现一个免费拿图的网站诶，还是bing好用，垃圾百度！但是好像要翻墙才可以下载原图，不过可以直接复制图片地址，然后用迅雷下载，也是可以的（图片大小翻五倍）。","date":"2023/11/31","image":["/img/essayImg/pixabay.png"],"link":"https://pixabay.com/zh/"},{"content":"寒假实习求职顺利（求神拜佛）","date":"2023/12/2"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}],"bangumis":{"wantWatch":[{"title":"百妖谱 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/5424062d0821f89ea549533d8a2c3cfff2076766.png","totalCount":"全12话","id":28230717,"follow":"527.1 万","view":"1.2 亿","danmaku":"47.2 万","coin":"42.5 万","score":9.2,"des":"桃都的灵医桃夭带着小和尚磨牙、第一季收服的小狐妖、桃都老邻居柳公子一起继续第一季的故事，为了寻找失踪的百妖谱而云游四方，在途中遇到应声、化蛇、媪姬、照海四个妖怪，为妖怪治疗各种疑难杂症。..."},{"title":"伍六七之玄武国篇","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/00843865ea13702eccc4efd64c313fd4c8029c6b.jpg","totalCount":"全10话","id":28232253,"follow":"1031.1 万","view":"4.7 亿","danmaku":"186.3 万","coin":"405.6 万","score":9.8,"des":"为了保护小鸡岛居民和这里平静的生活，伍六七和他的伙伴大保和小飞开启了去往玄武国的冒险旅程，去寻找身世的真相和解救小岛的办法，等待他们的又将是更多的未知与奇遇。..."},{"title":"伍六七之暗影宿命","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/6e5c5848ff8943fd6366e943a4f75b98598c50c6.png","totalCount":"全10话","id":28412536,"follow":"1250.4 万","view":"5.1 亿","danmaku":"110.7 万","coin":"410.9 万","score":9.2,"des":"随着伍六七回到玄武国寻找他的身世，亦引起了七大暗影刺客的追捕。然而每一位暗影刺客都带着不同的目的和不同的过去，青凤的阴谋也在此浮出了水面。而此时等待着小鸡岛上的人民，又将是另一个危机，伍六七将如何面对..."}],"watching":[{"title":"灵笼 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cf5f6595ece017215e7d61482f022094479dff37.png","totalCount":"-","id":21123554,"follow":"910.5 万","view":"1586.9 万","danmaku":"7.0 万","coin":"35.1 万","score":"-","des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."},{"title":"灵笼","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cfab7e0fbdb4786ff4e885d050b7cf37f8829486.png","totalCount":"全16话","id":23432,"follow":"903.9 万","view":"6.1 亿","danmaku":"674.4 万","coin":"677.7 万","score":9.6,"des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."}],"watched":[{"title":"时光代理人","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/1fe1cd0ec59b790fea83a5726cdc0fa3189c4394.png","totalCount":"全24话","id":28230742,"follow":"879.2 万","view":"5.0 亿","danmaku":"399.9 万","coin":"418.4 万","score":9.7,"des":"为了找到一系列罪案的操纵者，程小时求助于肖力，找寻一切藏匿于暗中的蛛丝马迹。但是拥有未知超能力的凶手在阴影之中，也从没有停止过阴谋的脚步。神秘能力者如影随形，身边伙伴接连遇害，程小时屡次身陷险境。随着..."},{"title":"元龙 第三季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/b3a9b5975059e074593b9381322ad8c423be7b89.png","totalCount":"全16话","id":28235400,"follow":"620.5 万","view":"1.5 亿","danmaku":"24.0 万","coin":"10.7 万","score":6.8,"des":"王胜于现代世界醒来，一切是如此真实而又如梦似幻。皇城遗女，戴家少主的出现更让局势扑朔迷离。而一场由小搏大的赌局，也让王胜渐渐意识到这不仅仅是他和戴家少主两个人的较量。恰时逢盛宴，天下汇集，王胜不得不再..."},{"title":"三体","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/9870f898b8a39bbb8048f34317f8d78a02cc1770.png","totalCount":"全15话","id":4315402,"follow":"690.6 万","view":"6.2 亿","danmaku":"179.3 万","coin":"230.7 万","score":8.2,"des":"无数细线横亘在星空之中，如同一把巨大的刷子。三体星舰队将于400年后抵达。遥远蝴蝶扇动着翅膀，也改变了罗辑的命运，轰然打开的门后是世界中心——面壁计划开启。同时，智子所创建的破壁室内，破壁人一一就位…..."},{"title":"狐妖小红娘","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/cbb20ee03e97a9f3ad2e1506a10fd1271f1c584a.jpg","totalCount":"全100话","id":2543,"follow":"691.5 万","view":"8.7 亿","danmaku":"1052.9 万","coin":"259.8 万","score":9.5,"des":"根据古典小说记载，世上有人有妖，妖会与人相恋，妖寿命千年，人的寿命有限，人死了，妖活着。人会投胎转世，但投胎以后不记得上辈子的爱。妖如果痴情的话，就去找狐妖“购买”一项服务，让投胎转世的人回忆起前世的..."}]}}},"cover_type":"img","excerpt":"","more":"<blockquote>\n<p>回溯算法初探————排列、组合、子集</p>\n</blockquote>\n<h2 id=\"整体解题步骤\"><a href=\"#整体解题步骤\" class=\"headerlink\" title=\"整体解题步骤\"></a>整体解题步骤</h2><p>该类型回溯算法有统一的代码解方案</p>\n<ol>\n<li>确定题解<code>res</code>格式和部分可能解<code>temp</code>格式</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// res</span></span><br><span class=\"line\">List&lt;List&lt;Integer&gt;&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\"><span class=\"comment\">// temp</span></span><br><span class=\"line\">Deque&lt;Integer&gt; path = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayDeque</span>&lt;&gt;(len);</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>确定递归调用方法</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">backTrack(nums, res, temp, <span class=\"number\">0</span>, length, unused);</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>指定递归终止条件</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (depth == len) &#123;</span><br><span class=\"line\">    res.add(<span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;(path));</span><br><span class=\"line\">    <span class=\"keyword\">return</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ol start=\"4\">\n<li>确定回溯位置</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for (int i = 0; i &lt; len; i++) &#123;</span><br><span class=\"line\">        path.addLast(nums[i]);</span><br><span class=\"line\">        dfs(nums, len, depth + 1, path, used, res);</span><br><span class=\"line\">        path.removeLast();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>往往还涉及到unused数组的使用或者begin变量，以防止重复情况</code></p>\n<h4 id=\"46-全排列（中等）\"><a href=\"#46-全排列（中等）\" class=\"headerlink\" title=\"46. 全排列（中等）\"></a><a href=\"https://leetcode-cn.com/problems/permutations/\">46. 全排列（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94flood-fill%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2-1701681216686.png\" alt=\"1\"></p>\n<ul>\n<li>解题思路</li>\n</ul>\n<p><code>标准解题步骤基础上加上unused数组，避免元素重复</code></p>\n<p><code>核心代码</code>：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (depth == len) &#123;</span><br><span class=\"line\">    res.add(<span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;(path));</span><br><span class=\"line\">    <span class=\"keyword\">return</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; len; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!used[i]) &#123;</span><br><span class=\"line\">        path.addLast(nums[i]);</span><br><span class=\"line\">        used[i] = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        dfs(nums, len, depth + <span class=\"number\">1</span>, path, used, res);</span><br><span class=\"line\"></span><br><span class=\"line\">        used[i] = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        path.removeLast();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>完整代码</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;List&lt;Integer&gt;&gt; <span class=\"title function_\">permute</span><span class=\"params\">(<span class=\"type\">int</span>[] nums)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">len</span> <span class=\"operator\">=</span> nums.length;</span><br><span class=\"line\">        <span class=\"comment\">// 使用一个动态数组保存所有可能的全排列</span></span><br><span class=\"line\">        List&lt;List&lt;Integer&gt;&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (len == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">boolean</span>[] used = <span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span>[len];</span><br><span class=\"line\">        Deque&lt;Integer&gt; path = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayDeque</span>&lt;&gt;(len);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 调用深度优先搜索函数</span></span><br><span class=\"line\">        dfs(nums, len, <span class=\"number\">0</span>, path, used, res);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 深度优先搜索函数</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">int</span>[] nums, <span class=\"type\">int</span> len, <span class=\"type\">int</span> depth,</span></span><br><span class=\"line\"><span class=\"params\">                     Deque&lt;Integer&gt; path, <span class=\"type\">boolean</span>[] used,</span></span><br><span class=\"line\"><span class=\"params\">                     List&lt;List&lt;Integer&gt;&gt; res)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 如果达到了数组的长度，说明已经生成了一个全排列</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (depth == len) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前路径中的元素添加到结果集中</span></span><br><span class=\"line\">            res.add(<span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;(path));</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 遍历数组中的每个元素</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; len; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!used[i]) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 将当前元素加入路径中</span></span><br><span class=\"line\">                path.addLast(nums[i]);</span><br><span class=\"line\">                used[i] = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"comment\">// 递归调用深度优先搜索函数，继续生成下一个位置的元素</span></span><br><span class=\"line\">                dfs(nums, len, depth + <span class=\"number\">1</span>, path, used, res);</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"comment\">// 回溯操作，将当前元素从路径中移除，重新设置为未使用状态</span></span><br><span class=\"line\">                used[i] = <span class=\"literal\">false</span>;</span><br><span class=\"line\">                path.removeLast();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"47-全排列-II（中等）\"><a href=\"#47-全排列-II（中等）\" class=\"headerlink\" title=\"47. 全排列 II（中等）\"></a><a href=\"https://leetcode-cn.com/problems/permutations-ii/\">47. 全排列 II（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94flood-fill%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2-1701681234910.png\" alt=\"2\"></p>\n<ul>\n<li>解题思路</li>\n</ul>\n<p><code>相较于全排列一，该题数字可以重复，考虑排序+从左到右第一次调用</code></p>\n<p><code>核心代码：</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 排序</span></span><br><span class=\"line\"> Arrays.sort(nums);</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//避免重复排列</span></span><br><span class=\"line\">     <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (unused[i] || i &gt; <span class=\"number\">0</span> &amp;&amp; nums[i] == nums[i - <span class=\"number\">1</span>] &amp;&amp; !unused[i - <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            temp.addLast(nums[i]);</span><br><span class=\"line\">            unused[i] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">            backTrack(nums, res, temp, i, length, unused);</span><br><span class=\"line\">            unused[i] = <span class=\"literal\">false</span>;</span><br><span class=\"line\">            temp.removeLast();</span><br><span class=\"line\">        &#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>完整代码</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;List&lt;Integer&gt;&gt; <span class=\"title function_\">permuteUnique</span><span class=\"params\">(<span class=\"type\">int</span>[] nums)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 对数组进行排序，使相同的元素相邻，方便后续去重操作</span></span><br><span class=\"line\">        Arrays.sort(nums);</span><br><span class=\"line\">        <span class=\"comment\">// 用于保存结果的列表</span></span><br><span class=\"line\">        ArrayList&lt;List&lt;Integer&gt;&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 用于暂存当前排列的链表</span></span><br><span class=\"line\">        LinkedList&lt;Integer&gt; temp = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 数组的长度</span></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">length</span> <span class=\"operator\">=</span> nums.length;</span><br><span class=\"line\">        <span class=\"comment\">// 记录元素是否被使用的数组</span></span><br><span class=\"line\">        <span class=\"type\">boolean</span>[] unused = <span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span>[length];</span><br><span class=\"line\">        <span class=\"comment\">// 调用回溯函数</span></span><br><span class=\"line\">        backTrack(nums, res, temp, <span class=\"number\">0</span>, length, unused);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">backTrack</span><span class=\"params\">(<span class=\"type\">int</span>[] nums,</span></span><br><span class=\"line\"><span class=\"params\">                           ArrayList&lt;List&lt;Integer&gt;&gt; res,</span></span><br><span class=\"line\"><span class=\"params\">                           LinkedList&lt;Integer&gt; temp,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> x,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> length,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">boolean</span>[] unused)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 终止条件：当暂存排列的长度等于数组的长度时，说明已经生成了一个全排列</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (temp.size() == length) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前排列加入结果列表</span></span><br><span class=\"line\">            res.add(<span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;(temp));</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 遍历数组中的每个元素</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 如果当前元素已经被使用，或者是相同的元素且前一个元素未被使用，则跳过该元素</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (unused[i] || (i &gt; <span class=\"number\">0</span> &amp;&amp; nums[i] == nums[i - <span class=\"number\">1</span>] &amp;&amp; !unused[i - <span class=\"number\">1</span>])) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前元素加入暂存排列中</span></span><br><span class=\"line\">            temp.addLast(nums[i]);</span><br><span class=\"line\">            <span class=\"comment\">// 将当前元素标记为已使用</span></span><br><span class=\"line\">            unused[i] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"comment\">// 递归调用回溯函数，生成下一个位置的元素</span></span><br><span class=\"line\">            backTrack(nums, res, temp, i, length, unused);</span><br><span class=\"line\">            <span class=\"comment\">// 回溯操作，将当前元素从暂存排列中移除，重新设置为未使用状态</span></span><br><span class=\"line\">            unused[i] = <span class=\"literal\">false</span>;</span><br><span class=\"line\">            temp.removeLast();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"39-组合总和（中等）\"><a href=\"#39-组合总和（中等）\" class=\"headerlink\" title=\"39. 组合总和（中等）\"></a><a href=\"https://leetcode-cn.com/problems/combination-sum/\">39. 组合总和（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94flood-fill%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2-1701681257321.png\" alt=\"4\"></p>\n<ul>\n<li>解题思路</li>\n</ul>\n<p><code>以target为和，全排列去对其进行相减，当target等于0则为其中一解，当target小于0则剪枝</code></p>\n<p><code>核心代码：</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"keyword\">if</span> (target == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        res.add(<span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;(temp));</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (target &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> x; i &lt; candidates.length; i++) &#123;</span><br><span class=\"line\">        temp.addLast(candidates[i]);</span><br><span class=\"line\">        backTrack(candidates, i, target - candidates[i], res, temp);</span><br><span class=\"line\">        temp.removeLast();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>完整代码</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;List&lt;Integer&gt;&gt; <span class=\"title function_\">combinationSum</span><span class=\"params\">(<span class=\"type\">int</span>[] candidates, <span class=\"type\">int</span> target)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 用于保存结果的列表</span></span><br><span class=\"line\">        ArrayList&lt;List&lt;Integer&gt;&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 用于暂存当前组合的链表</span></span><br><span class=\"line\">        LinkedList&lt;Integer&gt; temp = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 调用回溯函数</span></span><br><span class=\"line\">        backTrack(candidates, <span class=\"number\">0</span>, target, res, temp);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 回溯函数</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">backTrack</span><span class=\"params\">(<span class=\"type\">int</span>[] candidates,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> x,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> target,</span></span><br><span class=\"line\"><span class=\"params\">                           ArrayList&lt;List&lt;Integer&gt;&gt; res,</span></span><br><span class=\"line\"><span class=\"params\">                           LinkedList&lt;Integer&gt; temp)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 终止条件：当目标值为0时，说明已经生成了一个满足条件的组合</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (target == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前组合加入结果列表</span></span><br><span class=\"line\">            res.add(<span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;(temp));</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 如果目标值小于0，说明当前组合不满足条件，直接返回</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (target &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 遍历候选数数组中的每个元素</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> x; i &lt; candidates.length; i++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前元素加入暂存组合中</span></span><br><span class=\"line\">            temp.addLast(candidates[i]);</span><br><span class=\"line\">            <span class=\"comment\">// 递归调用回溯函数，生成下一个位置的元素</span></span><br><span class=\"line\">            backTrack(candidates, i, target - candidates[i], res, temp);</span><br><span class=\"line\">            <span class=\"comment\">// 回溯操作，将当前元素从暂存组合中移除</span></span><br><span class=\"line\">            temp.removeLast();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n<h4 id=\"40-组合总和-II（中等）\"><a href=\"#40-组合总和-II（中等）\" class=\"headerlink\" title=\"40. 组合总和 II（中等）\"></a><a href=\"https://leetcode-cn.com/problems/combination-sum-ii/\">40. 组合总和 II（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><code>和全排列进阶一致</code></p>\n<p><code>核心代码：</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> x; i &lt; candidates.length; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i &gt; <span class=\"number\">0</span> &amp;&amp; candidates[i] == candidates[i - <span class=\"number\">1</span>] &amp;&amp; !unused[i-<span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        unused[i]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">        temp.addLast(candidates[i]);</span><br><span class=\"line\">        backTrack(candidates, i + <span class=\"number\">1</span>, target - candidates[i], res, temp,unused);</span><br><span class=\"line\">        unused[i]=<span class=\"literal\">false</span>;</span><br><span class=\"line\">        temp.removeLast();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>完整代码<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;List&lt;Integer&gt;&gt; <span class=\"title function_\">combinationSum2</span><span class=\"params\">(<span class=\"type\">int</span>[] candidates, <span class=\"type\">int</span> target)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 对候选数数组进行排序，为后续剪枝操作做准备</span></span><br><span class=\"line\">        Arrays.sort(candidates);</span><br><span class=\"line\">        <span class=\"comment\">// 用于保存结果的列表</span></span><br><span class=\"line\">        ArrayList&lt;List&lt;Integer&gt;&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 用于暂存当前组合的链表</span></span><br><span class=\"line\">        LinkedList&lt;Integer&gt; temp = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 用于标记候选数是否已被使用的布尔数组</span></span><br><span class=\"line\">        <span class=\"type\">boolean</span>[] unused = <span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span>[candidates.length];</span><br><span class=\"line\">        <span class=\"comment\">// 调用回溯函数</span></span><br><span class=\"line\">        backTrack(candidates, <span class=\"number\">0</span>, target, res, temp, unused);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 回溯函数</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">backTrack</span><span class=\"params\">(<span class=\"type\">int</span>[] candidates,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> x,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> target,</span></span><br><span class=\"line\"><span class=\"params\">                           ArrayList&lt;List&lt;Integer&gt;&gt; res,</span></span><br><span class=\"line\"><span class=\"params\">                           LinkedList&lt;Integer&gt; temp,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">boolean</span>[] unused)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 终止条件：当目标值为0时，说明已经生成了一个满足条件的组合</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (target == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前组合加入结果列表</span></span><br><span class=\"line\">            res.add(<span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;(temp));</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 如果目标值小于0，说明当前组合不满足条件，直接返回</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (target &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 遍历候选数数组中的每个元素</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> x; i &lt; candidates.length; i++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 进行剪枝操作：如果当前元素与前一个元素相同，并且前一个元素未被使用，则跳过当前元素，避免重复组合</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i &gt; <span class=\"number\">0</span> &amp;&amp; candidates[i] == candidates[i - <span class=\"number\">1</span>] &amp;&amp; !unused[i - <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 标记当前元素为已使用</span></span><br><span class=\"line\">            unused[i] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前元素加入暂存组合中</span></span><br><span class=\"line\">            temp.addLast(candidates[i]);</span><br><span class=\"line\">            <span class=\"comment\">// 递归调用回溯函数，生成下一个位置的元素</span></span><br><span class=\"line\">            backTrack(candidates, i + <span class=\"number\">1</span>, target - candidates[i], res, temp, unused);</span><br><span class=\"line\">            <span class=\"comment\">// 回溯操作，将当前元素从暂存组合中移除，并恢复当前元素的未使用状态</span></span><br><span class=\"line\">            unused[i] = <span class=\"literal\">false</span>;</span><br><span class=\"line\">            temp.removeLast();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"77-组合（中等）\"><a href=\"#77-组合（中等）\" class=\"headerlink\" title=\"77. 组合（中等）\"></a><a href=\"https://leetcode-cn.com/problems/combinations/\">77. 组合（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94flood-fill%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2-1701681281060.png\" alt=\"7\"></p>\n<ul>\n<li>经典全排列</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;List&lt;Integer&gt;&gt; <span class=\"title function_\">combine</span><span class=\"params\">(<span class=\"type\">int</span> n, <span class=\"type\">int</span> k)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 用于保存结果的列表</span></span><br><span class=\"line\">        ArrayList&lt;List&lt;Integer&gt;&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 用于暂存当前组合的链表</span></span><br><span class=\"line\">        LinkedList&lt;Integer&gt; temp = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 调用回溯函数</span></span><br><span class=\"line\">        backTrack(<span class=\"number\">1</span>, n, k, res, temp);</span><br><span class=\"line\">        <span class=\"comment\">// 打印结果</span></span><br><span class=\"line\">        System.out.println(res.toString());</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 回溯函数</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">backTrack</span><span class=\"params\">(<span class=\"type\">int</span> x,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> n,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> k,</span></span><br><span class=\"line\"><span class=\"params\">                           ArrayList&lt;List&lt;Integer&gt;&gt; res,</span></span><br><span class=\"line\"><span class=\"params\">                           LinkedList&lt;Integer&gt; temp)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 终止条件：当暂存组合的大小等于 k 时，说明已经生成了一个满足条件的组合</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (temp.size() == k) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前组合加入结果列表</span></span><br><span class=\"line\">            res.add(<span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;(temp));</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 遍历可选的数字范围</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> x; i &lt;= n - (k - temp.size()) + <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前数字加入暂存组合中</span></span><br><span class=\"line\">            temp.addLast(i);</span><br><span class=\"line\">            <span class=\"comment\">// 递归调用回溯函数，生成下一个位置的数字</span></span><br><span class=\"line\">            backTrack(i + <span class=\"number\">1</span>, n, k, res, temp);</span><br><span class=\"line\">            <span class=\"comment\">// 回溯操作，将当前数字从暂存组合中移除</span></span><br><span class=\"line\">            temp.removeLast();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"78-子集（中等）\"><a href=\"#78-子集（中等）\" class=\"headerlink\" title=\"78. 子集（中等）\"></a><a href=\"https://leetcode-cn.com/problems/subsets/\">78. 子集（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94flood-fill%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2-1701681296977.png\" alt=\"8\"></p>\n<ul>\n<li>解题思路</li>\n</ul>\n<p><code>此处回溯要注意begin变量的设置，可保证集合的非重复性</code></p>\n<p><code>核心代码：</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> x; i &lt; length; i++) &#123;</span><br><span class=\"line\">    temp.addLast(nums[i]);</span><br><span class=\"line\">    backTrace(nums, res, temp, i + <span class=\"number\">1</span>, length);</span><br><span class=\"line\">    temp.removeLast();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>完整代码</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;List&lt;Integer&gt;&gt; <span class=\"title function_\">subsets</span><span class=\"params\">(<span class=\"type\">int</span>[] nums)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 用于保存结果的列表</span></span><br><span class=\"line\">        ArrayList&lt;List&lt;Integer&gt;&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 用于暂存当前子集的链表</span></span><br><span class=\"line\">        LinkedList&lt;Integer&gt; temp = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 数组的长度</span></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">length</span> <span class=\"operator\">=</span> nums.length;</span><br><span class=\"line\">        <span class=\"comment\">// 调用回溯函数</span></span><br><span class=\"line\">        backTrace(nums, res, temp, <span class=\"number\">0</span>, length);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 回溯函数</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">backTrace</span><span class=\"params\">(<span class=\"type\">int</span>[] nums,</span></span><br><span class=\"line\"><span class=\"params\">                           ArrayList&lt;List&lt;Integer&gt;&gt; res,</span></span><br><span class=\"line\"><span class=\"params\">                           LinkedList&lt;Integer&gt; temp,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> x,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> length)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 将当前子集加入结果列表</span></span><br><span class=\"line\">        res.add(<span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;(temp));</span><br><span class=\"line\">        <span class=\"comment\">// 遍历数组中的元素</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> x; i &lt; length; i++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前元素加入暂存子集中</span></span><br><span class=\"line\">            temp.addLast(nums[i]);</span><br><span class=\"line\">            <span class=\"comment\">// 递归调用回溯函数，生成下一个位置的元素</span></span><br><span class=\"line\">            backTrace(nums, res, temp, i + <span class=\"number\">1</span>, length);</span><br><span class=\"line\">            <span class=\"comment\">// 回溯操作，将当前元素从暂存子集中移除</span></span><br><span class=\"line\">            temp.removeLast();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"90-子集-II（中等）\"><a href=\"#90-子集-II（中等）\" class=\"headerlink\" title=\"90. 子集 II（中等）\"></a><a href=\"https://leetcode-cn.com/problems/subsets-ii/\">90. 子集 II（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94flood-fill%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2-1701681314905.png\" alt=\"9\"></p>\n<ul>\n<li>解题思路</li>\n</ul>\n<p><code>该题加了可重复限制条件，整体和全排列2类似，先排序+只允许从左到右排列</code></p>\n<p><code>核心代码：</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> x; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (i&gt;<span class=\"number\">0</span>&amp;&amp;nums[i]==nums[i-<span class=\"number\">1</span>]&amp;&amp;!unused[i-<span class=\"number\">1</span>])&#123;</span><br><span class=\"line\">        <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    unused[i]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">    temp.addLast(nums[i]);</span><br><span class=\"line\">    backTrace(nums,res,temp,i+<span class=\"number\">1</span>,length,unused);</span><br><span class=\"line\">    unused[i]=<span class=\"literal\">false</span>;</span><br><span class=\"line\">    temp.removeLast();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>完整代码</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;List&lt;Integer&gt;&gt; <span class=\"title function_\">subsetsWithDup</span><span class=\"params\">(<span class=\"type\">int</span>[] nums)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 对数组进行排序</span></span><br><span class=\"line\">        Arrays.sort(nums);</span><br><span class=\"line\">        <span class=\"comment\">// 用于保存结果的列表</span></span><br><span class=\"line\">        ArrayList&lt;List&lt;Integer&gt;&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 用于暂存当前子集的链表</span></span><br><span class=\"line\">        LinkedList&lt;Integer&gt; temp = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 数组的长度</span></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">length</span> <span class=\"operator\">=</span> nums.length;</span><br><span class=\"line\">        <span class=\"comment\">// 标记数组中的元素是否已被使用</span></span><br><span class=\"line\">        <span class=\"type\">boolean</span>[] unused = <span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span>[length];</span><br><span class=\"line\">        <span class=\"comment\">// 调用回溯函数</span></span><br><span class=\"line\">        backTrace(nums, res, temp, <span class=\"number\">0</span>, length, unused);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 回溯函数</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">backTrace</span><span class=\"params\">(<span class=\"type\">int</span>[] nums,</span></span><br><span class=\"line\"><span class=\"params\">                           ArrayList&lt;List&lt;Integer&gt;&gt; res,</span></span><br><span class=\"line\"><span class=\"params\">                           LinkedList&lt;Integer&gt; temp,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> x,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> length,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">boolean</span>[] unused)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 将当前子集加入结果列表</span></span><br><span class=\"line\">        res.add(<span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;(temp));</span><br><span class=\"line\">        <span class=\"comment\">// 遍历数组中的元素</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> x; i &lt; length; i++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 如果当前元素与前一个元素相等，并且前一个元素未被使用，则跳过当前循环</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i &gt; <span class=\"number\">0</span> &amp;&amp; nums[i] == nums[i - <span class=\"number\">1</span>] &amp;&amp; !unused[i - <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 标记当前元素为已使用</span></span><br><span class=\"line\">            unused[i] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前元素加入暂存子集中</span></span><br><span class=\"line\">            temp.addLast(nums[i]);</span><br><span class=\"line\">            <span class=\"comment\">// 递归调用回溯函数，生成下一个位置的元素</span></span><br><span class=\"line\">            backTrace(nums, res, temp, i + <span class=\"number\">1</span>, length, unused);</span><br><span class=\"line\">            <span class=\"comment\">// 回溯操作，将当前元素从暂存子集中移除</span></span><br><span class=\"line\">            unused[i] = <span class=\"literal\">false</span>;</span><br><span class=\"line\">            temp.removeLast();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"60-第-k-个排列（中等）\"><a href=\"#60-第-k-个排列（中等）\" class=\"headerlink\" title=\"60. 第 k 个排列（中等）\"></a><a href=\"https://leetcode-cn.com/problems/permutation-sequence/\">60. 第 k 个排列（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94flood-fill%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2-1701681338321.png\" alt=\"10\"></p>\n<ul>\n<li>解题思路</li>\n</ul>\n<p><code>定义count值，每次找到一个全排列+1，当找到第k值后复制res返回</code></p>\n<p><code>核心代码：</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"keyword\">if</span> (temp.size() == n) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//res.add(new ArrayList&lt;&gt;(temp));</span></span><br><span class=\"line\">        <span class=\"comment\">//System.out.println(count);</span></span><br><span class=\"line\">        count++;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (count==k)&#123;</span><br><span class=\"line\">            temp.forEach(t-&gt;res.append(t));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (unused[i-<span class=\"number\">1</span>])&#123;</span><br><span class=\"line\">            <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        temp.addLast(i);</span><br><span class=\"line\">        unused[i-<span class=\"number\">1</span>]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">        backTrace(i + <span class=\"number\">1</span>, n, k, temp,unused);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (count==k)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        temp.removeLast();</span><br><span class=\"line\">        unused[i-<span class=\"number\">1</span>]=<span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>完整代码</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 计数器，用于记录生成的排列数量</span></span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">count</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"comment\">// 用于保存最终的结果</span></span><br><span class=\"line\">    <span class=\"type\">StringBuilder</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">StringBuilder</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getPermutation</span><span class=\"params\">(<span class=\"type\">int</span> n, <span class=\"type\">int</span> k)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 用于暂存当前排列的链表</span></span><br><span class=\"line\">        LinkedList&lt;Integer&gt; temp = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 标记数字是否已被使用</span></span><br><span class=\"line\">        <span class=\"type\">boolean</span>[] unused = <span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span>[n];</span><br><span class=\"line\">        <span class=\"comment\">// 调用回溯函数生成排列</span></span><br><span class=\"line\">        backTrace(<span class=\"number\">1</span>, n, k, temp, unused);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res.toString();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 回溯函数生成排列</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">backTrace</span><span class=\"params\">(<span class=\"type\">int</span> x,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> n,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> k,</span></span><br><span class=\"line\"><span class=\"params\">                           LinkedList&lt;Integer&gt; temp,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">boolean</span>[] unused)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 如果已生成的排列长度为 n，则判断是否为第 k 个排列</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (temp.size() == n) &#123;</span><br><span class=\"line\">            count++;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (count == k) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 如果是第 k 个排列，则将排列中的数字加入结果字符串</span></span><br><span class=\"line\">                temp.forEach(t -&gt; res.append(t));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 遍历可用的数字</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 如果数字已被使用，则跳过当前循环</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (unused[i - <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前数字加入暂存排列中</span></span><br><span class=\"line\">            temp.addLast(i);</span><br><span class=\"line\">            unused[i - <span class=\"number\">1</span>] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"comment\">// 递归调用回溯函数，生成下一个位置的数字</span></span><br><span class=\"line\">            backTrace(i + <span class=\"number\">1</span>, n, k, temp, unused);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (count == k) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 如果已生成第 k 个排列，则跳出循环</span></span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 回溯操作，将当前数字从暂存排列中移除</span></span><br><span class=\"line\">            temp.removeLast();</span><br><span class=\"line\">            unused[i - <span class=\"number\">1</span>] = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"93-复原-IP-地址（中等）\"><a href=\"#93-复原-IP-地址（中等）\" class=\"headerlink\" title=\"93. 复原 IP 地址（中等）\"></a><a href=\"https://leetcode-cn.com/problems/restore-ip-addresses/\">93. 复原 IP 地址（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94flood-fill%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2-1701681356056.png\" alt=\"11\"></p>\n<ul>\n<li>解题思路<br><code>确定四个值组成一组唯一的ip地址</code></li>\n</ul>\n<p><code>定义ip地址中每一个值的正确判定条件</code></p>\n<p><code>适当减枝</code></p>\n<p><code>核心代码</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//递归函数，确定ip地址四个值</span></span><br><span class=\"line\">    backTrace(s, <span class=\"number\">0</span>, <span class=\"number\">4</span>, res, temp, length);</span><br><span class=\"line\"><span class=\"comment\">//定义ip地址中每一个值的正确判定条件</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">boolean</span> <span class=\"title function_\">judgeIpSegment</span><span class=\"params\">(String s, <span class=\"type\">int</span> begin, <span class=\"type\">int</span> end)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">len</span> <span class=\"operator\">=</span> end - begin + <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (len &gt; <span class=\"number\">1</span> &amp;&amp; s.charAt(begin) == <span class=\"string\">&#x27;0&#x27;</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> begin; i &lt;= end; i++) &#123;</span><br><span class=\"line\">            res = res * <span class=\"number\">10</span> + s.charAt(i) - <span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//while (begin &lt;= end) &#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//    res = res * 10 + s.charAt(begin) - &#x27;0&#x27;;</span></span><br><span class=\"line\">        <span class=\"comment\">//    begin++;</span></span><br><span class=\"line\">        <span class=\"comment\">//&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> res &gt;= <span class=\"number\">0</span> &amp;&amp; res &lt;= <span class=\"number\">255</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"comment\">//递归回溯</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (judgeIpSegment(s, x, i)) &#123;</span><br><span class=\"line\">                temp.addLast(s.substring(x, i + <span class=\"number\">1</span>));</span><br><span class=\"line\">                backTrace(s, i + <span class=\"number\">1</span>, k - <span class=\"number\">1</span>, res, temp, length);</span><br><span class=\"line\">                temp.removeLast();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"><span class=\"comment\">//适当减枝</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i &gt;= length || length - i &gt; k * <span class=\"number\">3</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>完整代码</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;String&gt; <span class=\"title function_\">restoreIpAddresses</span><span class=\"params\">(String s)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 输入字符串的长度</span></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">length</span> <span class=\"operator\">=</span> s.length();</span><br><span class=\"line\">        <span class=\"comment\">// 用于保存结果的列表</span></span><br><span class=\"line\">        ArrayList&lt;String&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 用于暂存当前正在生成的 IP 地址段的双端队列</span></span><br><span class=\"line\">        Deque&lt;String&gt; temp = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayDeque</span>&lt;&gt;(<span class=\"number\">4</span>);</span><br><span class=\"line\">        <span class=\"comment\">// 调用回溯函数生成 IP 地址</span></span><br><span class=\"line\">        backTrace(s, <span class=\"number\">0</span>, <span class=\"number\">4</span>, res, temp, length);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 回溯函数生成 IP 地址</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">backTrace</span><span class=\"params\">(String s,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> x,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> k,</span></span><br><span class=\"line\"><span class=\"params\">                           ArrayList&lt;String&gt; res,</span></span><br><span class=\"line\"><span class=\"params\">                           Deque&lt;String&gt; temp,</span></span><br><span class=\"line\"><span class=\"params\">                           <span class=\"type\">int</span> length)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 如果已遍历完整个字符串</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (x == length) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 如果已生成了 4 个 IP 地址段，则将当前 IP 地址加入结果列表</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (k == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                res.add(String.join(<span class=\"string\">&quot;.&quot;</span>, temp));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 枚举下一个 IP 地址段的结束位置</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> x; i &lt; x + <span class=\"number\">3</span>; i++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 如果超出了字符串的长度，或者剩余的字符数大于 k*3，则跳出循环</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i &gt;= length || length - i &gt; k * <span class=\"number\">3</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 判断当前 IP 地址段是否合法</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (judgeIpSegment(s, x, i)) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 将当前 IP 地址段加入暂存队列</span></span><br><span class=\"line\">                temp.addLast(s.substring(x, i + <span class=\"number\">1</span>));</span><br><span class=\"line\">                <span class=\"comment\">// 递归调用回溯函数，生成下一个 IP 地址段</span></span><br><span class=\"line\">                backTrace(s, i + <span class=\"number\">1</span>, k - <span class=\"number\">1</span>, res, temp, length);</span><br><span class=\"line\">                <span class=\"comment\">// 回溯操作，将当前 IP 地址段从暂存队列中移除</span></span><br><span class=\"line\">                temp.removeLast();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 判断 IP 地址段是否合法</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">boolean</span> <span class=\"title function_\">judgeIpSegment</span><span class=\"params\">(String s, <span class=\"type\">int</span> begin, <span class=\"type\">int</span> end)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// IP 地址段的长度</span></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">len</span> <span class=\"operator\">=</span> end - begin + <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"comment\">// 如果长度大于 1 且以 0 开头，则不合法</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (len &gt; <span class=\"number\">1</span> &amp;&amp; s.charAt(begin) == <span class=\"string\">&#x27;0&#x27;</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 将 IP 地址段转换为整数</span></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> begin; i &lt;= end; i++) &#123;</span><br><span class=\"line\">            res = res * <span class=\"number\">10</span> + s.charAt(i) - <span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 判断整数是否在合法的范围内</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> res &gt;= <span class=\"number\">0</span> &amp;&amp; res &lt;= <span class=\"number\">255</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"umi-max的简易数据流方案","keywords":"umi，数据流","description":"umi数据流方案记录","top_img":"/img/qianduan.png","comments":1,"cover":"/img/qianduan.png","copyright_author":"xingxing","copyright_author_href":"www.staraway.asia","copyright_info":"可转载哦","date":"2023-06-04T08:53:01.000Z","_content":"\n> 相信很多react初学者都有一段刻骨铭心的数据流学习经历，不用多说，从redux到mobx再到dva，真的很痛苦，全局数据流作为react开发中必不可少的一环，当然是越简单越好，所以，model诞生了，作为umi Max的内置全局数据流方案，他是我目前见过最简易的，相信也是公认最简易的\n\n### umi max-------model简介\n\n`@umi/max` 内置了**数据流管理**插件，它是一种基于 `hooks` 范式的轻量级数据管理方案，可以在 Umi 项目中管理全局的共享数据。\n\n### model使用\n1. 创建model\n   数据流管理插件采用约定式目录结构，我们约定可以在 `src/models`, `src/pages/xxxx/models/`目录中，和 `src/pages/xxxx/model.{js,jsx,ts,tsx}` 文件引入 Model 文件。 Model 文件允许使用 `.(tsx|ts|jsx|js)` 四种后缀格式，**命名空间（namespace）**  生成规则如下。\n\n\n![2](../images/umi-max的简易数据流方案-1701680109557.png)\n\n`此处恰恰体现了model这种全局数据流方案最最最令人震惊的一点-------他就是自定义一个hooks，没有其他任何所谓的“黑魔法”`\n```typescript\n// src/models/userModel.ts\nexport default () => {\nconst user = { username: 'umi', \n};\n\nreturn { user };\n};\n```\n\n`注意此处一定要写成函数式写法，不要形成dva惯性，写成下面这样（不要问我怎么知道的，我被折磨几天）`\n```typescript\nexport default {\n    namespace: 'write',\n```\numi官网也给了很足的提示\n\n![1](../images/umi-max的简易数据流方案-1701680121582.png)\n\n2.model的高级使用\n- Model中是允许使用其他hooks的，这就意味着你直接把塔当成一个没有return的函数组件，随便写函数\n\n官网告诉你可以这样用\n```typescript\n// src/models/counterModel.ts\nimport { useState, useCallback } from 'react';\n\nexport default () => {\n  const [counter, setCounter] = useState(0);\n\n  const increment = useCallback(() => setCounter((c) => c + 1), []);\n  const decrement = useCallback(() => setCounter((c) => c - 1), []);\n\n  return { counter, increment, decrement };\n};\n```\n\n我告诉你不仅可以定义hook，还可以这样用\n```typescript\nexport default () => {\n  const [name, setName] = useState<string>(DEFAULT_NAME);\n\n  const test=(value:string)=>{\n   console.log(value)\n  }\n  return {\n    name,\n    setName,\n    test\n  };\n};\n```\n`是不是感觉瞬间明朗起来`\n3. 使用model\n   `其实就一行简单代码，你函数return了什么，就可以用什么`\n```typescript\nconst { user, loading } = useModel('userModel');\n```\n\n4.一点性能优化\n```javascript\n// src/components/CounterActions/index.tsx\nimport { useModel } from 'umi';\n\nexport default () => {\n  const { add, minus } = useModel('counterModel', (model) => ({\n    add: model.increment,\n    minus: model.decrement,\n  }));\n\n  return (\n      <div>\n          <button onClick={add}>add by 1</button>\n  <button onClick={minus}>minus by 1</button>\n  </div>\n);\n};\n```\n\n","source":"_posts/umi-max的简易数据流方案.md","raw":"---\ntitle: umi-max的简易数据流方案\ntags: \n   - umi\n   - react\ncategories: 前端\nkeywords: umi，数据流\ndescription: umi数据流方案记录\ntop_img: /img/qianduan.png\ncomments: true\ncover: /img/qianduan.png\ncopyright_author: xingxing\ncopyright_author_href: www.staraway.asia\ncopyright_info: 可转载哦\ndate: 2023-6-04 16:53:01\n---\n\n> 相信很多react初学者都有一段刻骨铭心的数据流学习经历，不用多说，从redux到mobx再到dva，真的很痛苦，全局数据流作为react开发中必不可少的一环，当然是越简单越好，所以，model诞生了，作为umi Max的内置全局数据流方案，他是我目前见过最简易的，相信也是公认最简易的\n\n### umi max-------model简介\n\n`@umi/max` 内置了**数据流管理**插件，它是一种基于 `hooks` 范式的轻量级数据管理方案，可以在 Umi 项目中管理全局的共享数据。\n\n### model使用\n1. 创建model\n   数据流管理插件采用约定式目录结构，我们约定可以在 `src/models`, `src/pages/xxxx/models/`目录中，和 `src/pages/xxxx/model.{js,jsx,ts,tsx}` 文件引入 Model 文件。 Model 文件允许使用 `.(tsx|ts|jsx|js)` 四种后缀格式，**命名空间（namespace）**  生成规则如下。\n\n\n![2](../images/umi-max的简易数据流方案-1701680109557.png)\n\n`此处恰恰体现了model这种全局数据流方案最最最令人震惊的一点-------他就是自定义一个hooks，没有其他任何所谓的“黑魔法”`\n```typescript\n// src/models/userModel.ts\nexport default () => {\nconst user = { username: 'umi', \n};\n\nreturn { user };\n};\n```\n\n`注意此处一定要写成函数式写法，不要形成dva惯性，写成下面这样（不要问我怎么知道的，我被折磨几天）`\n```typescript\nexport default {\n    namespace: 'write',\n```\numi官网也给了很足的提示\n\n![1](../images/umi-max的简易数据流方案-1701680121582.png)\n\n2.model的高级使用\n- Model中是允许使用其他hooks的，这就意味着你直接把塔当成一个没有return的函数组件，随便写函数\n\n官网告诉你可以这样用\n```typescript\n// src/models/counterModel.ts\nimport { useState, useCallback } from 'react';\n\nexport default () => {\n  const [counter, setCounter] = useState(0);\n\n  const increment = useCallback(() => setCounter((c) => c + 1), []);\n  const decrement = useCallback(() => setCounter((c) => c - 1), []);\n\n  return { counter, increment, decrement };\n};\n```\n\n我告诉你不仅可以定义hook，还可以这样用\n```typescript\nexport default () => {\n  const [name, setName] = useState<string>(DEFAULT_NAME);\n\n  const test=(value:string)=>{\n   console.log(value)\n  }\n  return {\n    name,\n    setName,\n    test\n  };\n};\n```\n`是不是感觉瞬间明朗起来`\n3. 使用model\n   `其实就一行简单代码，你函数return了什么，就可以用什么`\n```typescript\nconst { user, loading } = useModel('userModel');\n```\n\n4.一点性能优化\n```javascript\n// src/components/CounterActions/index.tsx\nimport { useModel } from 'umi';\n\nexport default () => {\n  const { add, minus } = useModel('counterModel', (model) => ({\n    add: model.increment,\n    minus: model.decrement,\n  }));\n\n  return (\n      <div>\n          <button onClick={add}>add by 1</button>\n  <button onClick={minus}>minus by 1</button>\n  </div>\n);\n};\n```\n\n","slug":"umi-max的简易数据流方案","published":1,"updated":"2023-12-06T02:57:32.186Z","_id":"clpqoimj100040cpkgmm04u67","layout":"post","photos":[],"link":"","content":"<blockquote>\n<p>相信很多react初学者都有一段刻骨铭心的数据流学习经历，不用多说，从redux到mobx再到dva，真的很痛苦，全局数据流作为react开发中必不可少的一环，当然是越简单越好，所以，model诞生了，作为umi Max的内置全局数据流方案，他是我目前见过最简易的，相信也是公认最简易的</p>\n</blockquote>\n<h3 id=\"umi-max——-model简介\"><a href=\"#umi-max——-model简介\" class=\"headerlink\" title=\"umi max——-model简介\"></a>umi max——-model简介</h3><p><code>@umi/max</code> 内置了<strong>数据流管理</strong>插件，它是一种基于 <code>hooks</code> 范式的轻量级数据管理方案，可以在 Umi 项目中管理全局的共享数据。</p>\n<h3 id=\"model使用\"><a href=\"#model使用\" class=\"headerlink\" title=\"model使用\"></a>model使用</h3><ol>\n<li>创建model<br>数据流管理插件采用约定式目录结构，我们约定可以在 <code>src/models</code>, <code>src/pages/xxxx/models/</code>目录中，和 <code>src/pages/xxxx/model.&#123;js,jsx,ts,tsx&#125;</code> 文件引入 Model 文件。 Model 文件允许使用 <code>.(tsx|ts|jsx|js)</code> 四种后缀格式，<strong>命名空间（namespace）</strong>  生成规则如下。</li>\n</ol>\n<p><img src=\"/../images/umi-max%E7%9A%84%E7%AE%80%E6%98%93%E6%95%B0%E6%8D%AE%E6%B5%81%E6%96%B9%E6%A1%88-1701680109557.png\" alt=\"2\"></p>\n<p><code>此处恰恰体现了model这种全局数据流方案最最最令人震惊的一点-------他就是自定义一个hooks，没有其他任何所谓的“黑魔法”</code></p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// src/models/userModel.ts</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> () =&gt; &#123;</span><br><span class=\"line\"><span class=\"keyword\">const</span> user = &#123; <span class=\"attr\">username</span>: <span class=\"string\">&#x27;umi&#x27;</span>, </span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">return</span> &#123; user &#125;;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><code>注意此处一定要写成函数式写法，不要形成dva惯性，写成下面这样（不要问我怎么知道的，我被折磨几天）</code></p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">    <span class=\"attr\">namespace</span>: <span class=\"string\">&#x27;write&#x27;</span>,</span><br></pre></td></tr></table></figure>\n<p>umi官网也给了很足的提示</p>\n<p><img src=\"/../images/umi-max%E7%9A%84%E7%AE%80%E6%98%93%E6%95%B0%E6%8D%AE%E6%B5%81%E6%96%B9%E6%A1%88-1701680121582.png\" alt=\"1\"></p>\n<p>2.model的高级使用</p>\n<ul>\n<li>Model中是允许使用其他hooks的，这就意味着你直接把塔当成一个没有return的函数组件，随便写函数</li>\n</ul>\n<p>官网告诉你可以这样用</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// src/models/counterModel.ts</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; useState, useCallback &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;react&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> [counter, setCounter] = <span class=\"title function_\">useState</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> increment = <span class=\"title function_\">useCallback</span>(<span class=\"function\">() =&gt;</span> <span class=\"title function_\">setCounter</span>(<span class=\"function\">(<span class=\"params\">c</span>) =&gt;</span> c + <span class=\"number\">1</span>), []);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> decrement = <span class=\"title function_\">useCallback</span>(<span class=\"function\">() =&gt;</span> <span class=\"title function_\">setCounter</span>(<span class=\"function\">(<span class=\"params\">c</span>) =&gt;</span> c - <span class=\"number\">1</span>), []);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; counter, increment, decrement &#125;;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>我告诉你不仅可以定义hook，还可以这样用</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> [name, setName] = useState&lt;<span class=\"built_in\">string</span>&gt;(<span class=\"variable constant_\">DEFAULT_NAME</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> <span class=\"title function_\">test</span>=(<span class=\"params\">value:<span class=\"built_in\">string</span></span>)=&gt;&#123;</span><br><span class=\"line\">   <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(value)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    name,</span><br><span class=\"line\">    setName,</span><br><span class=\"line\">    test</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p><code>是不是感觉瞬间明朗起来</code><br>3. 使用model<br>   <code>其实就一行简单代码，你函数return了什么，就可以用什么</code></p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> &#123; user, loading &#125; = <span class=\"title function_\">useModel</span>(<span class=\"string\">&#x27;userModel&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<p>4.一点性能优化</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// src/components/CounterActions/index.tsx</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; useModel &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;umi&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; add, minus &#125; = <span class=\"title function_\">useModel</span>(<span class=\"string\">&#x27;counterModel&#x27;</span>, <span class=\"function\">(<span class=\"params\">model</span>) =&gt;</span> (&#123;</span><br><span class=\"line\">    <span class=\"attr\">add</span>: model.<span class=\"property\">increment</span>,</span><br><span class=\"line\">    <span class=\"attr\">minus</span>: model.<span class=\"property\">decrement</span>,</span><br><span class=\"line\">  &#125;));</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">          <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;add&#125;</span>&gt;</span>add by 1<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">  <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;minus&#125;</span>&gt;</span>minus by 1<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n","site":{"data":{"about":[{"class_name":"关于页","subtitle":"多一点努力，努力多一点✨","avatarImg":"https://avatars.githubusercontent.com/u/106024593?v=4","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱"]},"name":"xingxing","description":"是一名 后端工程师、学生、独立开发者","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"YNU,计算机科学与技术","color":"#357ef5"}]},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，昆明市","background":"/img/location.png","backgroundDark":"/img/locationDark.png"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2003,"selfInfoTips2":"云南大学","selfInfoContent2":"计算机科学与技术","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"xingxing的日常。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"/img/beautifulImg.jpg","essay_list":[{"content":"发现一个免费拿图的网站诶，还是bing好用，垃圾百度！但是好像要翻墙才可以下载原图，不过可以直接复制图片地址，然后用迅雷下载，也是可以的（图片大小翻五倍）。","date":"2023/11/31","image":["/img/essayImg/pixabay.png"],"link":"https://pixabay.com/zh/"},{"content":"寒假实习求职顺利（求神拜佛）","date":"2023/12/2"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}],"bangumis":{"wantWatch":[{"title":"百妖谱 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/5424062d0821f89ea549533d8a2c3cfff2076766.png","totalCount":"全12话","id":28230717,"follow":"527.1 万","view":"1.2 亿","danmaku":"47.2 万","coin":"42.5 万","score":9.2,"des":"桃都的灵医桃夭带着小和尚磨牙、第一季收服的小狐妖、桃都老邻居柳公子一起继续第一季的故事，为了寻找失踪的百妖谱而云游四方，在途中遇到应声、化蛇、媪姬、照海四个妖怪，为妖怪治疗各种疑难杂症。..."},{"title":"伍六七之玄武国篇","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/00843865ea13702eccc4efd64c313fd4c8029c6b.jpg","totalCount":"全10话","id":28232253,"follow":"1031.1 万","view":"4.7 亿","danmaku":"186.3 万","coin":"405.6 万","score":9.8,"des":"为了保护小鸡岛居民和这里平静的生活，伍六七和他的伙伴大保和小飞开启了去往玄武国的冒险旅程，去寻找身世的真相和解救小岛的办法，等待他们的又将是更多的未知与奇遇。..."},{"title":"伍六七之暗影宿命","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/6e5c5848ff8943fd6366e943a4f75b98598c50c6.png","totalCount":"全10话","id":28412536,"follow":"1250.4 万","view":"5.1 亿","danmaku":"110.7 万","coin":"410.9 万","score":9.2,"des":"随着伍六七回到玄武国寻找他的身世，亦引起了七大暗影刺客的追捕。然而每一位暗影刺客都带着不同的目的和不同的过去，青凤的阴谋也在此浮出了水面。而此时等待着小鸡岛上的人民，又将是另一个危机，伍六七将如何面对..."}],"watching":[{"title":"灵笼 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cf5f6595ece017215e7d61482f022094479dff37.png","totalCount":"-","id":21123554,"follow":"910.5 万","view":"1586.9 万","danmaku":"7.0 万","coin":"35.1 万","score":"-","des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."},{"title":"灵笼","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cfab7e0fbdb4786ff4e885d050b7cf37f8829486.png","totalCount":"全16话","id":23432,"follow":"903.9 万","view":"6.1 亿","danmaku":"674.4 万","coin":"677.7 万","score":9.6,"des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."}],"watched":[{"title":"时光代理人","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/1fe1cd0ec59b790fea83a5726cdc0fa3189c4394.png","totalCount":"全24话","id":28230742,"follow":"879.2 万","view":"5.0 亿","danmaku":"399.9 万","coin":"418.4 万","score":9.7,"des":"为了找到一系列罪案的操纵者，程小时求助于肖力，找寻一切藏匿于暗中的蛛丝马迹。但是拥有未知超能力的凶手在阴影之中，也从没有停止过阴谋的脚步。神秘能力者如影随形，身边伙伴接连遇害，程小时屡次身陷险境。随着..."},{"title":"元龙 第三季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/b3a9b5975059e074593b9381322ad8c423be7b89.png","totalCount":"全16话","id":28235400,"follow":"620.5 万","view":"1.5 亿","danmaku":"24.0 万","coin":"10.7 万","score":6.8,"des":"王胜于现代世界醒来，一切是如此真实而又如梦似幻。皇城遗女，戴家少主的出现更让局势扑朔迷离。而一场由小搏大的赌局，也让王胜渐渐意识到这不仅仅是他和戴家少主两个人的较量。恰时逢盛宴，天下汇集，王胜不得不再..."},{"title":"三体","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/9870f898b8a39bbb8048f34317f8d78a02cc1770.png","totalCount":"全15话","id":4315402,"follow":"690.6 万","view":"6.2 亿","danmaku":"179.3 万","coin":"230.7 万","score":8.2,"des":"无数细线横亘在星空之中，如同一把巨大的刷子。三体星舰队将于400年后抵达。遥远蝴蝶扇动着翅膀，也改变了罗辑的命运，轰然打开的门后是世界中心——面壁计划开启。同时，智子所创建的破壁室内，破壁人一一就位…..."},{"title":"狐妖小红娘","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/cbb20ee03e97a9f3ad2e1506a10fd1271f1c584a.jpg","totalCount":"全100话","id":2543,"follow":"691.5 万","view":"8.7 亿","danmaku":"1052.9 万","coin":"259.8 万","score":9.5,"des":"根据古典小说记载，世上有人有妖，妖会与人相恋，妖寿命千年，人的寿命有限，人死了，妖活着。人会投胎转世，但投胎以后不记得上辈子的爱。妖如果痴情的话，就去找狐妖“购买”一项服务，让投胎转世的人回忆起前世的..."}]}}},"cover_type":"img","excerpt":"","more":"<blockquote>\n<p>相信很多react初学者都有一段刻骨铭心的数据流学习经历，不用多说，从redux到mobx再到dva，真的很痛苦，全局数据流作为react开发中必不可少的一环，当然是越简单越好，所以，model诞生了，作为umi Max的内置全局数据流方案，他是我目前见过最简易的，相信也是公认最简易的</p>\n</blockquote>\n<h3 id=\"umi-max——-model简介\"><a href=\"#umi-max——-model简介\" class=\"headerlink\" title=\"umi max——-model简介\"></a>umi max——-model简介</h3><p><code>@umi/max</code> 内置了<strong>数据流管理</strong>插件，它是一种基于 <code>hooks</code> 范式的轻量级数据管理方案，可以在 Umi 项目中管理全局的共享数据。</p>\n<h3 id=\"model使用\"><a href=\"#model使用\" class=\"headerlink\" title=\"model使用\"></a>model使用</h3><ol>\n<li>创建model<br>数据流管理插件采用约定式目录结构，我们约定可以在 <code>src/models</code>, <code>src/pages/xxxx/models/</code>目录中，和 <code>src/pages/xxxx/model.&#123;js,jsx,ts,tsx&#125;</code> 文件引入 Model 文件。 Model 文件允许使用 <code>.(tsx|ts|jsx|js)</code> 四种后缀格式，<strong>命名空间（namespace）</strong>  生成规则如下。</li>\n</ol>\n<p><img src=\"/../images/umi-max%E7%9A%84%E7%AE%80%E6%98%93%E6%95%B0%E6%8D%AE%E6%B5%81%E6%96%B9%E6%A1%88-1701680109557.png\" alt=\"2\"></p>\n<p><code>此处恰恰体现了model这种全局数据流方案最最最令人震惊的一点-------他就是自定义一个hooks，没有其他任何所谓的“黑魔法”</code></p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// src/models/userModel.ts</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> () =&gt; &#123;</span><br><span class=\"line\"><span class=\"keyword\">const</span> user = &#123; <span class=\"attr\">username</span>: <span class=\"string\">&#x27;umi&#x27;</span>, </span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">return</span> &#123; user &#125;;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><code>注意此处一定要写成函数式写法，不要形成dva惯性，写成下面这样（不要问我怎么知道的，我被折磨几天）</code></p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">    <span class=\"attr\">namespace</span>: <span class=\"string\">&#x27;write&#x27;</span>,</span><br></pre></td></tr></table></figure>\n<p>umi官网也给了很足的提示</p>\n<p><img src=\"/../images/umi-max%E7%9A%84%E7%AE%80%E6%98%93%E6%95%B0%E6%8D%AE%E6%B5%81%E6%96%B9%E6%A1%88-1701680121582.png\" alt=\"1\"></p>\n<p>2.model的高级使用</p>\n<ul>\n<li>Model中是允许使用其他hooks的，这就意味着你直接把塔当成一个没有return的函数组件，随便写函数</li>\n</ul>\n<p>官网告诉你可以这样用</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// src/models/counterModel.ts</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; useState, useCallback &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;react&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> [counter, setCounter] = <span class=\"title function_\">useState</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> increment = <span class=\"title function_\">useCallback</span>(<span class=\"function\">() =&gt;</span> <span class=\"title function_\">setCounter</span>(<span class=\"function\">(<span class=\"params\">c</span>) =&gt;</span> c + <span class=\"number\">1</span>), []);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> decrement = <span class=\"title function_\">useCallback</span>(<span class=\"function\">() =&gt;</span> <span class=\"title function_\">setCounter</span>(<span class=\"function\">(<span class=\"params\">c</span>) =&gt;</span> c - <span class=\"number\">1</span>), []);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; counter, increment, decrement &#125;;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>我告诉你不仅可以定义hook，还可以这样用</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> [name, setName] = useState&lt;<span class=\"built_in\">string</span>&gt;(<span class=\"variable constant_\">DEFAULT_NAME</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> <span class=\"title function_\">test</span>=(<span class=\"params\">value:<span class=\"built_in\">string</span></span>)=&gt;&#123;</span><br><span class=\"line\">   <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(value)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    name,</span><br><span class=\"line\">    setName,</span><br><span class=\"line\">    test</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p><code>是不是感觉瞬间明朗起来</code><br>3. 使用model<br>   <code>其实就一行简单代码，你函数return了什么，就可以用什么</code></p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> &#123; user, loading &#125; = <span class=\"title function_\">useModel</span>(<span class=\"string\">&#x27;userModel&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<p>4.一点性能优化</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// src/components/CounterActions/index.tsx</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; useModel &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;umi&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; add, minus &#125; = <span class=\"title function_\">useModel</span>(<span class=\"string\">&#x27;counterModel&#x27;</span>, <span class=\"function\">(<span class=\"params\">model</span>) =&gt;</span> (&#123;</span><br><span class=\"line\">    <span class=\"attr\">add</span>: model.<span class=\"property\">increment</span>,</span><br><span class=\"line\">    <span class=\"attr\">minus</span>: model.<span class=\"property\">decrement</span>,</span><br><span class=\"line\">  &#125;));</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">          <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;add&#125;</span>&gt;</span>add by 1<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">  <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;minus&#125;</span>&gt;</span>minus by 1<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n"},{"title":"回溯——flood fill、字符串","keywords":"就业, 回溯, 刷题","description":"回溯章节的flood fill、字符串全刷篇","top_img":"/img/suanfa.png","comments":1,"cover":"/img/suanfa.png","copyright_author":"xingxing","copyright_author_href":"www.staraway.asia","copyright_info":"可转载哦","date":"2023-10-05T08:51:49.000Z","_content":"\n\n> 回溯算法初探————flood fill、字符串\n\n\n## 整体解题步骤\n回溯算法有统一的代码解方案\n1. 确定题解`res`格式和部分可能解`temp`格式\n\n```java\n// res\nList<List<Integer>> res = new ArrayList<>();\n// temp\nDeque<Integer> path = new ArrayDeque<>(len);\n```\n2. 确定递归调用方法\n\n```java\nbackTrack(nums, res, temp, 0, length, unused);\n```\n3. 指定递归终止条件\n\n```java\n        if (depth == len) {\n            res.add(new ArrayList<>(path));\n            return;\n        }\n```\n4. 确定回溯位置\n\n```java\n        for (int i = 0; i < len; i++) {\n                path.addLast(nums[i]);\n                dfs(nums, len, depth + 1, path, used, res);\n                path.removeLast();\n            }\n        }\n```\n\n`往往还涉及到unused数组的使用或者begin变量，以防止重复情况`\n\n\n#### [17. 电话号码的字母组合（中等）](https://leetcode-cn.com/problems/letter-combinations-of-a-phone-number/)\n\n- 题目介绍\n\n\n![1](../images/回溯——排列、组合、子集-1701680751840.png)\n\n- 解题思路\n\n1. 将电话簿信息填入哈希表\n\n```java\n        HashMap<Character, String> map = new HashMap<>();\n        map.put('2', \"abc\");\n        map.put('3', \"def\");\n        map.put('4', \"ghi\");\n        map.put('5', \"jkl\");\n        map.put('6', \"mno\");\n        map.put('7', \"pqrs\");\n        map.put('8', \"tuv\");\n        map.put('9', \"wxyz\");\n```\n2. 每个数字对应的字母向后递归回溯\n\n```java\n            char c = digits.charAt(index);\n            String s = map.get(c);\n            for (int i = 0; i < s.length(); i++) {\n                stringBuilder.append(s.charAt(i));\n                backTrace(digits, map, index + 1, stringBuilder, res);\n                stringBuilder.deleteCharAt(index);\n            }\n```\n\n- 完整代码\n\n```java\nclass Solution {\n    public List<String> letterCombinations(String digits) {\n        // 创建一个HashMap用于存储数字与对应的字符组合\n        HashMap<Character, String> map = new HashMap<>();\n        map.put('2', \"abc\");\n        map.put('3', \"def\");\n        map.put('4', \"ghi\");\n        map.put('5', \"jkl\");\n        map.put('6', \"mno\");\n        map.put('7', \"pqrs\");\n        map.put('8', \"tuv\");\n        map.put('9', \"wxyz\");\n\n        // 如果输入的字符串长度为0，直接返回一个空的ArrayList\n        if (digits.length()==0){\n            return new ArrayList<>();\n        }\n\n        // 创建一个ArrayList用于存储结果\n        ArrayList<String> res = new ArrayList<>();\n\n        // 创建一个StringBuilder用于构建字符组合\n        StringBuilder stringBuilder = new StringBuilder();\n\n        // 调用backTrace方法进行回溯计算\n        backTrace(digits, map, 0, stringBuilder, res);\n\n        // 返回结果\n        return res;\n    }\n\n    // 回溯函数，用于生成所有可能的字符组合\n    private void backTrace(String digits, HashMap<Character, String> map, int index, StringBuilder stringBuilder, ArrayList<String> res) {\n        // 如果字符组合的长度等于输入字符串的长度，说明已经生成了一个完整的字符组合，将其添加到结果列表中\n        if (stringBuilder.length() == digits.length()) {\n            res.add(stringBuilder.toString());\n        } else {\n            // 获取当前索引对应的数字字符\n            char c = digits.charAt(index);\n            // 根据数字字符获取对应的字符组合\n            String s = map.get(c);\n            // 遍历字符组合中的每个字符\n            for (int i = 0; i < s.length(); i++) {\n                // 将当前字符添加到字符串构建器中\n                stringBuilder.append(s.charAt(i));\n                // 递归调用回溯函数，将索引加1，继续生成下一个字符组合\n                backTrace(digits, map, index + 1, stringBuilder, res);\n                // 回溯，删除刚刚添加的字符，尝试生成其他字符组合\n                stringBuilder.deleteCharAt(index);\n            }\n        }\n    }\n}\n```\n\n#### [784. 字母大小写全排列（中等）](https://leetcode-cn.com/problems/letter-case-permutation/)\n\n- 题目介绍\n\n\n![2](../images/回溯——排列、组合、子集-1701680779347.png)\n\n- 解题思路\n\n1. 确认当前位数的字符是否为字母，分区向后递归回溯\n\n```java\n            if (c - 'A' <= 26 && c - 'A' >= 0) {\n                for (int i = 0; i < 2; i++) {\n                    if (i == 1) {\n                        temp.append(c);\n                        backTrace(s, res, temp, index+1);\n                        temp.deleteCharAt(index);\n                    } else {\n                        temp.append((char)(c + 32));\n                        backTrace(s, res, temp, index+1);\n                        temp.deleteCharAt(index);\n                    }\n                }\n```\n\n- 完整代码\n\n```java\nclass Solution {\n    public List<String> letterCasePermutation(String s) {\n        // 创建一个StringBuilder用于临时存储字符组合\n        StringBuilder temp = new StringBuilder();\n        // 创建一个ArrayList用于存储结果\n        ArrayList<String> res = new ArrayList<>();\n        // 调用backTrace方法进行回溯计算\n        backTrace(s, res, temp, 0);\n        // 返回结果\n        return res;\n    }\n\n    // 回溯函数，用于生成所有可能的字符组合\n    private void backTrace(String s, ArrayList<String> res, StringBuilder temp, int index) {\n        // 如果临时字符组合的长度等于输入字符串的长度，说明已经生成了一个完整的字符组合，将其添加到结果列表中\n        if (temp.length() == s.length()) {\n            res.add(temp.toString());\n        } else {\n            // 获取当前索引对应的字符\n            char c = s.charAt(index);\n            // 判断字符是否为大写字母\n            if (c - 'A' <= 26 && c - 'A' >= 0) {\n                // 遍历两种情况：保持原字符和转换为小写字母\n                for (int i = 0; i < 2; i++) {\n                    if (i == 1) {\n                        // 保持原字符\n                        temp.append(c);\n                        // 递归调用回溯函数，将索引加1，继续生成下一个字符组合\n                        backTrace(s, res, temp, index+1);\n                        // 回溯，删除刚刚添加的字符，尝试生成其他字符组合\n                        temp.deleteCharAt(index);\n                    } else {\n                        // 转换为小写字母\n                        temp.append((char)(c + 32));\n                        // 递归调用回溯函数，将索引加1，继续生成下一个字符组合\n                        backTrace(s, res, temp, index+1);\n                        // 回溯，删除刚刚添加的字符，尝试生成其他字符组合\n                        temp.deleteCharAt(index);\n                    }\n                }\n            }\n            // 判断字符是否为小写字母\n            else if (c - 'a' <= 26 && c - 'a' >= 0) {\n                // 遍历两种情况：保持原字符和转换为大写字母\n                for (int i = 0; i < 2; i++) {\n                    if (i == 1) {\n                        // 保持原字符\n                        temp.append(c);\n                        // 递归调用回溯函数，将索引加1，继续生成下一个字符组合\n                        backTrace(s, res, temp, index+1);\n                        // 回溯，删除刚刚添加的字符，尝试生成其他字符组合\n                        temp.deleteCharAt(index);\n                    } else {\n                        // 转换为大写字母\n                        temp.append((char) (c - 32));\n                        // 递归调用回溯函数，将索引加1，继续生成下一个字符组合\n                        backTrace(s, res, temp, index+1);\n                        // 回溯，删除刚刚添加的字符，尝试生成其他字符组合\n                        temp.deleteCharAt(index);\n                    }\n                }\n            } else {\n                // 如果字符不是字母，则保持原字符\n                temp.append(c);\n                // 递归调用回溯函数，将索引加1，继续生成下一个字符组合\n                backTrace(s, res, temp, index+1);\n                // 回溯，删除刚刚添加的字符，尝试生成其他字符组合\n                temp.deleteCharAt(index);\n            }\n        }\n    }\n}\nclass Solution {\n    public List<String> letterCasePermutation(String s) {\n        // 创建一个StringBuilder用于临时存储字符组合\n        StringBuilder temp = new StringBuilder();\n        // 创建一个ArrayList用于存储结果\n        ArrayList<String> res = new ArrayList<>();\n        // 调用backTrace方法进行回溯计算\n        backTrace(s, res, temp, 0);\n        // 返回结果\n        return res;\n    }\n\n    // 回溯函数，用于生成所有可能的字符组合\n    private void backTrace(String s, ArrayList<String> res, StringBuilder temp, int index) {\n        // 如果临时字符组合的长度等于输入字符串的长度，说明已经生成了一个完整的字符组合，将其添加到结果列表中\n        if (temp.length() == s.length()) {\n            res.add(temp.toString());\n        } else {\n            // 获取当前索引对应的字符\n            char c = s.charAt(index);\n            // 判断字符是否为大写字母\n            if (c - 'A' <= 26 && c - 'A' >= 0) {\n                // 遍历两种情况：保持原字符和转换为小写字母\n                for (int i = 0; i < 2; i++) {\n                    if (i == 1) {\n                        // 保持原字符\n                        temp.append(c);\n                        // 递归调用回溯函数，将索引加1，继续生成下一个字符组合\n                        backTrace(s, res, temp, index+1);\n                        // 回溯，删除刚刚添加的字符，尝试生成其他字符组合\n                        temp.deleteCharAt(index);\n                    } else {\n                        // 转换为小写字母\n                        temp.append((char)(c + 32));\n                        // 递归调用回溯函数，将索引加1，继续生成下一个字符组合\n                        backTrace(s, res, temp, index+1);\n                        // 回溯，删除刚刚添加的字符，尝试生成其他字符组合\n                        temp.deleteCharAt(index);\n                    }\n                }\n            }\n            // 判断字符是否为小写字母\n            else if (c - 'a' <= 26 && c - 'a' >= 0) {\n                // 遍历两种情况：保持原字符和转换为大写字母\n                for (int i = 0; i < 2; i++) {\n                    if (i == 1) {\n                        // 保持原字符\n                        temp.append(c);\n                        // 递归调用回溯函数，将索引加1，继续生成下一个字符组合\n                        backTrace(s, res, temp, index+1);\n                        // 回溯，删除刚刚添加的字符，尝试生成其他字符组合\n                        temp.deleteCharAt(index);\n                    } else {\n                        // 转换为大写字母\n                        temp.append((char) (c - 32));\n                        // 递归调用回溯函数，将索引加1，继续生成下一个字符组合\n                        backTrace(s, res, temp, index+1);\n                        // 回溯，删除刚刚添加的字符，尝试生成其他字符组合\n                        temp.deleteCharAt(index);\n                    }\n                }\n            } else {\n                // 如果字符不是字母，则保持原字符\n                temp.append(c);\n                // 递归调用回溯函数，将索引加1，继续生成下一个字符组合\n                backTrace(s, res, temp, index+1);\n                // 回溯，删除刚刚添加的字符，尝试生成其他字符组合\n                temp.deleteCharAt(index);\n            }\n        }\n    }\n}\n```\n\n#### [22. 括号生成（中等）](https://leetcode-cn.com/problems/generate-parentheses/)\n\n- 题目介绍\n\n\n![4](../images/回溯——排列、组合、子集-1701680799652.png)\n\n- 解题思路\n\n1. 该题结果就两种字符类型，且左括号和右括号数相等，考虑分区\n\n```java\n        backTrace(res, temp, n, n);\n```\n\n2. 左括号在前，所有让左括号先作递归回溯\n\n```java\n        if (left > 0) {\n            temp.append(\"(\");\n            backTrace(res, temp, left - 1, right);\n            temp.deleteCharAt(temp.length() - 1);\n        }\n\n        if (right > 0) {\n            temp.append(\")\");\n            backTrace(res, temp, left, right - 1);\n            temp.deleteCharAt(temp.length() - 1);\n        }\n```\n\n3. 当右括号数大于左括号时进行剪枝，防止右括号在左括号前面（`不匹配`）的情况\n```\n        if (left>right){\n            return;\n        }\n```\n\n- 完整代码\n\n```java\nclass Solution {\n    public List<String> generateParenthesis(int n) {\n        // 创建一个ArrayList用于存储结果\n        ArrayList<String> res = new ArrayList<>();\n        // 创建一个StringBuilder用于临时存储括号组合\n        StringBuilder temp = new StringBuilder();\n\n        // 调用backTrace方法进行回溯计算\n\n        // 返回结果\n        return res;\n    }\n\n    // 回溯函数，用于生成有效的括号组合\n    private void backTrace(ArrayList<String> res, StringBuilder temp, int left, int right) {\n        // 如果左括号和右括号都用完了，说明已经生成了一个有效的括号组合，将其添加到结果列表中\n        if (left == 0 && right == 0) {\n            res.add(temp.toString());\n        }\n\n        // 如果左括号的数量大于右括号的数量，说明生成的括号组合是无效的，直接返回\n        if (left > right) {\n            return;\n        }\n\n        // 如果还有剩余的左括号，可以添加一个左括号\n        if (left > 0) {\n            temp.append(\"(\");\n            // 递归调用回溯函数，将左括号的数量减1，继续生成下一个括号组合\n            backTrace(res, temp, left - 1, right);\n            // 回溯，删除刚刚添加的左括号，尝试生成其他括号组合\n            temp.deleteCharAt(temp.length() - 1);\n        }\n\n        // 如果还有剩余的右括号，可以添加一个右括号\n        if (right > 0) {\n            temp.append(\")\");\n            // 递归调用回溯函数，将右括号的数量减1，继续生成下一个括号组合\n            backTrace(res, temp, left, right - 1);\n            // 回溯，删除刚刚添加的右括号，尝试生成其他括号组合\n            temp.deleteCharAt(temp.length() - 1);\n        }\n    }\n}\n```\n\n####  [733. 图像渲染（Flood Fill，中等）](https://leetcode-cn.com/problems/flood-fill/)\n\n- 题目介绍\n\n\n![6](../images/回溯——排列、组合、子集-1701680821919.png)\n\n- 解题思路\n\n1. 设立四个方向的跳跃数组，向四周递归回溯\n\n```java\n    int[] dx = {0, 0, 1, -1};\n    int[] dy = {1, -1, 0, 0};\n\n\n        if (image[sr][sc] != preColor) {\n            return;\n        }\n        image[sr][sc] = color;\n        for (int i = 0; i < 4; i++) {\n            int newSr = sr + dx[i];\n            int newSc = sc + dy[i];\n            dfs(image, newSr, newSc, color, preColor);\n        }\n```\n\n- 完整代码\n\n```java\nclass Solution {\n    // 定义水平方向的增量数组\n    int[] dx = {0, 0, 1, -1};\n    // 定义垂直方向的增量数组\n    int[] dy = {1, -1, 0, 0};\n\n    public int[][] floodFill(int[][] image, int sr, int sc, int color) {\n        // 获取起始点的颜色\n        int preColor = image[sr][sc];\n        // 如果起始点的颜色已经是目标颜色，直接返回图像\n        if (preColor == color) {\n            return image;\n        }\n        // 调用dfs方法进行深度优先搜索\n        dfs(image, sr, sc, color, preColor);\n        // 返回修改后的图像\n        return image;\n    }\n\n    // 深度优先搜索函数\n    private void dfs(int[][] image, int sr, int sc, int color, int preColor) {\n        // 判断当前点是否越界\n        if (sr >= image.length || sr < 0 || sc >= image[0].length || sc < 0) {\n            return;\n        }\n        // 判断当前点的颜色是否与起始点的颜色相同\n        if (image[sr][sc] != preColor) {\n            return;\n        }\n        // 修改当前点的颜色为目标颜色\n        image[sr][sc] = color;\n        // 遍历四个方向，进行递归搜索\n        for (int i = 0; i < 4; i++) {\n            int newSr = sr + dx[i];\n            int newSc = sc + dy[i];\n            dfs(image, newSr, newSc, color, preColor);\n        }\n    }\n}\n```\n\n####  [200. 岛屿数量（中等）](https://leetcode-cn.com/problems/number-of-islands/)\n\n- 题目介绍\n\n\n![7](../images/回溯——排列、组合、子集-1701680842452.png)\n\n- 解题思路\n\n\n1.每找到一块陆地边界，则进行递归回溯操作\n\n```java\n        for (int i = 0; i < grid.length; i++) {\n            for (int j = 0; j < grid[0].length; j++) {\n                if (grid[i][j] == '1') {\n                    dfs(grid, i, j);\n                    count++;\n                }\n            }\n        }\n```\n\n- 完整代码\n\n```java\nclass Solution {\n    // 定义水平方向的增量数组\n    int[] dx = {1, -1, 0, 0};\n    // 定义垂直方向的增量数组\n    int[] dy = {0, 0, 1, -1};\n    // 定义岛屿数量的计数器\n    int count;\n\n    public int numIslands(char[][] grid) {\n        // 初始化岛屿数量计数器\n        this.count = 0;\n        // 遍历整个二维网格\n        for (int i = 0; i < grid.length; i++) {\n            for (int j = 0; j < grid[0].length; j++) {\n                // 如果当前位置是陆地，则进行深度优先搜索\n                if (grid[i][j] == '1') {\n                    dfs(grid, i, j);\n                    // 搜索完成后，岛屿数量加1\n                    count++;\n                }\n            }\n        }\n        // 返回岛屿数量\n        return count;\n    }\n\n    // 深度优先搜索函数\n    private void dfs(char[][] grid, int i, int j) {\n        // 判断当前位置是否越界\n        if (i < 0 || j < 0 || i >= grid.length || j >= grid[0].length) {\n            return;\n        }\n        // 如果当前位置是水域，则直接返回\n        if (grid[i][j] == '0') {\n            return;\n        }\n        // 将当前位置标记为水域\n        grid[i][j] = '0';\n        // 遍历四个方向，进行递归搜索\n        for (int k = 0; k < 4; k++) {\n            int sx = dx[k] + i;\n            int sy = dy[k] + j;\n            dfs(grid, sx, sy);\n        }\n    }\n}\n```\n\n####   [130. 被围绕的区域（中等）](https://leetcode-cn.com/problems/surrounded-regions/)\n\n- 题目介绍\n\n\n![8](../images/回溯——排列、组合、子集-1701680859373.png)\n\n- 解题思路\n\n1.对原来的数组进行拷贝，遍历拷贝数组的边界点找值进行递归回溯\n```java\n        char[][] copyOf=new char[board.length][board[0].length];\n        for (int i = 0; i < board.length; i++) {\n            for (int j = 0; j < board[0].length; j++) {\n                copyOf[i][j]=board[i][j];\n            }\n        }\n        for (int i = 0; i < board.length; i++) {\n            dfs(copyOf, i, 0);\n            dfs(copyOf, i, board[0].length - 1);\n        }\n        for (int i = 0; i < board[0].length; i++) {\n            dfs(copyOf, 0, i);\n            dfs(copyOf, board.length - 1, i);\n        }\n```\n2. 此时拷贝数组中剩余的点则为答案值，对原数组进行赋值操作\n\n```java\n        for (int i = 0; i < board.length; i++) {\n            for (int j = 0; j < board[0].length; j++) {\n                if (copyOf[i][j]=='O'){\n                    board[i][j]='X';\n                }\n            }\n        }\n```\n\n- 完整代码\n\n```java\nclass Solution {\n    // 定义水平方向的增量数组\n    int[] dx = {1, -1, 0, 0};\n    // 定义垂直方向的增量数组\n    int[] dy = {0, 0, 1, -1};\n\n    public void solve(char[][] board) {\n        // 创建一个与原始二维数组相同大小的副本数组\n        char[][] copyOf = new char[board.length][board[0].length];\n        // 将原始数组的值复制到副本数组中\n        for (int i = 0; i < board.length; i++) {\n            for (int j = 0; j < board[0].length; j++) {\n                copyOf[i][j] = board[i][j];\n            }\n        }\n        // 遍历副本数组的边界，对边界上的 'O' 进行深度优先搜索\n        for (int i = 0; i < board.length; i++) {\n            dfs(copyOf, i, 0);\n            dfs(copyOf, i, board[0].length - 1);\n        }\n        for (int i = 0; i < board[0].length; i++) {\n            dfs(copyOf, 0, i);\n            dfs(copyOf, board.length - 1, i);\n        }\n        // 遍历原始数组，将副本数组中的 'O' 修改为 'X'\n        for (int i = 0; i < board.length; i++) {\n            for (int j = 0; j < board[0].length; j++) {\n                if (copyOf[i][j] == 'O') {\n                    board[i][j] = 'X';\n                }\n            }\n        }\n    }\n\n    // 深度优先搜索函数\n    private void dfs(char[][] board, int i, int j) {\n        // 判断当前位置是否越界\n        if (i < 0 || j < 0 || i >= board.length || j >= board[0].length) {\n            return;\n        }\n        // 如果当前位置为 'X'，则直接返回\n        if (board[i][j] == 'X') {\n            return;\n        }\n        // 修改当前位置为 'X'\n        board[i][j] = 'X';\n        // 遍历四个方向，进行递归搜索\n        for (int k = 0; k < 4; k++) {\n            int sx = dx[k] + i;\n            int sy = dy[k] + j;\n            dfs(board, sx, sy);\n        }\n    }\n}\n```\n\n####   [79. 单词搜索（中等）](https://leetcode-cn.com/problems/word-search/)\n\n- 题目介绍\n\n\n![9](../images/回溯——排列、组合、子集-1701680879514.png)\n\n- 解题思路\n\n1. 在二维数组中找目标字符串的起始值，找到后对当前值置零进行递归，回溯时当值改回\n\n```java\n        if (chars[index] != board[i][j]) {\n            return;\n        }\n        if (index == length - 1) {\n            res = true;\n            return;\n        }\n        index += 1;\n        char pre = board[i][j];\n        board[i][j] = '0';\n        for (int k = 0; k < 4; k++) {\n            int newI = dx[k] + i;\n            int newJ = dy[k] + j;\n            dfs(board, newI, newJ, index, length, chars);\n        }\n        board[i][j] = pre;\n```\n- 设置全局bool变量，当找到完整字符串则赋值true\n\n```java\n int[] dx = {1, -1, 0, 0};\n    int[] dy = {0, 0, 1, -1};\n    boolean res = false;\n\n    public boolean exist(char[][] board, String word) {\n        char[] chars = word.toCharArray();\n        int length = chars.length;\n        for (int i = 0; i < board.length; i++) {\n            for (int j = 0; j < board[0].length; j++) {\n                if (chars[0] == board[i][j]) {\n                    dfs(board, i, j, 0, length, chars);\n                }\n            }\n        }\n        return res;\n    }\n```\n\n- 完整代码\n\n```java\nclass Solution {\n\n    // 定义水平方向的增量数组\n    int[] dx = {1, -1, 0, 0};\n    // 定义垂直方向的增量数组\n    int[] dy = {0, 0, 1, -1};\n    // 定义结果变量\n    boolean res = false;\n\n    public boolean exist(char[][] board, String word) {\n        // 将目标字符串转换为字符数组\n        char[] chars = word.toCharArray();\n        // 获取字符数组的长度\n        int length = chars.length;\n        // 遍历二维数组\n        for (int i = 0; i < board.length; i++) {\n            for (int j = 0; j < board[0].length; j++) {\n                // 如果第一个字符匹配，开始深度优先搜索\n                if (chars[0] == board[i][j]) {\n                    dfs(board, i, j, 0, length, chars);\n                }\n            }\n        }\n        // 返回结果\n        return res;\n    }\n\n    private void dfs(char[][] board,\n                     int i,\n                     int j,\n                     int index,\n                     int length,\n                     char[] chars) {\n        // 判断当前位置是否越界\n        if (i < 0 || j < 0 || i >= board.length || j >= board[0].length) {\n            return;\n        }\n        // 判断当前位置的字符是否匹配\n        if (chars[index] != board[i][j]) {\n            return;\n        }\n        // 如果已经匹配到目标字符串的最后一个字符，设置结果为 true，返回\n        if (index == length - 1) {\n            res = true;\n            return;\n        }\n        // 增加索引，保存当前位置的字符，将当前位置标记为已访问\n        index += 1;\n        char pre = board[i][j];\n        board[i][j] = '0';\n        // 遍历四个方向，进行递归搜索\n        for (int k = 0; k < 4; k++) {\n            int newI = dx[k] + i;\n            int newJ = dy[k] + j;\n            dfs(board, newI, newJ, index, length, chars);\n        }\n        // 将当前位置的字符恢复为之前的值\n        board[i][j] = pre;\n    }\n}\n```\n","source":"_posts/回溯——排列、组合、子集.md","raw":"---\ntitle: 回溯——flood fill、字符串\ntags:\n    - 就业 \n    - 回溯\n    - 刷题\ncategories: 算法\nkeywords: 就业, 回溯, 刷题\ndescription: 回溯章节的flood fill、字符串全刷篇\ntop_img: /img/suanfa.png\ncomments: true\ncover: /img/suanfa.png\ncopyright_author: xingxing\ncopyright_author_href: www.staraway.asia\ncopyright_info: 可转载哦\ndate: 2023-10-05 16:51:49\n---\n\n\n> 回溯算法初探————flood fill、字符串\n\n\n## 整体解题步骤\n回溯算法有统一的代码解方案\n1. 确定题解`res`格式和部分可能解`temp`格式\n\n```java\n// res\nList<List<Integer>> res = new ArrayList<>();\n// temp\nDeque<Integer> path = new ArrayDeque<>(len);\n```\n2. 确定递归调用方法\n\n```java\nbackTrack(nums, res, temp, 0, length, unused);\n```\n3. 指定递归终止条件\n\n```java\n        if (depth == len) {\n            res.add(new ArrayList<>(path));\n            return;\n        }\n```\n4. 确定回溯位置\n\n```java\n        for (int i = 0; i < len; i++) {\n                path.addLast(nums[i]);\n                dfs(nums, len, depth + 1, path, used, res);\n                path.removeLast();\n            }\n        }\n```\n\n`往往还涉及到unused数组的使用或者begin变量，以防止重复情况`\n\n\n#### [17. 电话号码的字母组合（中等）](https://leetcode-cn.com/problems/letter-combinations-of-a-phone-number/)\n\n- 题目介绍\n\n\n![1](../images/回溯——排列、组合、子集-1701680751840.png)\n\n- 解题思路\n\n1. 将电话簿信息填入哈希表\n\n```java\n        HashMap<Character, String> map = new HashMap<>();\n        map.put('2', \"abc\");\n        map.put('3', \"def\");\n        map.put('4', \"ghi\");\n        map.put('5', \"jkl\");\n        map.put('6', \"mno\");\n        map.put('7', \"pqrs\");\n        map.put('8', \"tuv\");\n        map.put('9', \"wxyz\");\n```\n2. 每个数字对应的字母向后递归回溯\n\n```java\n            char c = digits.charAt(index);\n            String s = map.get(c);\n            for (int i = 0; i < s.length(); i++) {\n                stringBuilder.append(s.charAt(i));\n                backTrace(digits, map, index + 1, stringBuilder, res);\n                stringBuilder.deleteCharAt(index);\n            }\n```\n\n- 完整代码\n\n```java\nclass Solution {\n    public List<String> letterCombinations(String digits) {\n        // 创建一个HashMap用于存储数字与对应的字符组合\n        HashMap<Character, String> map = new HashMap<>();\n        map.put('2', \"abc\");\n        map.put('3', \"def\");\n        map.put('4', \"ghi\");\n        map.put('5', \"jkl\");\n        map.put('6', \"mno\");\n        map.put('7', \"pqrs\");\n        map.put('8', \"tuv\");\n        map.put('9', \"wxyz\");\n\n        // 如果输入的字符串长度为0，直接返回一个空的ArrayList\n        if (digits.length()==0){\n            return new ArrayList<>();\n        }\n\n        // 创建一个ArrayList用于存储结果\n        ArrayList<String> res = new ArrayList<>();\n\n        // 创建一个StringBuilder用于构建字符组合\n        StringBuilder stringBuilder = new StringBuilder();\n\n        // 调用backTrace方法进行回溯计算\n        backTrace(digits, map, 0, stringBuilder, res);\n\n        // 返回结果\n        return res;\n    }\n\n    // 回溯函数，用于生成所有可能的字符组合\n    private void backTrace(String digits, HashMap<Character, String> map, int index, StringBuilder stringBuilder, ArrayList<String> res) {\n        // 如果字符组合的长度等于输入字符串的长度，说明已经生成了一个完整的字符组合，将其添加到结果列表中\n        if (stringBuilder.length() == digits.length()) {\n            res.add(stringBuilder.toString());\n        } else {\n            // 获取当前索引对应的数字字符\n            char c = digits.charAt(index);\n            // 根据数字字符获取对应的字符组合\n            String s = map.get(c);\n            // 遍历字符组合中的每个字符\n            for (int i = 0; i < s.length(); i++) {\n                // 将当前字符添加到字符串构建器中\n                stringBuilder.append(s.charAt(i));\n                // 递归调用回溯函数，将索引加1，继续生成下一个字符组合\n                backTrace(digits, map, index + 1, stringBuilder, res);\n                // 回溯，删除刚刚添加的字符，尝试生成其他字符组合\n                stringBuilder.deleteCharAt(index);\n            }\n        }\n    }\n}\n```\n\n#### [784. 字母大小写全排列（中等）](https://leetcode-cn.com/problems/letter-case-permutation/)\n\n- 题目介绍\n\n\n![2](../images/回溯——排列、组合、子集-1701680779347.png)\n\n- 解题思路\n\n1. 确认当前位数的字符是否为字母，分区向后递归回溯\n\n```java\n            if (c - 'A' <= 26 && c - 'A' >= 0) {\n                for (int i = 0; i < 2; i++) {\n                    if (i == 1) {\n                        temp.append(c);\n                        backTrace(s, res, temp, index+1);\n                        temp.deleteCharAt(index);\n                    } else {\n                        temp.append((char)(c + 32));\n                        backTrace(s, res, temp, index+1);\n                        temp.deleteCharAt(index);\n                    }\n                }\n```\n\n- 完整代码\n\n```java\nclass Solution {\n    public List<String> letterCasePermutation(String s) {\n        // 创建一个StringBuilder用于临时存储字符组合\n        StringBuilder temp = new StringBuilder();\n        // 创建一个ArrayList用于存储结果\n        ArrayList<String> res = new ArrayList<>();\n        // 调用backTrace方法进行回溯计算\n        backTrace(s, res, temp, 0);\n        // 返回结果\n        return res;\n    }\n\n    // 回溯函数，用于生成所有可能的字符组合\n    private void backTrace(String s, ArrayList<String> res, StringBuilder temp, int index) {\n        // 如果临时字符组合的长度等于输入字符串的长度，说明已经生成了一个完整的字符组合，将其添加到结果列表中\n        if (temp.length() == s.length()) {\n            res.add(temp.toString());\n        } else {\n            // 获取当前索引对应的字符\n            char c = s.charAt(index);\n            // 判断字符是否为大写字母\n            if (c - 'A' <= 26 && c - 'A' >= 0) {\n                // 遍历两种情况：保持原字符和转换为小写字母\n                for (int i = 0; i < 2; i++) {\n                    if (i == 1) {\n                        // 保持原字符\n                        temp.append(c);\n                        // 递归调用回溯函数，将索引加1，继续生成下一个字符组合\n                        backTrace(s, res, temp, index+1);\n                        // 回溯，删除刚刚添加的字符，尝试生成其他字符组合\n                        temp.deleteCharAt(index);\n                    } else {\n                        // 转换为小写字母\n                        temp.append((char)(c + 32));\n                        // 递归调用回溯函数，将索引加1，继续生成下一个字符组合\n                        backTrace(s, res, temp, index+1);\n                        // 回溯，删除刚刚添加的字符，尝试生成其他字符组合\n                        temp.deleteCharAt(index);\n                    }\n                }\n            }\n            // 判断字符是否为小写字母\n            else if (c - 'a' <= 26 && c - 'a' >= 0) {\n                // 遍历两种情况：保持原字符和转换为大写字母\n                for (int i = 0; i < 2; i++) {\n                    if (i == 1) {\n                        // 保持原字符\n                        temp.append(c);\n                        // 递归调用回溯函数，将索引加1，继续生成下一个字符组合\n                        backTrace(s, res, temp, index+1);\n                        // 回溯，删除刚刚添加的字符，尝试生成其他字符组合\n                        temp.deleteCharAt(index);\n                    } else {\n                        // 转换为大写字母\n                        temp.append((char) (c - 32));\n                        // 递归调用回溯函数，将索引加1，继续生成下一个字符组合\n                        backTrace(s, res, temp, index+1);\n                        // 回溯，删除刚刚添加的字符，尝试生成其他字符组合\n                        temp.deleteCharAt(index);\n                    }\n                }\n            } else {\n                // 如果字符不是字母，则保持原字符\n                temp.append(c);\n                // 递归调用回溯函数，将索引加1，继续生成下一个字符组合\n                backTrace(s, res, temp, index+1);\n                // 回溯，删除刚刚添加的字符，尝试生成其他字符组合\n                temp.deleteCharAt(index);\n            }\n        }\n    }\n}\nclass Solution {\n    public List<String> letterCasePermutation(String s) {\n        // 创建一个StringBuilder用于临时存储字符组合\n        StringBuilder temp = new StringBuilder();\n        // 创建一个ArrayList用于存储结果\n        ArrayList<String> res = new ArrayList<>();\n        // 调用backTrace方法进行回溯计算\n        backTrace(s, res, temp, 0);\n        // 返回结果\n        return res;\n    }\n\n    // 回溯函数，用于生成所有可能的字符组合\n    private void backTrace(String s, ArrayList<String> res, StringBuilder temp, int index) {\n        // 如果临时字符组合的长度等于输入字符串的长度，说明已经生成了一个完整的字符组合，将其添加到结果列表中\n        if (temp.length() == s.length()) {\n            res.add(temp.toString());\n        } else {\n            // 获取当前索引对应的字符\n            char c = s.charAt(index);\n            // 判断字符是否为大写字母\n            if (c - 'A' <= 26 && c - 'A' >= 0) {\n                // 遍历两种情况：保持原字符和转换为小写字母\n                for (int i = 0; i < 2; i++) {\n                    if (i == 1) {\n                        // 保持原字符\n                        temp.append(c);\n                        // 递归调用回溯函数，将索引加1，继续生成下一个字符组合\n                        backTrace(s, res, temp, index+1);\n                        // 回溯，删除刚刚添加的字符，尝试生成其他字符组合\n                        temp.deleteCharAt(index);\n                    } else {\n                        // 转换为小写字母\n                        temp.append((char)(c + 32));\n                        // 递归调用回溯函数，将索引加1，继续生成下一个字符组合\n                        backTrace(s, res, temp, index+1);\n                        // 回溯，删除刚刚添加的字符，尝试生成其他字符组合\n                        temp.deleteCharAt(index);\n                    }\n                }\n            }\n            // 判断字符是否为小写字母\n            else if (c - 'a' <= 26 && c - 'a' >= 0) {\n                // 遍历两种情况：保持原字符和转换为大写字母\n                for (int i = 0; i < 2; i++) {\n                    if (i == 1) {\n                        // 保持原字符\n                        temp.append(c);\n                        // 递归调用回溯函数，将索引加1，继续生成下一个字符组合\n                        backTrace(s, res, temp, index+1);\n                        // 回溯，删除刚刚添加的字符，尝试生成其他字符组合\n                        temp.deleteCharAt(index);\n                    } else {\n                        // 转换为大写字母\n                        temp.append((char) (c - 32));\n                        // 递归调用回溯函数，将索引加1，继续生成下一个字符组合\n                        backTrace(s, res, temp, index+1);\n                        // 回溯，删除刚刚添加的字符，尝试生成其他字符组合\n                        temp.deleteCharAt(index);\n                    }\n                }\n            } else {\n                // 如果字符不是字母，则保持原字符\n                temp.append(c);\n                // 递归调用回溯函数，将索引加1，继续生成下一个字符组合\n                backTrace(s, res, temp, index+1);\n                // 回溯，删除刚刚添加的字符，尝试生成其他字符组合\n                temp.deleteCharAt(index);\n            }\n        }\n    }\n}\n```\n\n#### [22. 括号生成（中等）](https://leetcode-cn.com/problems/generate-parentheses/)\n\n- 题目介绍\n\n\n![4](../images/回溯——排列、组合、子集-1701680799652.png)\n\n- 解题思路\n\n1. 该题结果就两种字符类型，且左括号和右括号数相等，考虑分区\n\n```java\n        backTrace(res, temp, n, n);\n```\n\n2. 左括号在前，所有让左括号先作递归回溯\n\n```java\n        if (left > 0) {\n            temp.append(\"(\");\n            backTrace(res, temp, left - 1, right);\n            temp.deleteCharAt(temp.length() - 1);\n        }\n\n        if (right > 0) {\n            temp.append(\")\");\n            backTrace(res, temp, left, right - 1);\n            temp.deleteCharAt(temp.length() - 1);\n        }\n```\n\n3. 当右括号数大于左括号时进行剪枝，防止右括号在左括号前面（`不匹配`）的情况\n```\n        if (left>right){\n            return;\n        }\n```\n\n- 完整代码\n\n```java\nclass Solution {\n    public List<String> generateParenthesis(int n) {\n        // 创建一个ArrayList用于存储结果\n        ArrayList<String> res = new ArrayList<>();\n        // 创建一个StringBuilder用于临时存储括号组合\n        StringBuilder temp = new StringBuilder();\n\n        // 调用backTrace方法进行回溯计算\n\n        // 返回结果\n        return res;\n    }\n\n    // 回溯函数，用于生成有效的括号组合\n    private void backTrace(ArrayList<String> res, StringBuilder temp, int left, int right) {\n        // 如果左括号和右括号都用完了，说明已经生成了一个有效的括号组合，将其添加到结果列表中\n        if (left == 0 && right == 0) {\n            res.add(temp.toString());\n        }\n\n        // 如果左括号的数量大于右括号的数量，说明生成的括号组合是无效的，直接返回\n        if (left > right) {\n            return;\n        }\n\n        // 如果还有剩余的左括号，可以添加一个左括号\n        if (left > 0) {\n            temp.append(\"(\");\n            // 递归调用回溯函数，将左括号的数量减1，继续生成下一个括号组合\n            backTrace(res, temp, left - 1, right);\n            // 回溯，删除刚刚添加的左括号，尝试生成其他括号组合\n            temp.deleteCharAt(temp.length() - 1);\n        }\n\n        // 如果还有剩余的右括号，可以添加一个右括号\n        if (right > 0) {\n            temp.append(\")\");\n            // 递归调用回溯函数，将右括号的数量减1，继续生成下一个括号组合\n            backTrace(res, temp, left, right - 1);\n            // 回溯，删除刚刚添加的右括号，尝试生成其他括号组合\n            temp.deleteCharAt(temp.length() - 1);\n        }\n    }\n}\n```\n\n####  [733. 图像渲染（Flood Fill，中等）](https://leetcode-cn.com/problems/flood-fill/)\n\n- 题目介绍\n\n\n![6](../images/回溯——排列、组合、子集-1701680821919.png)\n\n- 解题思路\n\n1. 设立四个方向的跳跃数组，向四周递归回溯\n\n```java\n    int[] dx = {0, 0, 1, -1};\n    int[] dy = {1, -1, 0, 0};\n\n\n        if (image[sr][sc] != preColor) {\n            return;\n        }\n        image[sr][sc] = color;\n        for (int i = 0; i < 4; i++) {\n            int newSr = sr + dx[i];\n            int newSc = sc + dy[i];\n            dfs(image, newSr, newSc, color, preColor);\n        }\n```\n\n- 完整代码\n\n```java\nclass Solution {\n    // 定义水平方向的增量数组\n    int[] dx = {0, 0, 1, -1};\n    // 定义垂直方向的增量数组\n    int[] dy = {1, -1, 0, 0};\n\n    public int[][] floodFill(int[][] image, int sr, int sc, int color) {\n        // 获取起始点的颜色\n        int preColor = image[sr][sc];\n        // 如果起始点的颜色已经是目标颜色，直接返回图像\n        if (preColor == color) {\n            return image;\n        }\n        // 调用dfs方法进行深度优先搜索\n        dfs(image, sr, sc, color, preColor);\n        // 返回修改后的图像\n        return image;\n    }\n\n    // 深度优先搜索函数\n    private void dfs(int[][] image, int sr, int sc, int color, int preColor) {\n        // 判断当前点是否越界\n        if (sr >= image.length || sr < 0 || sc >= image[0].length || sc < 0) {\n            return;\n        }\n        // 判断当前点的颜色是否与起始点的颜色相同\n        if (image[sr][sc] != preColor) {\n            return;\n        }\n        // 修改当前点的颜色为目标颜色\n        image[sr][sc] = color;\n        // 遍历四个方向，进行递归搜索\n        for (int i = 0; i < 4; i++) {\n            int newSr = sr + dx[i];\n            int newSc = sc + dy[i];\n            dfs(image, newSr, newSc, color, preColor);\n        }\n    }\n}\n```\n\n####  [200. 岛屿数量（中等）](https://leetcode-cn.com/problems/number-of-islands/)\n\n- 题目介绍\n\n\n![7](../images/回溯——排列、组合、子集-1701680842452.png)\n\n- 解题思路\n\n\n1.每找到一块陆地边界，则进行递归回溯操作\n\n```java\n        for (int i = 0; i < grid.length; i++) {\n            for (int j = 0; j < grid[0].length; j++) {\n                if (grid[i][j] == '1') {\n                    dfs(grid, i, j);\n                    count++;\n                }\n            }\n        }\n```\n\n- 完整代码\n\n```java\nclass Solution {\n    // 定义水平方向的增量数组\n    int[] dx = {1, -1, 0, 0};\n    // 定义垂直方向的增量数组\n    int[] dy = {0, 0, 1, -1};\n    // 定义岛屿数量的计数器\n    int count;\n\n    public int numIslands(char[][] grid) {\n        // 初始化岛屿数量计数器\n        this.count = 0;\n        // 遍历整个二维网格\n        for (int i = 0; i < grid.length; i++) {\n            for (int j = 0; j < grid[0].length; j++) {\n                // 如果当前位置是陆地，则进行深度优先搜索\n                if (grid[i][j] == '1') {\n                    dfs(grid, i, j);\n                    // 搜索完成后，岛屿数量加1\n                    count++;\n                }\n            }\n        }\n        // 返回岛屿数量\n        return count;\n    }\n\n    // 深度优先搜索函数\n    private void dfs(char[][] grid, int i, int j) {\n        // 判断当前位置是否越界\n        if (i < 0 || j < 0 || i >= grid.length || j >= grid[0].length) {\n            return;\n        }\n        // 如果当前位置是水域，则直接返回\n        if (grid[i][j] == '0') {\n            return;\n        }\n        // 将当前位置标记为水域\n        grid[i][j] = '0';\n        // 遍历四个方向，进行递归搜索\n        for (int k = 0; k < 4; k++) {\n            int sx = dx[k] + i;\n            int sy = dy[k] + j;\n            dfs(grid, sx, sy);\n        }\n    }\n}\n```\n\n####   [130. 被围绕的区域（中等）](https://leetcode-cn.com/problems/surrounded-regions/)\n\n- 题目介绍\n\n\n![8](../images/回溯——排列、组合、子集-1701680859373.png)\n\n- 解题思路\n\n1.对原来的数组进行拷贝，遍历拷贝数组的边界点找值进行递归回溯\n```java\n        char[][] copyOf=new char[board.length][board[0].length];\n        for (int i = 0; i < board.length; i++) {\n            for (int j = 0; j < board[0].length; j++) {\n                copyOf[i][j]=board[i][j];\n            }\n        }\n        for (int i = 0; i < board.length; i++) {\n            dfs(copyOf, i, 0);\n            dfs(copyOf, i, board[0].length - 1);\n        }\n        for (int i = 0; i < board[0].length; i++) {\n            dfs(copyOf, 0, i);\n            dfs(copyOf, board.length - 1, i);\n        }\n```\n2. 此时拷贝数组中剩余的点则为答案值，对原数组进行赋值操作\n\n```java\n        for (int i = 0; i < board.length; i++) {\n            for (int j = 0; j < board[0].length; j++) {\n                if (copyOf[i][j]=='O'){\n                    board[i][j]='X';\n                }\n            }\n        }\n```\n\n- 完整代码\n\n```java\nclass Solution {\n    // 定义水平方向的增量数组\n    int[] dx = {1, -1, 0, 0};\n    // 定义垂直方向的增量数组\n    int[] dy = {0, 0, 1, -1};\n\n    public void solve(char[][] board) {\n        // 创建一个与原始二维数组相同大小的副本数组\n        char[][] copyOf = new char[board.length][board[0].length];\n        // 将原始数组的值复制到副本数组中\n        for (int i = 0; i < board.length; i++) {\n            for (int j = 0; j < board[0].length; j++) {\n                copyOf[i][j] = board[i][j];\n            }\n        }\n        // 遍历副本数组的边界，对边界上的 'O' 进行深度优先搜索\n        for (int i = 0; i < board.length; i++) {\n            dfs(copyOf, i, 0);\n            dfs(copyOf, i, board[0].length - 1);\n        }\n        for (int i = 0; i < board[0].length; i++) {\n            dfs(copyOf, 0, i);\n            dfs(copyOf, board.length - 1, i);\n        }\n        // 遍历原始数组，将副本数组中的 'O' 修改为 'X'\n        for (int i = 0; i < board.length; i++) {\n            for (int j = 0; j < board[0].length; j++) {\n                if (copyOf[i][j] == 'O') {\n                    board[i][j] = 'X';\n                }\n            }\n        }\n    }\n\n    // 深度优先搜索函数\n    private void dfs(char[][] board, int i, int j) {\n        // 判断当前位置是否越界\n        if (i < 0 || j < 0 || i >= board.length || j >= board[0].length) {\n            return;\n        }\n        // 如果当前位置为 'X'，则直接返回\n        if (board[i][j] == 'X') {\n            return;\n        }\n        // 修改当前位置为 'X'\n        board[i][j] = 'X';\n        // 遍历四个方向，进行递归搜索\n        for (int k = 0; k < 4; k++) {\n            int sx = dx[k] + i;\n            int sy = dy[k] + j;\n            dfs(board, sx, sy);\n        }\n    }\n}\n```\n\n####   [79. 单词搜索（中等）](https://leetcode-cn.com/problems/word-search/)\n\n- 题目介绍\n\n\n![9](../images/回溯——排列、组合、子集-1701680879514.png)\n\n- 解题思路\n\n1. 在二维数组中找目标字符串的起始值，找到后对当前值置零进行递归，回溯时当值改回\n\n```java\n        if (chars[index] != board[i][j]) {\n            return;\n        }\n        if (index == length - 1) {\n            res = true;\n            return;\n        }\n        index += 1;\n        char pre = board[i][j];\n        board[i][j] = '0';\n        for (int k = 0; k < 4; k++) {\n            int newI = dx[k] + i;\n            int newJ = dy[k] + j;\n            dfs(board, newI, newJ, index, length, chars);\n        }\n        board[i][j] = pre;\n```\n- 设置全局bool变量，当找到完整字符串则赋值true\n\n```java\n int[] dx = {1, -1, 0, 0};\n    int[] dy = {0, 0, 1, -1};\n    boolean res = false;\n\n    public boolean exist(char[][] board, String word) {\n        char[] chars = word.toCharArray();\n        int length = chars.length;\n        for (int i = 0; i < board.length; i++) {\n            for (int j = 0; j < board[0].length; j++) {\n                if (chars[0] == board[i][j]) {\n                    dfs(board, i, j, 0, length, chars);\n                }\n            }\n        }\n        return res;\n    }\n```\n\n- 完整代码\n\n```java\nclass Solution {\n\n    // 定义水平方向的增量数组\n    int[] dx = {1, -1, 0, 0};\n    // 定义垂直方向的增量数组\n    int[] dy = {0, 0, 1, -1};\n    // 定义结果变量\n    boolean res = false;\n\n    public boolean exist(char[][] board, String word) {\n        // 将目标字符串转换为字符数组\n        char[] chars = word.toCharArray();\n        // 获取字符数组的长度\n        int length = chars.length;\n        // 遍历二维数组\n        for (int i = 0; i < board.length; i++) {\n            for (int j = 0; j < board[0].length; j++) {\n                // 如果第一个字符匹配，开始深度优先搜索\n                if (chars[0] == board[i][j]) {\n                    dfs(board, i, j, 0, length, chars);\n                }\n            }\n        }\n        // 返回结果\n        return res;\n    }\n\n    private void dfs(char[][] board,\n                     int i,\n                     int j,\n                     int index,\n                     int length,\n                     char[] chars) {\n        // 判断当前位置是否越界\n        if (i < 0 || j < 0 || i >= board.length || j >= board[0].length) {\n            return;\n        }\n        // 判断当前位置的字符是否匹配\n        if (chars[index] != board[i][j]) {\n            return;\n        }\n        // 如果已经匹配到目标字符串的最后一个字符，设置结果为 true，返回\n        if (index == length - 1) {\n            res = true;\n            return;\n        }\n        // 增加索引，保存当前位置的字符，将当前位置标记为已访问\n        index += 1;\n        char pre = board[i][j];\n        board[i][j] = '0';\n        // 遍历四个方向，进行递归搜索\n        for (int k = 0; k < 4; k++) {\n            int newI = dx[k] + i;\n            int newJ = dy[k] + j;\n            dfs(board, newI, newJ, index, length, chars);\n        }\n        // 将当前位置的字符恢复为之前的值\n        board[i][j] = pre;\n    }\n}\n```\n","slug":"回溯——排列、组合、子集","published":1,"updated":"2023-12-06T02:57:32.296Z","_id":"clpqoimj200060cpk6idgh8xf","layout":"post","photos":[],"link":"","content":"<blockquote>\n<p>回溯算法初探————flood fill、字符串</p>\n</blockquote>\n<h2 id=\"整体解题步骤\"><a href=\"#整体解题步骤\" class=\"headerlink\" title=\"整体解题步骤\"></a>整体解题步骤</h2><p>回溯算法有统一的代码解方案</p>\n<ol>\n<li>确定题解<code>res</code>格式和部分可能解<code>temp</code>格式</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// res</span></span><br><span class=\"line\">List&lt;List&lt;Integer&gt;&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\"><span class=\"comment\">// temp</span></span><br><span class=\"line\">Deque&lt;Integer&gt; path = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayDeque</span>&lt;&gt;(len);</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>确定递归调用方法</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">backTrack(nums, res, temp, <span class=\"number\">0</span>, length, unused);</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>指定递归终止条件</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (depth == len) &#123;</span><br><span class=\"line\">    res.add(<span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;(path));</span><br><span class=\"line\">    <span class=\"keyword\">return</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ol start=\"4\">\n<li>确定回溯位置</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; len; i++) &#123;</span><br><span class=\"line\">        path.addLast(nums[i]);</span><br><span class=\"line\">        dfs(nums, len, depth + <span class=\"number\">1</span>, path, used, res);</span><br><span class=\"line\">        path.removeLast();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>往往还涉及到unused数组的使用或者begin变量，以防止重复情况</code></p>\n<h4 id=\"17-电话号码的字母组合（中等）\"><a href=\"#17-电话号码的字母组合（中等）\" class=\"headerlink\" title=\"17. 电话号码的字母组合（中等）\"></a><a href=\"https://leetcode-cn.com/problems/letter-combinations-of-a-phone-number/\">17. 电话号码的字母组合（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94%E6%8E%92%E5%88%97%E3%80%81%E7%BB%84%E5%90%88%E3%80%81%E5%AD%90%E9%9B%86-1701680751840.png\" alt=\"1\"></p>\n<ul>\n<li>解题思路</li>\n</ul>\n<ol>\n<li>将电话簿信息填入哈希表</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HashMap&lt;Character, String&gt; map = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;&gt;();</span><br><span class=\"line\">map.put(<span class=\"string\">&#x27;2&#x27;</span>, <span class=\"string\">&quot;abc&quot;</span>);</span><br><span class=\"line\">map.put(<span class=\"string\">&#x27;3&#x27;</span>, <span class=\"string\">&quot;def&quot;</span>);</span><br><span class=\"line\">map.put(<span class=\"string\">&#x27;4&#x27;</span>, <span class=\"string\">&quot;ghi&quot;</span>);</span><br><span class=\"line\">map.put(<span class=\"string\">&#x27;5&#x27;</span>, <span class=\"string\">&quot;jkl&quot;</span>);</span><br><span class=\"line\">map.put(<span class=\"string\">&#x27;6&#x27;</span>, <span class=\"string\">&quot;mno&quot;</span>);</span><br><span class=\"line\">map.put(<span class=\"string\">&#x27;7&#x27;</span>, <span class=\"string\">&quot;pqrs&quot;</span>);</span><br><span class=\"line\">map.put(<span class=\"string\">&#x27;8&#x27;</span>, <span class=\"string\">&quot;tuv&quot;</span>);</span><br><span class=\"line\">map.put(<span class=\"string\">&#x27;9&#x27;</span>, <span class=\"string\">&quot;wxyz&quot;</span>);</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>每个数字对应的字母向后递归回溯</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">char</span> <span class=\"variable\">c</span> <span class=\"operator\">=</span> digits.charAt(index);</span><br><span class=\"line\"><span class=\"type\">String</span> <span class=\"variable\">s</span> <span class=\"operator\">=</span> map.get(c);</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class=\"line\">    stringBuilder.append(s.charAt(i));</span><br><span class=\"line\">    backTrace(digits, map, index + <span class=\"number\">1</span>, stringBuilder, res);</span><br><span class=\"line\">    stringBuilder.deleteCharAt(index);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>完整代码</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;String&gt; <span class=\"title function_\">letterCombinations</span><span class=\"params\">(String digits)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 创建一个HashMap用于存储数字与对应的字符组合</span></span><br><span class=\"line\">        HashMap&lt;Character, String&gt; map = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;&gt;();</span><br><span class=\"line\">        map.put(<span class=\"string\">&#x27;2&#x27;</span>, <span class=\"string\">&quot;abc&quot;</span>);</span><br><span class=\"line\">        map.put(<span class=\"string\">&#x27;3&#x27;</span>, <span class=\"string\">&quot;def&quot;</span>);</span><br><span class=\"line\">        map.put(<span class=\"string\">&#x27;4&#x27;</span>, <span class=\"string\">&quot;ghi&quot;</span>);</span><br><span class=\"line\">        map.put(<span class=\"string\">&#x27;5&#x27;</span>, <span class=\"string\">&quot;jkl&quot;</span>);</span><br><span class=\"line\">        map.put(<span class=\"string\">&#x27;6&#x27;</span>, <span class=\"string\">&quot;mno&quot;</span>);</span><br><span class=\"line\">        map.put(<span class=\"string\">&#x27;7&#x27;</span>, <span class=\"string\">&quot;pqrs&quot;</span>);</span><br><span class=\"line\">        map.put(<span class=\"string\">&#x27;8&#x27;</span>, <span class=\"string\">&quot;tuv&quot;</span>);</span><br><span class=\"line\">        map.put(<span class=\"string\">&#x27;9&#x27;</span>, <span class=\"string\">&quot;wxyz&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 如果输入的字符串长度为0，直接返回一个空的ArrayList</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (digits.length()==<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 创建一个ArrayList用于存储结果</span></span><br><span class=\"line\">        ArrayList&lt;String&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 创建一个StringBuilder用于构建字符组合</span></span><br><span class=\"line\">        <span class=\"type\">StringBuilder</span> <span class=\"variable\">stringBuilder</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">StringBuilder</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 调用backTrace方法进行回溯计算</span></span><br><span class=\"line\">        backTrace(digits, map, <span class=\"number\">0</span>, stringBuilder, res);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 返回结果</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 回溯函数，用于生成所有可能的字符组合</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">backTrace</span><span class=\"params\">(String digits, HashMap&lt;Character, String&gt; map, <span class=\"type\">int</span> index, StringBuilder stringBuilder, ArrayList&lt;String&gt; res)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 如果字符组合的长度等于输入字符串的长度，说明已经生成了一个完整的字符组合，将其添加到结果列表中</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (stringBuilder.length() == digits.length()) &#123;</span><br><span class=\"line\">            res.add(stringBuilder.toString());</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 获取当前索引对应的数字字符</span></span><br><span class=\"line\">            <span class=\"type\">char</span> <span class=\"variable\">c</span> <span class=\"operator\">=</span> digits.charAt(index);</span><br><span class=\"line\">            <span class=\"comment\">// 根据数字字符获取对应的字符组合</span></span><br><span class=\"line\">            <span class=\"type\">String</span> <span class=\"variable\">s</span> <span class=\"operator\">=</span> map.get(c);</span><br><span class=\"line\">            <span class=\"comment\">// 遍历字符组合中的每个字符</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 将当前字符添加到字符串构建器中</span></span><br><span class=\"line\">                stringBuilder.append(s.charAt(i));</span><br><span class=\"line\">                <span class=\"comment\">// 递归调用回溯函数，将索引加1，继续生成下一个字符组合</span></span><br><span class=\"line\">                backTrace(digits, map, index + <span class=\"number\">1</span>, stringBuilder, res);</span><br><span class=\"line\">                <span class=\"comment\">// 回溯，删除刚刚添加的字符，尝试生成其他字符组合</span></span><br><span class=\"line\">                stringBuilder.deleteCharAt(index);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"784-字母大小写全排列（中等）\"><a href=\"#784-字母大小写全排列（中等）\" class=\"headerlink\" title=\"784. 字母大小写全排列（中等）\"></a><a href=\"https://leetcode-cn.com/problems/letter-case-permutation/\">784. 字母大小写全排列（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94%E6%8E%92%E5%88%97%E3%80%81%E7%BB%84%E5%90%88%E3%80%81%E5%AD%90%E9%9B%86-1701680779347.png\" alt=\"2\"></p>\n<ul>\n<li>解题思路</li>\n</ul>\n<ol>\n<li>确认当前位数的字符是否为字母，分区向后递归回溯</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (c - <span class=\"string\">&#x27;A&#x27;</span> &lt;= <span class=\"number\">26</span> &amp;&amp; c - <span class=\"string\">&#x27;A&#x27;</span> &gt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; <span class=\"number\">2</span>; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">            temp.append(c);</span><br><span class=\"line\">            backTrace(s, res, temp, index+<span class=\"number\">1</span>);</span><br><span class=\"line\">            temp.deleteCharAt(index);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            temp.append((<span class=\"type\">char</span>)(c + <span class=\"number\">32</span>));</span><br><span class=\"line\">            backTrace(s, res, temp, index+<span class=\"number\">1</span>);</span><br><span class=\"line\">            temp.deleteCharAt(index);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>完整代码</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;String&gt; <span class=\"title function_\">letterCasePermutation</span><span class=\"params\">(String s)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 创建一个StringBuilder用于临时存储字符组合</span></span><br><span class=\"line\">        <span class=\"type\">StringBuilder</span> <span class=\"variable\">temp</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">StringBuilder</span>();</span><br><span class=\"line\">        <span class=\"comment\">// 创建一个ArrayList用于存储结果</span></span><br><span class=\"line\">        ArrayList&lt;String&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 调用backTrace方法进行回溯计算</span></span><br><span class=\"line\">        backTrace(s, res, temp, <span class=\"number\">0</span>);</span><br><span class=\"line\">        <span class=\"comment\">// 返回结果</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 回溯函数，用于生成所有可能的字符组合</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">backTrace</span><span class=\"params\">(String s, ArrayList&lt;String&gt; res, StringBuilder temp, <span class=\"type\">int</span> index)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 如果临时字符组合的长度等于输入字符串的长度，说明已经生成了一个完整的字符组合，将其添加到结果列表中</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (temp.length() == s.length()) &#123;</span><br><span class=\"line\">            res.add(temp.toString());</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 获取当前索引对应的字符</span></span><br><span class=\"line\">            <span class=\"type\">char</span> <span class=\"variable\">c</span> <span class=\"operator\">=</span> s.charAt(index);</span><br><span class=\"line\">            <span class=\"comment\">// 判断字符是否为大写字母</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (c - <span class=\"string\">&#x27;A&#x27;</span> &lt;= <span class=\"number\">26</span> &amp;&amp; c - <span class=\"string\">&#x27;A&#x27;</span> &gt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 遍历两种情况：保持原字符和转换为小写字母</span></span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; <span class=\"number\">2</span>; i++) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (i == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                        <span class=\"comment\">// 保持原字符</span></span><br><span class=\"line\">                        temp.append(c);</span><br><span class=\"line\">                        <span class=\"comment\">// 递归调用回溯函数，将索引加1，继续生成下一个字符组合</span></span><br><span class=\"line\">                        backTrace(s, res, temp, index+<span class=\"number\">1</span>);</span><br><span class=\"line\">                        <span class=\"comment\">// 回溯，删除刚刚添加的字符，尝试生成其他字符组合</span></span><br><span class=\"line\">                        temp.deleteCharAt(index);</span><br><span class=\"line\">                    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                        <span class=\"comment\">// 转换为小写字母</span></span><br><span class=\"line\">                        temp.append((<span class=\"type\">char</span>)(c + <span class=\"number\">32</span>));</span><br><span class=\"line\">                        <span class=\"comment\">// 递归调用回溯函数，将索引加1，继续生成下一个字符组合</span></span><br><span class=\"line\">                        backTrace(s, res, temp, index+<span class=\"number\">1</span>);</span><br><span class=\"line\">                        <span class=\"comment\">// 回溯，删除刚刚添加的字符，尝试生成其他字符组合</span></span><br><span class=\"line\">                        temp.deleteCharAt(index);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 判断字符是否为小写字母</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (c - <span class=\"string\">&#x27;a&#x27;</span> &lt;= <span class=\"number\">26</span> &amp;&amp; c - <span class=\"string\">&#x27;a&#x27;</span> &gt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 遍历两种情况：保持原字符和转换为大写字母</span></span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; <span class=\"number\">2</span>; i++) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (i == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                        <span class=\"comment\">// 保持原字符</span></span><br><span class=\"line\">                        temp.append(c);</span><br><span class=\"line\">                        <span class=\"comment\">// 递归调用回溯函数，将索引加1，继续生成下一个字符组合</span></span><br><span class=\"line\">                        backTrace(s, res, temp, index+<span class=\"number\">1</span>);</span><br><span class=\"line\">                        <span class=\"comment\">// 回溯，删除刚刚添加的字符，尝试生成其他字符组合</span></span><br><span class=\"line\">                        temp.deleteCharAt(index);</span><br><span class=\"line\">                    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                        <span class=\"comment\">// 转换为大写字母</span></span><br><span class=\"line\">                        temp.append((<span class=\"type\">char</span>) (c - <span class=\"number\">32</span>));</span><br><span class=\"line\">                        <span class=\"comment\">// 递归调用回溯函数，将索引加1，继续生成下一个字符组合</span></span><br><span class=\"line\">                        backTrace(s, res, temp, index+<span class=\"number\">1</span>);</span><br><span class=\"line\">                        <span class=\"comment\">// 回溯，删除刚刚添加的字符，尝试生成其他字符组合</span></span><br><span class=\"line\">                        temp.deleteCharAt(index);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 如果字符不是字母，则保持原字符</span></span><br><span class=\"line\">                temp.append(c);</span><br><span class=\"line\">                <span class=\"comment\">// 递归调用回溯函数，将索引加1，继续生成下一个字符组合</span></span><br><span class=\"line\">                backTrace(s, res, temp, index+<span class=\"number\">1</span>);</span><br><span class=\"line\">                <span class=\"comment\">// 回溯，删除刚刚添加的字符，尝试生成其他字符组合</span></span><br><span class=\"line\">                temp.deleteCharAt(index);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;String&gt; <span class=\"title function_\">letterCasePermutation</span><span class=\"params\">(String s)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 创建一个StringBuilder用于临时存储字符组合</span></span><br><span class=\"line\">        <span class=\"type\">StringBuilder</span> <span class=\"variable\">temp</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">StringBuilder</span>();</span><br><span class=\"line\">        <span class=\"comment\">// 创建一个ArrayList用于存储结果</span></span><br><span class=\"line\">        ArrayList&lt;String&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 调用backTrace方法进行回溯计算</span></span><br><span class=\"line\">        backTrace(s, res, temp, <span class=\"number\">0</span>);</span><br><span class=\"line\">        <span class=\"comment\">// 返回结果</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 回溯函数，用于生成所有可能的字符组合</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">backTrace</span><span class=\"params\">(String s, ArrayList&lt;String&gt; res, StringBuilder temp, <span class=\"type\">int</span> index)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 如果临时字符组合的长度等于输入字符串的长度，说明已经生成了一个完整的字符组合，将其添加到结果列表中</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (temp.length() == s.length()) &#123;</span><br><span class=\"line\">            res.add(temp.toString());</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 获取当前索引对应的字符</span></span><br><span class=\"line\">            <span class=\"type\">char</span> <span class=\"variable\">c</span> <span class=\"operator\">=</span> s.charAt(index);</span><br><span class=\"line\">            <span class=\"comment\">// 判断字符是否为大写字母</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (c - <span class=\"string\">&#x27;A&#x27;</span> &lt;= <span class=\"number\">26</span> &amp;&amp; c - <span class=\"string\">&#x27;A&#x27;</span> &gt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 遍历两种情况：保持原字符和转换为小写字母</span></span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; <span class=\"number\">2</span>; i++) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (i == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                        <span class=\"comment\">// 保持原字符</span></span><br><span class=\"line\">                        temp.append(c);</span><br><span class=\"line\">                        <span class=\"comment\">// 递归调用回溯函数，将索引加1，继续生成下一个字符组合</span></span><br><span class=\"line\">                        backTrace(s, res, temp, index+<span class=\"number\">1</span>);</span><br><span class=\"line\">                        <span class=\"comment\">// 回溯，删除刚刚添加的字符，尝试生成其他字符组合</span></span><br><span class=\"line\">                        temp.deleteCharAt(index);</span><br><span class=\"line\">                    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                        <span class=\"comment\">// 转换为小写字母</span></span><br><span class=\"line\">                        temp.append((<span class=\"type\">char</span>)(c + <span class=\"number\">32</span>));</span><br><span class=\"line\">                        <span class=\"comment\">// 递归调用回溯函数，将索引加1，继续生成下一个字符组合</span></span><br><span class=\"line\">                        backTrace(s, res, temp, index+<span class=\"number\">1</span>);</span><br><span class=\"line\">                        <span class=\"comment\">// 回溯，删除刚刚添加的字符，尝试生成其他字符组合</span></span><br><span class=\"line\">                        temp.deleteCharAt(index);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 判断字符是否为小写字母</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (c - <span class=\"string\">&#x27;a&#x27;</span> &lt;= <span class=\"number\">26</span> &amp;&amp; c - <span class=\"string\">&#x27;a&#x27;</span> &gt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 遍历两种情况：保持原字符和转换为大写字母</span></span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; <span class=\"number\">2</span>; i++) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (i == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                        <span class=\"comment\">// 保持原字符</span></span><br><span class=\"line\">                        temp.append(c);</span><br><span class=\"line\">                        <span class=\"comment\">// 递归调用回溯函数，将索引加1，继续生成下一个字符组合</span></span><br><span class=\"line\">                        backTrace(s, res, temp, index+<span class=\"number\">1</span>);</span><br><span class=\"line\">                        <span class=\"comment\">// 回溯，删除刚刚添加的字符，尝试生成其他字符组合</span></span><br><span class=\"line\">                        temp.deleteCharAt(index);</span><br><span class=\"line\">                    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                        <span class=\"comment\">// 转换为大写字母</span></span><br><span class=\"line\">                        temp.append((<span class=\"type\">char</span>) (c - <span class=\"number\">32</span>));</span><br><span class=\"line\">                        <span class=\"comment\">// 递归调用回溯函数，将索引加1，继续生成下一个字符组合</span></span><br><span class=\"line\">                        backTrace(s, res, temp, index+<span class=\"number\">1</span>);</span><br><span class=\"line\">                        <span class=\"comment\">// 回溯，删除刚刚添加的字符，尝试生成其他字符组合</span></span><br><span class=\"line\">                        temp.deleteCharAt(index);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 如果字符不是字母，则保持原字符</span></span><br><span class=\"line\">                temp.append(c);</span><br><span class=\"line\">                <span class=\"comment\">// 递归调用回溯函数，将索引加1，继续生成下一个字符组合</span></span><br><span class=\"line\">                backTrace(s, res, temp, index+<span class=\"number\">1</span>);</span><br><span class=\"line\">                <span class=\"comment\">// 回溯，删除刚刚添加的字符，尝试生成其他字符组合</span></span><br><span class=\"line\">                temp.deleteCharAt(index);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"22-括号生成（中等）\"><a href=\"#22-括号生成（中等）\" class=\"headerlink\" title=\"22. 括号生成（中等）\"></a><a href=\"https://leetcode-cn.com/problems/generate-parentheses/\">22. 括号生成（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94%E6%8E%92%E5%88%97%E3%80%81%E7%BB%84%E5%90%88%E3%80%81%E5%AD%90%E9%9B%86-1701680799652.png\" alt=\"4\"></p>\n<ul>\n<li>解题思路</li>\n</ul>\n<ol>\n<li>该题结果就两种字符类型，且左括号和右括号数相等，考虑分区</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">backTrace(res, temp, n, n);</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>左括号在前，所有让左括号先作递归回溯</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (left &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    temp.append(<span class=\"string\">&quot;(&quot;</span>);</span><br><span class=\"line\">    backTrace(res, temp, left - <span class=\"number\">1</span>, right);</span><br><span class=\"line\">    temp.deleteCharAt(temp.length() - <span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (right &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    temp.append(<span class=\"string\">&quot;)&quot;</span>);</span><br><span class=\"line\">    backTrace(res, temp, left, right - <span class=\"number\">1</span>);</span><br><span class=\"line\">    temp.deleteCharAt(temp.length() - <span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>当右括号数大于左括号时进行剪枝，防止右括号在左括号前面（<code>不匹配</code>）的情况<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if (left&gt;right)&#123;</span><br><span class=\"line\">    return;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ol>\n<ul>\n<li>完整代码</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;String&gt; <span class=\"title function_\">generateParenthesis</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 创建一个ArrayList用于存储结果</span></span><br><span class=\"line\">        ArrayList&lt;String&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 创建一个StringBuilder用于临时存储括号组合</span></span><br><span class=\"line\">        <span class=\"type\">StringBuilder</span> <span class=\"variable\">temp</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">StringBuilder</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 调用backTrace方法进行回溯计算</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 返回结果</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 回溯函数，用于生成有效的括号组合</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">backTrace</span><span class=\"params\">(ArrayList&lt;String&gt; res, StringBuilder temp, <span class=\"type\">int</span> left, <span class=\"type\">int</span> right)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 如果左括号和右括号都用完了，说明已经生成了一个有效的括号组合，将其添加到结果列表中</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (left == <span class=\"number\">0</span> &amp;&amp; right == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            res.add(temp.toString());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 如果左括号的数量大于右括号的数量，说明生成的括号组合是无效的，直接返回</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (left &gt; right) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 如果还有剩余的左括号，可以添加一个左括号</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (left &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            temp.append(<span class=\"string\">&quot;(&quot;</span>);</span><br><span class=\"line\">            <span class=\"comment\">// 递归调用回溯函数，将左括号的数量减1，继续生成下一个括号组合</span></span><br><span class=\"line\">            backTrace(res, temp, left - <span class=\"number\">1</span>, right);</span><br><span class=\"line\">            <span class=\"comment\">// 回溯，删除刚刚添加的左括号，尝试生成其他括号组合</span></span><br><span class=\"line\">            temp.deleteCharAt(temp.length() - <span class=\"number\">1</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 如果还有剩余的右括号，可以添加一个右括号</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (right &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            temp.append(<span class=\"string\">&quot;)&quot;</span>);</span><br><span class=\"line\">            <span class=\"comment\">// 递归调用回溯函数，将右括号的数量减1，继续生成下一个括号组合</span></span><br><span class=\"line\">            backTrace(res, temp, left, right - <span class=\"number\">1</span>);</span><br><span class=\"line\">            <span class=\"comment\">// 回溯，删除刚刚添加的右括号，尝试生成其他括号组合</span></span><br><span class=\"line\">            temp.deleteCharAt(temp.length() - <span class=\"number\">1</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"733-图像渲染（Flood-Fill，中等）\"><a href=\"#733-图像渲染（Flood-Fill，中等）\" class=\"headerlink\" title=\"733. 图像渲染（Flood Fill，中等）\"></a><a href=\"https://leetcode-cn.com/problems/flood-fill/\">733. 图像渲染（Flood Fill，中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94%E6%8E%92%E5%88%97%E3%80%81%E7%BB%84%E5%90%88%E3%80%81%E5%AD%90%E9%9B%86-1701680821919.png\" alt=\"6\"></p>\n<ul>\n<li>解题思路</li>\n</ul>\n<ol>\n<li>设立四个方向的跳跃数组，向四周递归回溯</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span>[] dx = &#123;<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, -<span class=\"number\">1</span>&#125;;</span><br><span class=\"line\"><span class=\"type\">int</span>[] dy = &#123;<span class=\"number\">1</span>, -<span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (image[sr][sc] != preColor) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    image[sr][sc] = color;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; <span class=\"number\">4</span>; i++) &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">newSr</span> <span class=\"operator\">=</span> sr + dx[i];</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">newSc</span> <span class=\"operator\">=</span> sc + dy[i];</span><br><span class=\"line\">        dfs(image, newSr, newSc, color, preColor);</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>完整代码</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 定义水平方向的增量数组</span></span><br><span class=\"line\">    <span class=\"type\">int</span>[] dx = &#123;<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, -<span class=\"number\">1</span>&#125;;</span><br><span class=\"line\">    <span class=\"comment\">// 定义垂直方向的增量数组</span></span><br><span class=\"line\">    <span class=\"type\">int</span>[] dy = &#123;<span class=\"number\">1</span>, -<span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span>[][] floodFill(<span class=\"type\">int</span>[][] image, <span class=\"type\">int</span> sr, <span class=\"type\">int</span> sc, <span class=\"type\">int</span> color) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 获取起始点的颜色</span></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">preColor</span> <span class=\"operator\">=</span> image[sr][sc];</span><br><span class=\"line\">        <span class=\"comment\">// 如果起始点的颜色已经是目标颜色，直接返回图像</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (preColor == color) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> image;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 调用dfs方法进行深度优先搜索</span></span><br><span class=\"line\">        dfs(image, sr, sc, color, preColor);</span><br><span class=\"line\">        <span class=\"comment\">// 返回修改后的图像</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> image;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 深度优先搜索函数</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">int</span>[][] image, <span class=\"type\">int</span> sr, <span class=\"type\">int</span> sc, <span class=\"type\">int</span> color, <span class=\"type\">int</span> preColor)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 判断当前点是否越界</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (sr &gt;= image.length || sr &lt; <span class=\"number\">0</span> || sc &gt;= image[<span class=\"number\">0</span>].length || sc &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 判断当前点的颜色是否与起始点的颜色相同</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (image[sr][sc] != preColor) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 修改当前点的颜色为目标颜色</span></span><br><span class=\"line\">        image[sr][sc] = color;</span><br><span class=\"line\">        <span class=\"comment\">// 遍历四个方向，进行递归搜索</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; <span class=\"number\">4</span>; i++) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">newSr</span> <span class=\"operator\">=</span> sr + dx[i];</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">newSc</span> <span class=\"operator\">=</span> sc + dy[i];</span><br><span class=\"line\">            dfs(image, newSr, newSc, color, preColor);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"200-岛屿数量（中等）\"><a href=\"#200-岛屿数量（中等）\" class=\"headerlink\" title=\"200. 岛屿数量（中等）\"></a><a href=\"https://leetcode-cn.com/problems/number-of-islands/\">200. 岛屿数量（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94%E6%8E%92%E5%88%97%E3%80%81%E7%BB%84%E5%90%88%E3%80%81%E5%AD%90%E9%9B%86-1701680842452.png\" alt=\"7\"></p>\n<ul>\n<li>解题思路</li>\n</ul>\n<p>1.每找到一块陆地边界，则进行递归回溯操作</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; grid.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; grid[<span class=\"number\">0</span>].length; j++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (grid[i][j] == <span class=\"string\">&#x27;1&#x27;</span>) &#123;</span><br><span class=\"line\">            dfs(grid, i, j);</span><br><span class=\"line\">            count++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>完整代码</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 定义水平方向的增量数组</span></span><br><span class=\"line\">    <span class=\"type\">int</span>[] dx = &#123;<span class=\"number\">1</span>, -<span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>&#125;;</span><br><span class=\"line\">    <span class=\"comment\">// 定义垂直方向的增量数组</span></span><br><span class=\"line\">    <span class=\"type\">int</span>[] dy = &#123;<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, -<span class=\"number\">1</span>&#125;;</span><br><span class=\"line\">    <span class=\"comment\">// 定义岛屿数量的计数器</span></span><br><span class=\"line\">    <span class=\"type\">int</span> count;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">numIslands</span><span class=\"params\">(<span class=\"type\">char</span>[][] grid)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 初始化岛屿数量计数器</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"comment\">// 遍历整个二维网格</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; grid.length; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; grid[<span class=\"number\">0</span>].length; j++) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 如果当前位置是陆地，则进行深度优先搜索</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (grid[i][j] == <span class=\"string\">&#x27;1&#x27;</span>) &#123;</span><br><span class=\"line\">                    dfs(grid, i, j);</span><br><span class=\"line\">                    <span class=\"comment\">// 搜索完成后，岛屿数量加1</span></span><br><span class=\"line\">                    count++;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 返回岛屿数量</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> count;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 深度优先搜索函数</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">char</span>[][] grid, <span class=\"type\">int</span> i, <span class=\"type\">int</span> j)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 判断当前位置是否越界</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i &lt; <span class=\"number\">0</span> || j &lt; <span class=\"number\">0</span> || i &gt;= grid.length || j &gt;= grid[<span class=\"number\">0</span>].length) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 如果当前位置是水域，则直接返回</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (grid[i][j] == <span class=\"string\">&#x27;0&#x27;</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 将当前位置标记为水域</span></span><br><span class=\"line\">        grid[i][j] = <span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">        <span class=\"comment\">// 遍历四个方向，进行递归搜索</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">k</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; k &lt; <span class=\"number\">4</span>; k++) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">sx</span> <span class=\"operator\">=</span> dx[k] + i;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">sy</span> <span class=\"operator\">=</span> dy[k] + j;</span><br><span class=\"line\">            dfs(grid, sx, sy);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"130-被围绕的区域（中等）\"><a href=\"#130-被围绕的区域（中等）\" class=\"headerlink\" title=\"130. 被围绕的区域（中等）\"></a><a href=\"https://leetcode-cn.com/problems/surrounded-regions/\">130. 被围绕的区域（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94%E6%8E%92%E5%88%97%E3%80%81%E7%BB%84%E5%90%88%E3%80%81%E5%AD%90%E9%9B%86-1701680859373.png\" alt=\"8\"></p>\n<ul>\n<li>解题思路</li>\n</ul>\n<p>1.对原来的数组进行拷贝，遍历拷贝数组的边界点找值进行递归回溯</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">char</span>[][] copyOf=<span class=\"keyword\">new</span> <span class=\"title class_\">char</span>[board.length][board[<span class=\"number\">0</span>].length];</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; board.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; board[<span class=\"number\">0</span>].length; j++) &#123;</span><br><span class=\"line\">        copyOf[i][j]=board[i][j];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; board.length; i++) &#123;</span><br><span class=\"line\">    dfs(copyOf, i, <span class=\"number\">0</span>);</span><br><span class=\"line\">    dfs(copyOf, i, board[<span class=\"number\">0</span>].length - <span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; board[<span class=\"number\">0</span>].length; i++) &#123;</span><br><span class=\"line\">    dfs(copyOf, <span class=\"number\">0</span>, i);</span><br><span class=\"line\">    dfs(copyOf, board.length - <span class=\"number\">1</span>, i);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>此时拷贝数组中剩余的点则为答案值，对原数组进行赋值操作</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; board.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; board[<span class=\"number\">0</span>].length; j++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (copyOf[i][j]==<span class=\"string\">&#x27;O&#x27;</span>)&#123;</span><br><span class=\"line\">            board[i][j]=<span class=\"string\">&#x27;X&#x27;</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>完整代码</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 定义水平方向的增量数组</span></span><br><span class=\"line\">    <span class=\"type\">int</span>[] dx = &#123;<span class=\"number\">1</span>, -<span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>&#125;;</span><br><span class=\"line\">    <span class=\"comment\">// 定义垂直方向的增量数组</span></span><br><span class=\"line\">    <span class=\"type\">int</span>[] dy = &#123;<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, -<span class=\"number\">1</span>&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">solve</span><span class=\"params\">(<span class=\"type\">char</span>[][] board)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 创建一个与原始二维数组相同大小的副本数组</span></span><br><span class=\"line\">        <span class=\"type\">char</span>[][] copyOf = <span class=\"keyword\">new</span> <span class=\"title class_\">char</span>[board.length][board[<span class=\"number\">0</span>].length];</span><br><span class=\"line\">        <span class=\"comment\">// 将原始数组的值复制到副本数组中</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; board.length; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; board[<span class=\"number\">0</span>].length; j++) &#123;</span><br><span class=\"line\">                copyOf[i][j] = board[i][j];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 遍历副本数组的边界，对边界上的 &#x27;O&#x27; 进行深度优先搜索</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; board.length; i++) &#123;</span><br><span class=\"line\">            dfs(copyOf, i, <span class=\"number\">0</span>);</span><br><span class=\"line\">            dfs(copyOf, i, board[<span class=\"number\">0</span>].length - <span class=\"number\">1</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; board[<span class=\"number\">0</span>].length; i++) &#123;</span><br><span class=\"line\">            dfs(copyOf, <span class=\"number\">0</span>, i);</span><br><span class=\"line\">            dfs(copyOf, board.length - <span class=\"number\">1</span>, i);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 遍历原始数组，将副本数组中的 &#x27;O&#x27; 修改为 &#x27;X&#x27;</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; board.length; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; board[<span class=\"number\">0</span>].length; j++) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (copyOf[i][j] == <span class=\"string\">&#x27;O&#x27;</span>) &#123;</span><br><span class=\"line\">                    board[i][j] = <span class=\"string\">&#x27;X&#x27;</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 深度优先搜索函数</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">char</span>[][] board, <span class=\"type\">int</span> i, <span class=\"type\">int</span> j)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 判断当前位置是否越界</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i &lt; <span class=\"number\">0</span> || j &lt; <span class=\"number\">0</span> || i &gt;= board.length || j &gt;= board[<span class=\"number\">0</span>].length) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 如果当前位置为 &#x27;X&#x27;，则直接返回</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (board[i][j] == <span class=\"string\">&#x27;X&#x27;</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 修改当前位置为 &#x27;X&#x27;</span></span><br><span class=\"line\">        board[i][j] = <span class=\"string\">&#x27;X&#x27;</span>;</span><br><span class=\"line\">        <span class=\"comment\">// 遍历四个方向，进行递归搜索</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">k</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; k &lt; <span class=\"number\">4</span>; k++) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">sx</span> <span class=\"operator\">=</span> dx[k] + i;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">sy</span> <span class=\"operator\">=</span> dy[k] + j;</span><br><span class=\"line\">            dfs(board, sx, sy);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"79-单词搜索（中等）\"><a href=\"#79-单词搜索（中等）\" class=\"headerlink\" title=\"79. 单词搜索（中等）\"></a><a href=\"https://leetcode-cn.com/problems/word-search/\">79. 单词搜索（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94%E6%8E%92%E5%88%97%E3%80%81%E7%BB%84%E5%90%88%E3%80%81%E5%AD%90%E9%9B%86-1701680879514.png\" alt=\"9\"></p>\n<ul>\n<li>解题思路</li>\n</ul>\n<ol>\n<li>在二维数组中找目标字符串的起始值，找到后对当前值置零进行递归，回溯时当值改回</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (chars[index] != board[i][j]) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">if</span> (index == length - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    res = <span class=\"literal\">true</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">index += <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"type\">char</span> <span class=\"variable\">pre</span> <span class=\"operator\">=</span> board[i][j];</span><br><span class=\"line\">board[i][j] = <span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">k</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; k &lt; <span class=\"number\">4</span>; k++) &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">newI</span> <span class=\"operator\">=</span> dx[k] + i;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">newJ</span> <span class=\"operator\">=</span> dy[k] + j;</span><br><span class=\"line\">    dfs(board, newI, newJ, index, length, chars);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">board[i][j] = pre;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>设置全局bool变量，当找到完整字符串则赋值true</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span>[] dx = &#123;<span class=\"number\">1</span>, -<span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>&#125;;</span><br><span class=\"line\">   <span class=\"type\">int</span>[] dy = &#123;<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, -<span class=\"number\">1</span>&#125;;</span><br><span class=\"line\">   <span class=\"type\">boolean</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">exist</span><span class=\"params\">(<span class=\"type\">char</span>[][] board, String word)</span> &#123;</span><br><span class=\"line\">       <span class=\"type\">char</span>[] chars = word.toCharArray();</span><br><span class=\"line\">       <span class=\"type\">int</span> <span class=\"variable\">length</span> <span class=\"operator\">=</span> chars.length;</span><br><span class=\"line\">       <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; board.length; i++) &#123;</span><br><span class=\"line\">           <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; board[<span class=\"number\">0</span>].length; j++) &#123;</span><br><span class=\"line\">               <span class=\"keyword\">if</span> (chars[<span class=\"number\">0</span>] == board[i][j]) &#123;</span><br><span class=\"line\">                   dfs(board, i, j, <span class=\"number\">0</span>, length, chars);</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>完整代码</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 定义水平方向的增量数组</span></span><br><span class=\"line\">    <span class=\"type\">int</span>[] dx = &#123;<span class=\"number\">1</span>, -<span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>&#125;;</span><br><span class=\"line\">    <span class=\"comment\">// 定义垂直方向的增量数组</span></span><br><span class=\"line\">    <span class=\"type\">int</span>[] dy = &#123;<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, -<span class=\"number\">1</span>&#125;;</span><br><span class=\"line\">    <span class=\"comment\">// 定义结果变量</span></span><br><span class=\"line\">    <span class=\"type\">boolean</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">exist</span><span class=\"params\">(<span class=\"type\">char</span>[][] board, String word)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 将目标字符串转换为字符数组</span></span><br><span class=\"line\">        <span class=\"type\">char</span>[] chars = word.toCharArray();</span><br><span class=\"line\">        <span class=\"comment\">// 获取字符数组的长度</span></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">length</span> <span class=\"operator\">=</span> chars.length;</span><br><span class=\"line\">        <span class=\"comment\">// 遍历二维数组</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; board.length; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; board[<span class=\"number\">0</span>].length; j++) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 如果第一个字符匹配，开始深度优先搜索</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (chars[<span class=\"number\">0</span>] == board[i][j]) &#123;</span><br><span class=\"line\">                    dfs(board, i, j, <span class=\"number\">0</span>, length, chars);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 返回结果</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">char</span>[][] board,</span></span><br><span class=\"line\"><span class=\"params\">                     <span class=\"type\">int</span> i,</span></span><br><span class=\"line\"><span class=\"params\">                     <span class=\"type\">int</span> j,</span></span><br><span class=\"line\"><span class=\"params\">                     <span class=\"type\">int</span> index,</span></span><br><span class=\"line\"><span class=\"params\">                     <span class=\"type\">int</span> length,</span></span><br><span class=\"line\"><span class=\"params\">                     <span class=\"type\">char</span>[] chars)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 判断当前位置是否越界</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i &lt; <span class=\"number\">0</span> || j &lt; <span class=\"number\">0</span> || i &gt;= board.length || j &gt;= board[<span class=\"number\">0</span>].length) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 判断当前位置的字符是否匹配</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (chars[index] != board[i][j]) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 如果已经匹配到目标字符串的最后一个字符，设置结果为 true，返回</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (index == length - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">            res = <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 增加索引，保存当前位置的字符，将当前位置标记为已访问</span></span><br><span class=\"line\">        index += <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"type\">char</span> <span class=\"variable\">pre</span> <span class=\"operator\">=</span> board[i][j];</span><br><span class=\"line\">        board[i][j] = <span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">        <span class=\"comment\">// 遍历四个方向，进行递归搜索</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">k</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; k &lt; <span class=\"number\">4</span>; k++) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">newI</span> <span class=\"operator\">=</span> dx[k] + i;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">newJ</span> <span class=\"operator\">=</span> dy[k] + j;</span><br><span class=\"line\">            dfs(board, newI, newJ, index, length, chars);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 将当前位置的字符恢复为之前的值</span></span><br><span class=\"line\">        board[i][j] = pre;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{"about":[{"class_name":"关于页","subtitle":"多一点努力，努力多一点✨","avatarImg":"https://avatars.githubusercontent.com/u/106024593?v=4","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱"]},"name":"xingxing","description":"是一名 后端工程师、学生、独立开发者","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"YNU,计算机科学与技术","color":"#357ef5"}]},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，昆明市","background":"/img/location.png","backgroundDark":"/img/locationDark.png"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2003,"selfInfoTips2":"云南大学","selfInfoContent2":"计算机科学与技术","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"xingxing的日常。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"/img/beautifulImg.jpg","essay_list":[{"content":"发现一个免费拿图的网站诶，还是bing好用，垃圾百度！但是好像要翻墙才可以下载原图，不过可以直接复制图片地址，然后用迅雷下载，也是可以的（图片大小翻五倍）。","date":"2023/11/31","image":["/img/essayImg/pixabay.png"],"link":"https://pixabay.com/zh/"},{"content":"寒假实习求职顺利（求神拜佛）","date":"2023/12/2"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}],"bangumis":{"wantWatch":[{"title":"百妖谱 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/5424062d0821f89ea549533d8a2c3cfff2076766.png","totalCount":"全12话","id":28230717,"follow":"527.1 万","view":"1.2 亿","danmaku":"47.2 万","coin":"42.5 万","score":9.2,"des":"桃都的灵医桃夭带着小和尚磨牙、第一季收服的小狐妖、桃都老邻居柳公子一起继续第一季的故事，为了寻找失踪的百妖谱而云游四方，在途中遇到应声、化蛇、媪姬、照海四个妖怪，为妖怪治疗各种疑难杂症。..."},{"title":"伍六七之玄武国篇","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/00843865ea13702eccc4efd64c313fd4c8029c6b.jpg","totalCount":"全10话","id":28232253,"follow":"1031.1 万","view":"4.7 亿","danmaku":"186.3 万","coin":"405.6 万","score":9.8,"des":"为了保护小鸡岛居民和这里平静的生活，伍六七和他的伙伴大保和小飞开启了去往玄武国的冒险旅程，去寻找身世的真相和解救小岛的办法，等待他们的又将是更多的未知与奇遇。..."},{"title":"伍六七之暗影宿命","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/6e5c5848ff8943fd6366e943a4f75b98598c50c6.png","totalCount":"全10话","id":28412536,"follow":"1250.4 万","view":"5.1 亿","danmaku":"110.7 万","coin":"410.9 万","score":9.2,"des":"随着伍六七回到玄武国寻找他的身世，亦引起了七大暗影刺客的追捕。然而每一位暗影刺客都带着不同的目的和不同的过去，青凤的阴谋也在此浮出了水面。而此时等待着小鸡岛上的人民，又将是另一个危机，伍六七将如何面对..."}],"watching":[{"title":"灵笼 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cf5f6595ece017215e7d61482f022094479dff37.png","totalCount":"-","id":21123554,"follow":"910.5 万","view":"1586.9 万","danmaku":"7.0 万","coin":"35.1 万","score":"-","des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."},{"title":"灵笼","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cfab7e0fbdb4786ff4e885d050b7cf37f8829486.png","totalCount":"全16话","id":23432,"follow":"903.9 万","view":"6.1 亿","danmaku":"674.4 万","coin":"677.7 万","score":9.6,"des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."}],"watched":[{"title":"时光代理人","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/1fe1cd0ec59b790fea83a5726cdc0fa3189c4394.png","totalCount":"全24话","id":28230742,"follow":"879.2 万","view":"5.0 亿","danmaku":"399.9 万","coin":"418.4 万","score":9.7,"des":"为了找到一系列罪案的操纵者，程小时求助于肖力，找寻一切藏匿于暗中的蛛丝马迹。但是拥有未知超能力的凶手在阴影之中，也从没有停止过阴谋的脚步。神秘能力者如影随形，身边伙伴接连遇害，程小时屡次身陷险境。随着..."},{"title":"元龙 第三季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/b3a9b5975059e074593b9381322ad8c423be7b89.png","totalCount":"全16话","id":28235400,"follow":"620.5 万","view":"1.5 亿","danmaku":"24.0 万","coin":"10.7 万","score":6.8,"des":"王胜于现代世界醒来，一切是如此真实而又如梦似幻。皇城遗女，戴家少主的出现更让局势扑朔迷离。而一场由小搏大的赌局，也让王胜渐渐意识到这不仅仅是他和戴家少主两个人的较量。恰时逢盛宴，天下汇集，王胜不得不再..."},{"title":"三体","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/9870f898b8a39bbb8048f34317f8d78a02cc1770.png","totalCount":"全15话","id":4315402,"follow":"690.6 万","view":"6.2 亿","danmaku":"179.3 万","coin":"230.7 万","score":8.2,"des":"无数细线横亘在星空之中，如同一把巨大的刷子。三体星舰队将于400年后抵达。遥远蝴蝶扇动着翅膀，也改变了罗辑的命运，轰然打开的门后是世界中心——面壁计划开启。同时，智子所创建的破壁室内，破壁人一一就位…..."},{"title":"狐妖小红娘","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/cbb20ee03e97a9f3ad2e1506a10fd1271f1c584a.jpg","totalCount":"全100话","id":2543,"follow":"691.5 万","view":"8.7 亿","danmaku":"1052.9 万","coin":"259.8 万","score":9.5,"des":"根据古典小说记载，世上有人有妖，妖会与人相恋，妖寿命千年，人的寿命有限，人死了，妖活着。人会投胎转世，但投胎以后不记得上辈子的爱。妖如果痴情的话，就去找狐妖“购买”一项服务，让投胎转世的人回忆起前世的..."}]}}},"cover_type":"img","excerpt":"","more":"<blockquote>\n<p>回溯算法初探————flood fill、字符串</p>\n</blockquote>\n<h2 id=\"整体解题步骤\"><a href=\"#整体解题步骤\" class=\"headerlink\" title=\"整体解题步骤\"></a>整体解题步骤</h2><p>回溯算法有统一的代码解方案</p>\n<ol>\n<li>确定题解<code>res</code>格式和部分可能解<code>temp</code>格式</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// res</span></span><br><span class=\"line\">List&lt;List&lt;Integer&gt;&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\"><span class=\"comment\">// temp</span></span><br><span class=\"line\">Deque&lt;Integer&gt; path = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayDeque</span>&lt;&gt;(len);</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>确定递归调用方法</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">backTrack(nums, res, temp, <span class=\"number\">0</span>, length, unused);</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>指定递归终止条件</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (depth == len) &#123;</span><br><span class=\"line\">    res.add(<span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;(path));</span><br><span class=\"line\">    <span class=\"keyword\">return</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ol start=\"4\">\n<li>确定回溯位置</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; len; i++) &#123;</span><br><span class=\"line\">        path.addLast(nums[i]);</span><br><span class=\"line\">        dfs(nums, len, depth + <span class=\"number\">1</span>, path, used, res);</span><br><span class=\"line\">        path.removeLast();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>往往还涉及到unused数组的使用或者begin变量，以防止重复情况</code></p>\n<h4 id=\"17-电话号码的字母组合（中等）\"><a href=\"#17-电话号码的字母组合（中等）\" class=\"headerlink\" title=\"17. 电话号码的字母组合（中等）\"></a><a href=\"https://leetcode-cn.com/problems/letter-combinations-of-a-phone-number/\">17. 电话号码的字母组合（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94%E6%8E%92%E5%88%97%E3%80%81%E7%BB%84%E5%90%88%E3%80%81%E5%AD%90%E9%9B%86-1701680751840.png\" alt=\"1\"></p>\n<ul>\n<li>解题思路</li>\n</ul>\n<ol>\n<li>将电话簿信息填入哈希表</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HashMap&lt;Character, String&gt; map = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;&gt;();</span><br><span class=\"line\">map.put(<span class=\"string\">&#x27;2&#x27;</span>, <span class=\"string\">&quot;abc&quot;</span>);</span><br><span class=\"line\">map.put(<span class=\"string\">&#x27;3&#x27;</span>, <span class=\"string\">&quot;def&quot;</span>);</span><br><span class=\"line\">map.put(<span class=\"string\">&#x27;4&#x27;</span>, <span class=\"string\">&quot;ghi&quot;</span>);</span><br><span class=\"line\">map.put(<span class=\"string\">&#x27;5&#x27;</span>, <span class=\"string\">&quot;jkl&quot;</span>);</span><br><span class=\"line\">map.put(<span class=\"string\">&#x27;6&#x27;</span>, <span class=\"string\">&quot;mno&quot;</span>);</span><br><span class=\"line\">map.put(<span class=\"string\">&#x27;7&#x27;</span>, <span class=\"string\">&quot;pqrs&quot;</span>);</span><br><span class=\"line\">map.put(<span class=\"string\">&#x27;8&#x27;</span>, <span class=\"string\">&quot;tuv&quot;</span>);</span><br><span class=\"line\">map.put(<span class=\"string\">&#x27;9&#x27;</span>, <span class=\"string\">&quot;wxyz&quot;</span>);</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>每个数字对应的字母向后递归回溯</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">char</span> <span class=\"variable\">c</span> <span class=\"operator\">=</span> digits.charAt(index);</span><br><span class=\"line\"><span class=\"type\">String</span> <span class=\"variable\">s</span> <span class=\"operator\">=</span> map.get(c);</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class=\"line\">    stringBuilder.append(s.charAt(i));</span><br><span class=\"line\">    backTrace(digits, map, index + <span class=\"number\">1</span>, stringBuilder, res);</span><br><span class=\"line\">    stringBuilder.deleteCharAt(index);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>完整代码</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;String&gt; <span class=\"title function_\">letterCombinations</span><span class=\"params\">(String digits)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 创建一个HashMap用于存储数字与对应的字符组合</span></span><br><span class=\"line\">        HashMap&lt;Character, String&gt; map = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;&gt;();</span><br><span class=\"line\">        map.put(<span class=\"string\">&#x27;2&#x27;</span>, <span class=\"string\">&quot;abc&quot;</span>);</span><br><span class=\"line\">        map.put(<span class=\"string\">&#x27;3&#x27;</span>, <span class=\"string\">&quot;def&quot;</span>);</span><br><span class=\"line\">        map.put(<span class=\"string\">&#x27;4&#x27;</span>, <span class=\"string\">&quot;ghi&quot;</span>);</span><br><span class=\"line\">        map.put(<span class=\"string\">&#x27;5&#x27;</span>, <span class=\"string\">&quot;jkl&quot;</span>);</span><br><span class=\"line\">        map.put(<span class=\"string\">&#x27;6&#x27;</span>, <span class=\"string\">&quot;mno&quot;</span>);</span><br><span class=\"line\">        map.put(<span class=\"string\">&#x27;7&#x27;</span>, <span class=\"string\">&quot;pqrs&quot;</span>);</span><br><span class=\"line\">        map.put(<span class=\"string\">&#x27;8&#x27;</span>, <span class=\"string\">&quot;tuv&quot;</span>);</span><br><span class=\"line\">        map.put(<span class=\"string\">&#x27;9&#x27;</span>, <span class=\"string\">&quot;wxyz&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 如果输入的字符串长度为0，直接返回一个空的ArrayList</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (digits.length()==<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 创建一个ArrayList用于存储结果</span></span><br><span class=\"line\">        ArrayList&lt;String&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 创建一个StringBuilder用于构建字符组合</span></span><br><span class=\"line\">        <span class=\"type\">StringBuilder</span> <span class=\"variable\">stringBuilder</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">StringBuilder</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 调用backTrace方法进行回溯计算</span></span><br><span class=\"line\">        backTrace(digits, map, <span class=\"number\">0</span>, stringBuilder, res);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 返回结果</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 回溯函数，用于生成所有可能的字符组合</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">backTrace</span><span class=\"params\">(String digits, HashMap&lt;Character, String&gt; map, <span class=\"type\">int</span> index, StringBuilder stringBuilder, ArrayList&lt;String&gt; res)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 如果字符组合的长度等于输入字符串的长度，说明已经生成了一个完整的字符组合，将其添加到结果列表中</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (stringBuilder.length() == digits.length()) &#123;</span><br><span class=\"line\">            res.add(stringBuilder.toString());</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 获取当前索引对应的数字字符</span></span><br><span class=\"line\">            <span class=\"type\">char</span> <span class=\"variable\">c</span> <span class=\"operator\">=</span> digits.charAt(index);</span><br><span class=\"line\">            <span class=\"comment\">// 根据数字字符获取对应的字符组合</span></span><br><span class=\"line\">            <span class=\"type\">String</span> <span class=\"variable\">s</span> <span class=\"operator\">=</span> map.get(c);</span><br><span class=\"line\">            <span class=\"comment\">// 遍历字符组合中的每个字符</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 将当前字符添加到字符串构建器中</span></span><br><span class=\"line\">                stringBuilder.append(s.charAt(i));</span><br><span class=\"line\">                <span class=\"comment\">// 递归调用回溯函数，将索引加1，继续生成下一个字符组合</span></span><br><span class=\"line\">                backTrace(digits, map, index + <span class=\"number\">1</span>, stringBuilder, res);</span><br><span class=\"line\">                <span class=\"comment\">// 回溯，删除刚刚添加的字符，尝试生成其他字符组合</span></span><br><span class=\"line\">                stringBuilder.deleteCharAt(index);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"784-字母大小写全排列（中等）\"><a href=\"#784-字母大小写全排列（中等）\" class=\"headerlink\" title=\"784. 字母大小写全排列（中等）\"></a><a href=\"https://leetcode-cn.com/problems/letter-case-permutation/\">784. 字母大小写全排列（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94%E6%8E%92%E5%88%97%E3%80%81%E7%BB%84%E5%90%88%E3%80%81%E5%AD%90%E9%9B%86-1701680779347.png\" alt=\"2\"></p>\n<ul>\n<li>解题思路</li>\n</ul>\n<ol>\n<li>确认当前位数的字符是否为字母，分区向后递归回溯</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (c - <span class=\"string\">&#x27;A&#x27;</span> &lt;= <span class=\"number\">26</span> &amp;&amp; c - <span class=\"string\">&#x27;A&#x27;</span> &gt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; <span class=\"number\">2</span>; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">            temp.append(c);</span><br><span class=\"line\">            backTrace(s, res, temp, index+<span class=\"number\">1</span>);</span><br><span class=\"line\">            temp.deleteCharAt(index);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            temp.append((<span class=\"type\">char</span>)(c + <span class=\"number\">32</span>));</span><br><span class=\"line\">            backTrace(s, res, temp, index+<span class=\"number\">1</span>);</span><br><span class=\"line\">            temp.deleteCharAt(index);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>完整代码</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;String&gt; <span class=\"title function_\">letterCasePermutation</span><span class=\"params\">(String s)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 创建一个StringBuilder用于临时存储字符组合</span></span><br><span class=\"line\">        <span class=\"type\">StringBuilder</span> <span class=\"variable\">temp</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">StringBuilder</span>();</span><br><span class=\"line\">        <span class=\"comment\">// 创建一个ArrayList用于存储结果</span></span><br><span class=\"line\">        ArrayList&lt;String&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 调用backTrace方法进行回溯计算</span></span><br><span class=\"line\">        backTrace(s, res, temp, <span class=\"number\">0</span>);</span><br><span class=\"line\">        <span class=\"comment\">// 返回结果</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 回溯函数，用于生成所有可能的字符组合</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">backTrace</span><span class=\"params\">(String s, ArrayList&lt;String&gt; res, StringBuilder temp, <span class=\"type\">int</span> index)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 如果临时字符组合的长度等于输入字符串的长度，说明已经生成了一个完整的字符组合，将其添加到结果列表中</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (temp.length() == s.length()) &#123;</span><br><span class=\"line\">            res.add(temp.toString());</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 获取当前索引对应的字符</span></span><br><span class=\"line\">            <span class=\"type\">char</span> <span class=\"variable\">c</span> <span class=\"operator\">=</span> s.charAt(index);</span><br><span class=\"line\">            <span class=\"comment\">// 判断字符是否为大写字母</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (c - <span class=\"string\">&#x27;A&#x27;</span> &lt;= <span class=\"number\">26</span> &amp;&amp; c - <span class=\"string\">&#x27;A&#x27;</span> &gt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 遍历两种情况：保持原字符和转换为小写字母</span></span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; <span class=\"number\">2</span>; i++) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (i == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                        <span class=\"comment\">// 保持原字符</span></span><br><span class=\"line\">                        temp.append(c);</span><br><span class=\"line\">                        <span class=\"comment\">// 递归调用回溯函数，将索引加1，继续生成下一个字符组合</span></span><br><span class=\"line\">                        backTrace(s, res, temp, index+<span class=\"number\">1</span>);</span><br><span class=\"line\">                        <span class=\"comment\">// 回溯，删除刚刚添加的字符，尝试生成其他字符组合</span></span><br><span class=\"line\">                        temp.deleteCharAt(index);</span><br><span class=\"line\">                    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                        <span class=\"comment\">// 转换为小写字母</span></span><br><span class=\"line\">                        temp.append((<span class=\"type\">char</span>)(c + <span class=\"number\">32</span>));</span><br><span class=\"line\">                        <span class=\"comment\">// 递归调用回溯函数，将索引加1，继续生成下一个字符组合</span></span><br><span class=\"line\">                        backTrace(s, res, temp, index+<span class=\"number\">1</span>);</span><br><span class=\"line\">                        <span class=\"comment\">// 回溯，删除刚刚添加的字符，尝试生成其他字符组合</span></span><br><span class=\"line\">                        temp.deleteCharAt(index);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 判断字符是否为小写字母</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (c - <span class=\"string\">&#x27;a&#x27;</span> &lt;= <span class=\"number\">26</span> &amp;&amp; c - <span class=\"string\">&#x27;a&#x27;</span> &gt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 遍历两种情况：保持原字符和转换为大写字母</span></span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; <span class=\"number\">2</span>; i++) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (i == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                        <span class=\"comment\">// 保持原字符</span></span><br><span class=\"line\">                        temp.append(c);</span><br><span class=\"line\">                        <span class=\"comment\">// 递归调用回溯函数，将索引加1，继续生成下一个字符组合</span></span><br><span class=\"line\">                        backTrace(s, res, temp, index+<span class=\"number\">1</span>);</span><br><span class=\"line\">                        <span class=\"comment\">// 回溯，删除刚刚添加的字符，尝试生成其他字符组合</span></span><br><span class=\"line\">                        temp.deleteCharAt(index);</span><br><span class=\"line\">                    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                        <span class=\"comment\">// 转换为大写字母</span></span><br><span class=\"line\">                        temp.append((<span class=\"type\">char</span>) (c - <span class=\"number\">32</span>));</span><br><span class=\"line\">                        <span class=\"comment\">// 递归调用回溯函数，将索引加1，继续生成下一个字符组合</span></span><br><span class=\"line\">                        backTrace(s, res, temp, index+<span class=\"number\">1</span>);</span><br><span class=\"line\">                        <span class=\"comment\">// 回溯，删除刚刚添加的字符，尝试生成其他字符组合</span></span><br><span class=\"line\">                        temp.deleteCharAt(index);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 如果字符不是字母，则保持原字符</span></span><br><span class=\"line\">                temp.append(c);</span><br><span class=\"line\">                <span class=\"comment\">// 递归调用回溯函数，将索引加1，继续生成下一个字符组合</span></span><br><span class=\"line\">                backTrace(s, res, temp, index+<span class=\"number\">1</span>);</span><br><span class=\"line\">                <span class=\"comment\">// 回溯，删除刚刚添加的字符，尝试生成其他字符组合</span></span><br><span class=\"line\">                temp.deleteCharAt(index);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;String&gt; <span class=\"title function_\">letterCasePermutation</span><span class=\"params\">(String s)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 创建一个StringBuilder用于临时存储字符组合</span></span><br><span class=\"line\">        <span class=\"type\">StringBuilder</span> <span class=\"variable\">temp</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">StringBuilder</span>();</span><br><span class=\"line\">        <span class=\"comment\">// 创建一个ArrayList用于存储结果</span></span><br><span class=\"line\">        ArrayList&lt;String&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 调用backTrace方法进行回溯计算</span></span><br><span class=\"line\">        backTrace(s, res, temp, <span class=\"number\">0</span>);</span><br><span class=\"line\">        <span class=\"comment\">// 返回结果</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 回溯函数，用于生成所有可能的字符组合</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">backTrace</span><span class=\"params\">(String s, ArrayList&lt;String&gt; res, StringBuilder temp, <span class=\"type\">int</span> index)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 如果临时字符组合的长度等于输入字符串的长度，说明已经生成了一个完整的字符组合，将其添加到结果列表中</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (temp.length() == s.length()) &#123;</span><br><span class=\"line\">            res.add(temp.toString());</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 获取当前索引对应的字符</span></span><br><span class=\"line\">            <span class=\"type\">char</span> <span class=\"variable\">c</span> <span class=\"operator\">=</span> s.charAt(index);</span><br><span class=\"line\">            <span class=\"comment\">// 判断字符是否为大写字母</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (c - <span class=\"string\">&#x27;A&#x27;</span> &lt;= <span class=\"number\">26</span> &amp;&amp; c - <span class=\"string\">&#x27;A&#x27;</span> &gt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 遍历两种情况：保持原字符和转换为小写字母</span></span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; <span class=\"number\">2</span>; i++) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (i == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                        <span class=\"comment\">// 保持原字符</span></span><br><span class=\"line\">                        temp.append(c);</span><br><span class=\"line\">                        <span class=\"comment\">// 递归调用回溯函数，将索引加1，继续生成下一个字符组合</span></span><br><span class=\"line\">                        backTrace(s, res, temp, index+<span class=\"number\">1</span>);</span><br><span class=\"line\">                        <span class=\"comment\">// 回溯，删除刚刚添加的字符，尝试生成其他字符组合</span></span><br><span class=\"line\">                        temp.deleteCharAt(index);</span><br><span class=\"line\">                    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                        <span class=\"comment\">// 转换为小写字母</span></span><br><span class=\"line\">                        temp.append((<span class=\"type\">char</span>)(c + <span class=\"number\">32</span>));</span><br><span class=\"line\">                        <span class=\"comment\">// 递归调用回溯函数，将索引加1，继续生成下一个字符组合</span></span><br><span class=\"line\">                        backTrace(s, res, temp, index+<span class=\"number\">1</span>);</span><br><span class=\"line\">                        <span class=\"comment\">// 回溯，删除刚刚添加的字符，尝试生成其他字符组合</span></span><br><span class=\"line\">                        temp.deleteCharAt(index);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 判断字符是否为小写字母</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (c - <span class=\"string\">&#x27;a&#x27;</span> &lt;= <span class=\"number\">26</span> &amp;&amp; c - <span class=\"string\">&#x27;a&#x27;</span> &gt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 遍历两种情况：保持原字符和转换为大写字母</span></span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; <span class=\"number\">2</span>; i++) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (i == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                        <span class=\"comment\">// 保持原字符</span></span><br><span class=\"line\">                        temp.append(c);</span><br><span class=\"line\">                        <span class=\"comment\">// 递归调用回溯函数，将索引加1，继续生成下一个字符组合</span></span><br><span class=\"line\">                        backTrace(s, res, temp, index+<span class=\"number\">1</span>);</span><br><span class=\"line\">                        <span class=\"comment\">// 回溯，删除刚刚添加的字符，尝试生成其他字符组合</span></span><br><span class=\"line\">                        temp.deleteCharAt(index);</span><br><span class=\"line\">                    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                        <span class=\"comment\">// 转换为大写字母</span></span><br><span class=\"line\">                        temp.append((<span class=\"type\">char</span>) (c - <span class=\"number\">32</span>));</span><br><span class=\"line\">                        <span class=\"comment\">// 递归调用回溯函数，将索引加1，继续生成下一个字符组合</span></span><br><span class=\"line\">                        backTrace(s, res, temp, index+<span class=\"number\">1</span>);</span><br><span class=\"line\">                        <span class=\"comment\">// 回溯，删除刚刚添加的字符，尝试生成其他字符组合</span></span><br><span class=\"line\">                        temp.deleteCharAt(index);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 如果字符不是字母，则保持原字符</span></span><br><span class=\"line\">                temp.append(c);</span><br><span class=\"line\">                <span class=\"comment\">// 递归调用回溯函数，将索引加1，继续生成下一个字符组合</span></span><br><span class=\"line\">                backTrace(s, res, temp, index+<span class=\"number\">1</span>);</span><br><span class=\"line\">                <span class=\"comment\">// 回溯，删除刚刚添加的字符，尝试生成其他字符组合</span></span><br><span class=\"line\">                temp.deleteCharAt(index);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"22-括号生成（中等）\"><a href=\"#22-括号生成（中等）\" class=\"headerlink\" title=\"22. 括号生成（中等）\"></a><a href=\"https://leetcode-cn.com/problems/generate-parentheses/\">22. 括号生成（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94%E6%8E%92%E5%88%97%E3%80%81%E7%BB%84%E5%90%88%E3%80%81%E5%AD%90%E9%9B%86-1701680799652.png\" alt=\"4\"></p>\n<ul>\n<li>解题思路</li>\n</ul>\n<ol>\n<li>该题结果就两种字符类型，且左括号和右括号数相等，考虑分区</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">backTrace(res, temp, n, n);</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>左括号在前，所有让左括号先作递归回溯</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (left &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    temp.append(<span class=\"string\">&quot;(&quot;</span>);</span><br><span class=\"line\">    backTrace(res, temp, left - <span class=\"number\">1</span>, right);</span><br><span class=\"line\">    temp.deleteCharAt(temp.length() - <span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (right &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    temp.append(<span class=\"string\">&quot;)&quot;</span>);</span><br><span class=\"line\">    backTrace(res, temp, left, right - <span class=\"number\">1</span>);</span><br><span class=\"line\">    temp.deleteCharAt(temp.length() - <span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>当右括号数大于左括号时进行剪枝，防止右括号在左括号前面（<code>不匹配</code>）的情况<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if (left&gt;right)&#123;</span><br><span class=\"line\">    return;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ol>\n<ul>\n<li>完整代码</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;String&gt; <span class=\"title function_\">generateParenthesis</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 创建一个ArrayList用于存储结果</span></span><br><span class=\"line\">        ArrayList&lt;String&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 创建一个StringBuilder用于临时存储括号组合</span></span><br><span class=\"line\">        <span class=\"type\">StringBuilder</span> <span class=\"variable\">temp</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">StringBuilder</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 调用backTrace方法进行回溯计算</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 返回结果</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 回溯函数，用于生成有效的括号组合</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">backTrace</span><span class=\"params\">(ArrayList&lt;String&gt; res, StringBuilder temp, <span class=\"type\">int</span> left, <span class=\"type\">int</span> right)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 如果左括号和右括号都用完了，说明已经生成了一个有效的括号组合，将其添加到结果列表中</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (left == <span class=\"number\">0</span> &amp;&amp; right == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            res.add(temp.toString());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 如果左括号的数量大于右括号的数量，说明生成的括号组合是无效的，直接返回</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (left &gt; right) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 如果还有剩余的左括号，可以添加一个左括号</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (left &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            temp.append(<span class=\"string\">&quot;(&quot;</span>);</span><br><span class=\"line\">            <span class=\"comment\">// 递归调用回溯函数，将左括号的数量减1，继续生成下一个括号组合</span></span><br><span class=\"line\">            backTrace(res, temp, left - <span class=\"number\">1</span>, right);</span><br><span class=\"line\">            <span class=\"comment\">// 回溯，删除刚刚添加的左括号，尝试生成其他括号组合</span></span><br><span class=\"line\">            temp.deleteCharAt(temp.length() - <span class=\"number\">1</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 如果还有剩余的右括号，可以添加一个右括号</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (right &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            temp.append(<span class=\"string\">&quot;)&quot;</span>);</span><br><span class=\"line\">            <span class=\"comment\">// 递归调用回溯函数，将右括号的数量减1，继续生成下一个括号组合</span></span><br><span class=\"line\">            backTrace(res, temp, left, right - <span class=\"number\">1</span>);</span><br><span class=\"line\">            <span class=\"comment\">// 回溯，删除刚刚添加的右括号，尝试生成其他括号组合</span></span><br><span class=\"line\">            temp.deleteCharAt(temp.length() - <span class=\"number\">1</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"733-图像渲染（Flood-Fill，中等）\"><a href=\"#733-图像渲染（Flood-Fill，中等）\" class=\"headerlink\" title=\"733. 图像渲染（Flood Fill，中等）\"></a><a href=\"https://leetcode-cn.com/problems/flood-fill/\">733. 图像渲染（Flood Fill，中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94%E6%8E%92%E5%88%97%E3%80%81%E7%BB%84%E5%90%88%E3%80%81%E5%AD%90%E9%9B%86-1701680821919.png\" alt=\"6\"></p>\n<ul>\n<li>解题思路</li>\n</ul>\n<ol>\n<li>设立四个方向的跳跃数组，向四周递归回溯</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span>[] dx = &#123;<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, -<span class=\"number\">1</span>&#125;;</span><br><span class=\"line\"><span class=\"type\">int</span>[] dy = &#123;<span class=\"number\">1</span>, -<span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (image[sr][sc] != preColor) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    image[sr][sc] = color;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; <span class=\"number\">4</span>; i++) &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">newSr</span> <span class=\"operator\">=</span> sr + dx[i];</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">newSc</span> <span class=\"operator\">=</span> sc + dy[i];</span><br><span class=\"line\">        dfs(image, newSr, newSc, color, preColor);</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>完整代码</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 定义水平方向的增量数组</span></span><br><span class=\"line\">    <span class=\"type\">int</span>[] dx = &#123;<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, -<span class=\"number\">1</span>&#125;;</span><br><span class=\"line\">    <span class=\"comment\">// 定义垂直方向的增量数组</span></span><br><span class=\"line\">    <span class=\"type\">int</span>[] dy = &#123;<span class=\"number\">1</span>, -<span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span>[][] floodFill(<span class=\"type\">int</span>[][] image, <span class=\"type\">int</span> sr, <span class=\"type\">int</span> sc, <span class=\"type\">int</span> color) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 获取起始点的颜色</span></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">preColor</span> <span class=\"operator\">=</span> image[sr][sc];</span><br><span class=\"line\">        <span class=\"comment\">// 如果起始点的颜色已经是目标颜色，直接返回图像</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (preColor == color) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> image;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 调用dfs方法进行深度优先搜索</span></span><br><span class=\"line\">        dfs(image, sr, sc, color, preColor);</span><br><span class=\"line\">        <span class=\"comment\">// 返回修改后的图像</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> image;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 深度优先搜索函数</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">int</span>[][] image, <span class=\"type\">int</span> sr, <span class=\"type\">int</span> sc, <span class=\"type\">int</span> color, <span class=\"type\">int</span> preColor)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 判断当前点是否越界</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (sr &gt;= image.length || sr &lt; <span class=\"number\">0</span> || sc &gt;= image[<span class=\"number\">0</span>].length || sc &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 判断当前点的颜色是否与起始点的颜色相同</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (image[sr][sc] != preColor) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 修改当前点的颜色为目标颜色</span></span><br><span class=\"line\">        image[sr][sc] = color;</span><br><span class=\"line\">        <span class=\"comment\">// 遍历四个方向，进行递归搜索</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; <span class=\"number\">4</span>; i++) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">newSr</span> <span class=\"operator\">=</span> sr + dx[i];</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">newSc</span> <span class=\"operator\">=</span> sc + dy[i];</span><br><span class=\"line\">            dfs(image, newSr, newSc, color, preColor);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"200-岛屿数量（中等）\"><a href=\"#200-岛屿数量（中等）\" class=\"headerlink\" title=\"200. 岛屿数量（中等）\"></a><a href=\"https://leetcode-cn.com/problems/number-of-islands/\">200. 岛屿数量（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94%E6%8E%92%E5%88%97%E3%80%81%E7%BB%84%E5%90%88%E3%80%81%E5%AD%90%E9%9B%86-1701680842452.png\" alt=\"7\"></p>\n<ul>\n<li>解题思路</li>\n</ul>\n<p>1.每找到一块陆地边界，则进行递归回溯操作</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; grid.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; grid[<span class=\"number\">0</span>].length; j++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (grid[i][j] == <span class=\"string\">&#x27;1&#x27;</span>) &#123;</span><br><span class=\"line\">            dfs(grid, i, j);</span><br><span class=\"line\">            count++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>完整代码</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 定义水平方向的增量数组</span></span><br><span class=\"line\">    <span class=\"type\">int</span>[] dx = &#123;<span class=\"number\">1</span>, -<span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>&#125;;</span><br><span class=\"line\">    <span class=\"comment\">// 定义垂直方向的增量数组</span></span><br><span class=\"line\">    <span class=\"type\">int</span>[] dy = &#123;<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, -<span class=\"number\">1</span>&#125;;</span><br><span class=\"line\">    <span class=\"comment\">// 定义岛屿数量的计数器</span></span><br><span class=\"line\">    <span class=\"type\">int</span> count;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">numIslands</span><span class=\"params\">(<span class=\"type\">char</span>[][] grid)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 初始化岛屿数量计数器</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"comment\">// 遍历整个二维网格</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; grid.length; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; grid[<span class=\"number\">0</span>].length; j++) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 如果当前位置是陆地，则进行深度优先搜索</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (grid[i][j] == <span class=\"string\">&#x27;1&#x27;</span>) &#123;</span><br><span class=\"line\">                    dfs(grid, i, j);</span><br><span class=\"line\">                    <span class=\"comment\">// 搜索完成后，岛屿数量加1</span></span><br><span class=\"line\">                    count++;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 返回岛屿数量</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> count;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 深度优先搜索函数</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">char</span>[][] grid, <span class=\"type\">int</span> i, <span class=\"type\">int</span> j)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 判断当前位置是否越界</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i &lt; <span class=\"number\">0</span> || j &lt; <span class=\"number\">0</span> || i &gt;= grid.length || j &gt;= grid[<span class=\"number\">0</span>].length) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 如果当前位置是水域，则直接返回</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (grid[i][j] == <span class=\"string\">&#x27;0&#x27;</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 将当前位置标记为水域</span></span><br><span class=\"line\">        grid[i][j] = <span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">        <span class=\"comment\">// 遍历四个方向，进行递归搜索</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">k</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; k &lt; <span class=\"number\">4</span>; k++) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">sx</span> <span class=\"operator\">=</span> dx[k] + i;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">sy</span> <span class=\"operator\">=</span> dy[k] + j;</span><br><span class=\"line\">            dfs(grid, sx, sy);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"130-被围绕的区域（中等）\"><a href=\"#130-被围绕的区域（中等）\" class=\"headerlink\" title=\"130. 被围绕的区域（中等）\"></a><a href=\"https://leetcode-cn.com/problems/surrounded-regions/\">130. 被围绕的区域（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94%E6%8E%92%E5%88%97%E3%80%81%E7%BB%84%E5%90%88%E3%80%81%E5%AD%90%E9%9B%86-1701680859373.png\" alt=\"8\"></p>\n<ul>\n<li>解题思路</li>\n</ul>\n<p>1.对原来的数组进行拷贝，遍历拷贝数组的边界点找值进行递归回溯</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">char</span>[][] copyOf=<span class=\"keyword\">new</span> <span class=\"title class_\">char</span>[board.length][board[<span class=\"number\">0</span>].length];</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; board.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; board[<span class=\"number\">0</span>].length; j++) &#123;</span><br><span class=\"line\">        copyOf[i][j]=board[i][j];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; board.length; i++) &#123;</span><br><span class=\"line\">    dfs(copyOf, i, <span class=\"number\">0</span>);</span><br><span class=\"line\">    dfs(copyOf, i, board[<span class=\"number\">0</span>].length - <span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; board[<span class=\"number\">0</span>].length; i++) &#123;</span><br><span class=\"line\">    dfs(copyOf, <span class=\"number\">0</span>, i);</span><br><span class=\"line\">    dfs(copyOf, board.length - <span class=\"number\">1</span>, i);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>此时拷贝数组中剩余的点则为答案值，对原数组进行赋值操作</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; board.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; board[<span class=\"number\">0</span>].length; j++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (copyOf[i][j]==<span class=\"string\">&#x27;O&#x27;</span>)&#123;</span><br><span class=\"line\">            board[i][j]=<span class=\"string\">&#x27;X&#x27;</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>完整代码</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 定义水平方向的增量数组</span></span><br><span class=\"line\">    <span class=\"type\">int</span>[] dx = &#123;<span class=\"number\">1</span>, -<span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>&#125;;</span><br><span class=\"line\">    <span class=\"comment\">// 定义垂直方向的增量数组</span></span><br><span class=\"line\">    <span class=\"type\">int</span>[] dy = &#123;<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, -<span class=\"number\">1</span>&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">solve</span><span class=\"params\">(<span class=\"type\">char</span>[][] board)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 创建一个与原始二维数组相同大小的副本数组</span></span><br><span class=\"line\">        <span class=\"type\">char</span>[][] copyOf = <span class=\"keyword\">new</span> <span class=\"title class_\">char</span>[board.length][board[<span class=\"number\">0</span>].length];</span><br><span class=\"line\">        <span class=\"comment\">// 将原始数组的值复制到副本数组中</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; board.length; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; board[<span class=\"number\">0</span>].length; j++) &#123;</span><br><span class=\"line\">                copyOf[i][j] = board[i][j];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 遍历副本数组的边界，对边界上的 &#x27;O&#x27; 进行深度优先搜索</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; board.length; i++) &#123;</span><br><span class=\"line\">            dfs(copyOf, i, <span class=\"number\">0</span>);</span><br><span class=\"line\">            dfs(copyOf, i, board[<span class=\"number\">0</span>].length - <span class=\"number\">1</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; board[<span class=\"number\">0</span>].length; i++) &#123;</span><br><span class=\"line\">            dfs(copyOf, <span class=\"number\">0</span>, i);</span><br><span class=\"line\">            dfs(copyOf, board.length - <span class=\"number\">1</span>, i);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 遍历原始数组，将副本数组中的 &#x27;O&#x27; 修改为 &#x27;X&#x27;</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; board.length; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; board[<span class=\"number\">0</span>].length; j++) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (copyOf[i][j] == <span class=\"string\">&#x27;O&#x27;</span>) &#123;</span><br><span class=\"line\">                    board[i][j] = <span class=\"string\">&#x27;X&#x27;</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 深度优先搜索函数</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">char</span>[][] board, <span class=\"type\">int</span> i, <span class=\"type\">int</span> j)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 判断当前位置是否越界</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i &lt; <span class=\"number\">0</span> || j &lt; <span class=\"number\">0</span> || i &gt;= board.length || j &gt;= board[<span class=\"number\">0</span>].length) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 如果当前位置为 &#x27;X&#x27;，则直接返回</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (board[i][j] == <span class=\"string\">&#x27;X&#x27;</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 修改当前位置为 &#x27;X&#x27;</span></span><br><span class=\"line\">        board[i][j] = <span class=\"string\">&#x27;X&#x27;</span>;</span><br><span class=\"line\">        <span class=\"comment\">// 遍历四个方向，进行递归搜索</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">k</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; k &lt; <span class=\"number\">4</span>; k++) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">sx</span> <span class=\"operator\">=</span> dx[k] + i;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">sy</span> <span class=\"operator\">=</span> dy[k] + j;</span><br><span class=\"line\">            dfs(board, sx, sy);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"79-单词搜索（中等）\"><a href=\"#79-单词搜索（中等）\" class=\"headerlink\" title=\"79. 单词搜索（中等）\"></a><a href=\"https://leetcode-cn.com/problems/word-search/\">79. 单词搜索（中等）</a></h4><ul>\n<li>题目介绍</li>\n</ul>\n<p><img src=\"/../images/%E5%9B%9E%E6%BA%AF%E2%80%94%E2%80%94%E6%8E%92%E5%88%97%E3%80%81%E7%BB%84%E5%90%88%E3%80%81%E5%AD%90%E9%9B%86-1701680879514.png\" alt=\"9\"></p>\n<ul>\n<li>解题思路</li>\n</ul>\n<ol>\n<li>在二维数组中找目标字符串的起始值，找到后对当前值置零进行递归，回溯时当值改回</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (chars[index] != board[i][j]) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">if</span> (index == length - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    res = <span class=\"literal\">true</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">index += <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"type\">char</span> <span class=\"variable\">pre</span> <span class=\"operator\">=</span> board[i][j];</span><br><span class=\"line\">board[i][j] = <span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">k</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; k &lt; <span class=\"number\">4</span>; k++) &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">newI</span> <span class=\"operator\">=</span> dx[k] + i;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">newJ</span> <span class=\"operator\">=</span> dy[k] + j;</span><br><span class=\"line\">    dfs(board, newI, newJ, index, length, chars);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">board[i][j] = pre;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>设置全局bool变量，当找到完整字符串则赋值true</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span>[] dx = &#123;<span class=\"number\">1</span>, -<span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>&#125;;</span><br><span class=\"line\">   <span class=\"type\">int</span>[] dy = &#123;<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, -<span class=\"number\">1</span>&#125;;</span><br><span class=\"line\">   <span class=\"type\">boolean</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">exist</span><span class=\"params\">(<span class=\"type\">char</span>[][] board, String word)</span> &#123;</span><br><span class=\"line\">       <span class=\"type\">char</span>[] chars = word.toCharArray();</span><br><span class=\"line\">       <span class=\"type\">int</span> <span class=\"variable\">length</span> <span class=\"operator\">=</span> chars.length;</span><br><span class=\"line\">       <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; board.length; i++) &#123;</span><br><span class=\"line\">           <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; board[<span class=\"number\">0</span>].length; j++) &#123;</span><br><span class=\"line\">               <span class=\"keyword\">if</span> (chars[<span class=\"number\">0</span>] == board[i][j]) &#123;</span><br><span class=\"line\">                   dfs(board, i, j, <span class=\"number\">0</span>, length, chars);</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>完整代码</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 定义水平方向的增量数组</span></span><br><span class=\"line\">    <span class=\"type\">int</span>[] dx = &#123;<span class=\"number\">1</span>, -<span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>&#125;;</span><br><span class=\"line\">    <span class=\"comment\">// 定义垂直方向的增量数组</span></span><br><span class=\"line\">    <span class=\"type\">int</span>[] dy = &#123;<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, -<span class=\"number\">1</span>&#125;;</span><br><span class=\"line\">    <span class=\"comment\">// 定义结果变量</span></span><br><span class=\"line\">    <span class=\"type\">boolean</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">exist</span><span class=\"params\">(<span class=\"type\">char</span>[][] board, String word)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 将目标字符串转换为字符数组</span></span><br><span class=\"line\">        <span class=\"type\">char</span>[] chars = word.toCharArray();</span><br><span class=\"line\">        <span class=\"comment\">// 获取字符数组的长度</span></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">length</span> <span class=\"operator\">=</span> chars.length;</span><br><span class=\"line\">        <span class=\"comment\">// 遍历二维数组</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; board.length; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; board[<span class=\"number\">0</span>].length; j++) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 如果第一个字符匹配，开始深度优先搜索</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (chars[<span class=\"number\">0</span>] == board[i][j]) &#123;</span><br><span class=\"line\">                    dfs(board, i, j, <span class=\"number\">0</span>, length, chars);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 返回结果</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">char</span>[][] board,</span></span><br><span class=\"line\"><span class=\"params\">                     <span class=\"type\">int</span> i,</span></span><br><span class=\"line\"><span class=\"params\">                     <span class=\"type\">int</span> j,</span></span><br><span class=\"line\"><span class=\"params\">                     <span class=\"type\">int</span> index,</span></span><br><span class=\"line\"><span class=\"params\">                     <span class=\"type\">int</span> length,</span></span><br><span class=\"line\"><span class=\"params\">                     <span class=\"type\">char</span>[] chars)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 判断当前位置是否越界</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i &lt; <span class=\"number\">0</span> || j &lt; <span class=\"number\">0</span> || i &gt;= board.length || j &gt;= board[<span class=\"number\">0</span>].length) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 判断当前位置的字符是否匹配</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (chars[index] != board[i][j]) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 如果已经匹配到目标字符串的最后一个字符，设置结果为 true，返回</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (index == length - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">            res = <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 增加索引，保存当前位置的字符，将当前位置标记为已访问</span></span><br><span class=\"line\">        index += <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"type\">char</span> <span class=\"variable\">pre</span> <span class=\"operator\">=</span> board[i][j];</span><br><span class=\"line\">        board[i][j] = <span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">        <span class=\"comment\">// 遍历四个方向，进行递归搜索</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">k</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; k &lt; <span class=\"number\">4</span>; k++) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">newI</span> <span class=\"operator\">=</span> dx[k] + i;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">newJ</span> <span class=\"operator\">=</span> dy[k] + j;</span><br><span class=\"line\">            dfs(board, newI, newJ, index, length, chars);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 将当前位置的字符恢复为之前的值</span></span><br><span class=\"line\">        board[i][j] = pre;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"mysql小记","keywords":"mysql, 面试, 就业, 后端","description":"mysql二次复习","top_img":"/img/houduan.png","comments":1,"cover":"/img/houduan.png","copyright_author":"xingxing","copyright_author_href":"www.staraway.asia","copyright_info":"本文章转载自我的掘金","date":"2023-12-05T02:38:14.000Z","_content":"\n> 整理自各大面经及白马视频\n# 优化\n### 定位慢查询\n##### 慢查询原因（多以压测时间1s以上）\n1. 聚合查询\n2. 多表查询\n3. 表数据量过大查询\n4. 深度分页查询\n\n##### 检测工具\n1. 调试工具：`Arthas`\n2. 运维工具：`Prometheus`、`Skywalking`\n\n##### mysql自带慢日志(`生产环境不建议开启，会有性能损耗`)\n- 在mysql配置文件(`etc/my.cnf`)中配置如下信息\n\n``` yml\n# 开启mysql慢日志查询开关\nslow_query_log=1\n# 设置慢日志的时间为2s，sql语句执行时间超过两秒，则会被视为慢查询，记录查询日志\nlong_query_time=2\n```\n### 慢sql优化\n\n##### select语句前使用`explain`或者`desc`获取mysql语句执行信息\n\n![1](../images/mysql小记-1701744061305.png)\n\n- `possible_key` 当前sql可能会用到的索引\n- `key` sql实际命中的索引\n- `key_len` 索引所占大小\n- `extra` 额外的优化建议\n\n\n![2](../images/mysql小记-1701744069648.png)\n- `type` sql连接的类型（`index`或者`all`需要进行sql优化）\n\n![3](../images/mysql小记-1701744076874.png)\n\n### 索引\n##### 为什么选择b+树\n1. 阶数更多，路径更短\n2. 磁盘读写代价B+树更低，非叶子节点只存储指针，叶子节点存储数据\n3. B+树便于扫库和区间查询，叶子节点是一个双向链表\n\n##### b树与b+树的区别\n1. 在B树中，非叶子节点和叶子节点都会存放数据，而B+树的所有的数据都会出现在叶子节点，在查询的时候，B+树查找效率更加稳定（每次查找都会到叶子节点）\n2. 在进行范围查询的时候，B+树效率更高，因为B+树都在叶子节点存储，并且叶子节点是一个双向链表\n3. 磁盘读写代价b+树更低（b树会将父节点数据也加载）\n\n#####  什么是聚簇索引（主键或者唯一索引）和非聚簇索引（二级索引、非聚簇索引）\n\n![4](../images/mysql小记-1701744087281.png)\n##### 回表查询\n`回表的意思就是通过二级索引找到对应的主键值，然后再通过主键值找到聚集索引中所对应的整行数据，这个过程就是回表`\n\n##### 覆盖索引\n- 覆盖索引是指select查询语句使用了索引，在返回的列，必须在索引中全部能够找到，如果我们使用id查询，它会直接走聚集索引查询，一次索引扫描，`直接返回数据`，性能高。\n- 如果按照二级索引查询数据的时候，返回的列中没有创建索引，有可能会触发`回表查询`，尽量避免使用select *，尽量在返回的列中都包含添加索引的字段\n\n##### 超大分页怎么处理\n\n- 场景\n\n![5](../images/mysql小记-1701744094831.png)\n\n- 优化方案（`使用覆盖索引+子查询`）\n  `先分页查询数据的id字段，确定了id之后，再用子查询来过滤，只查询这个id列表中的数据就可以了因为查询id的时候，走的覆盖索引，所以效率可以提升很多`\n![6](../images/mysql小记-1701744101965.png)\n\n##### 索引创建原则\n1. 数据量较大，查询频繁（10万条）\n2. 正对常作为查询条件（where）、排序（order by）、分组（group by） 操作的字段建立索引\n3. 尽量选择区分度高的列作为索引，尽量建立唯一索引，区分度越高，使用索引的效率就越高\n4. 字符串类型的字段，且字段长度较长，可以针对字段特点，建立前缀索引\n5. 尽量选用联合索引，减少单列索引，查询时候可以使用最左前缀法则覆盖索引，节省存储空间，避免回表，提高查询效率\n6. 控制索引数量，影响增删改的效率（索引重构时间！）\n\n##### 索引失效场景（使用explain检查）\n1. 违反最左前缀法则\n2. 对于`联合索引`,范围查询右边的列索引失效\n\n`如下图，`status`使用了范围查询，导致address未使用索引`\n\n![7](../images/mysql小记-1701744109641.png)\n\n3. 在索引列上使用运算操作导致失效\n4. 模糊匹配%未在尾部导致失效\n\n### sql优化方案\n##### 表的设计优化\n1.tinyint、int 、bigint根据实际情况选择\n2.char定长效率高，varchar可变长度，效率较低\n##### sql语句优化\n1. select 语句尽量指定字段名称（避免*）\n2. sql避免索引失效\n3. union all 不会过滤重复数据，union会自动过滤重复数据（导致多一层过滤降低效率）\n4. 避免在where中对字段进行表达式操作\n5. 如果是表关联的话，尽量使用innerjoin ，不要使用left join、right join，如必须使用 一定要以小表为驱动\n##### 主从复制、读写分离\n\n![8](../images/mysql小记-1701744118087.png)\n\n# 事务\n##### 事务特性\n- 原子性（`Atomicity`）：事务是不可分割的最小单元，要么全部成功，要么全部失败\n- 一致性（`Consistensy`）:事务完成时，必须使所有的数据都保持一致状态\n- 隔离性（`Isolation`）：保证事务在不受外部并发操作影响的独立环境下运行\n- 持久性（`Durability`）：事务一旦提交或者回滚，他对数据库中的数据的改变就是永久的\n\n##### 并发问题\n`此处还有`丢失修改`，指两个线程同时改，最后就是后面改的数据`\n\n![9](../images/mysql小记-1701744125502.png)\n\n##### 事务隔离界别\n`mysql8当前事务隔离级别repeatable-read已经可以解决幻读问题`\n![10](../images/mysql小记-1701744131762.png)\n\n##### redolog和undolog\n- `buffer pool`缓冲池：位于主存中，在执行增删改操作的时候，先操作缓冲池中的数据（缓冲池中没有则从磁盘加载进缓冲池），缓冲池的数据以一定频率刷新到磁盘，减少磁盘IO,加快处理速度\n- `page`数据页：InnoDB存储引擎磁盘管理的最小单元，每个页的大小默认16kb，页中存储行数据\n\n\n1.`redolog`分为`redo log buffer`(内存中)和`redo log file`（磁盘中），当`buffer pool`刷新数据到磁盘出错的时候，使用redolog进行数据恢复（`实现事务的持久性`）\n\n![11](../images/mysql小记-1701744138342.png)\n2. `undolog`也称作回滚日志——记录了每条增删改语句的逆语句（`回滚`和`MVCC`）(`实现事务的原子性`)\n\n###### MVCC\n- 表记录中的隐藏字段（`DB_ROLL_ID`指向上一个版本id，`DB_TAX_ID`当前版本id）\n\n![12](../images/mysql小记-1701744145264.png)\n\n- readview\n\n![13](../images/mysql小记-1701744154056.png)\n\n- 数据库默认隔离级别RR情况下一直复用第一个readview，保证了每次查询数据一致\n\n# 主从同步原理\n\n1. 主库在事务提交时，会把数据变更记录在二进制日志文件 Binlog 中。\n2. 从库读取主库的二进制日志文件 Binlog ，写入到从库的中继日志Relay Log 。\n3. 从库重做中继日志中的事件，将改变反映它自己的数据\n\n\n![14](../images/mysql小记-1701744163753.png)\n\n# 分库分表\n- 水平分库：将一个库的数据分到多个库中，解决海量数据存储和高并发问题\n- 水平分表：解决单表存储和性能问题（用的少）\n- 垂直分库：微服务架构按业务分库\n- 垂直分表：冷热数据分离，多表互不影响\n\n# 三大范式\n- 第⼀范式：每个列都不可以再拆分。\n- 第⼆范式：在第⼀范式的基础上，⾮主键列完全依赖于主键，⽽不能是依赖于主键的⼀部分。\n- `第三范式`：在第⼆范式的基础上，⾮主键列只依赖于主键，不依赖于其他⾮主键(`尽量遵守`)\n\n# InnoDB和MyISAM的区别\n- 锁粒度：InnoDB为行锁，MyISAM为表锁\n- 可恢复性：InnoDB有事务日志，MyISAM不支持事务\n- InnoDB是聚簇索引，叶子节点存储着行数据，MyISAM是非聚簇索引，叶子节点存储的是行数据地址，需要再次寻址\n\n","source":"_posts/mysql小记.md","raw":"---\ntitle: mysql小记\ntags: \n  - mysql \n  - 面试 \ncategories: 后端\nkeywords: mysql, 面试, 就业, 后端\ndescription: mysql二次复习\ntop_img: /img/houduan.png\ncomments: true\ncover: /img/houduan.png\ncopyright_author: xingxing\ncopyright_author_href: www.staraway.asia\ncopyright_info: 本文章转载自我的掘金\ndate: 2023-12-05 10:38:14\n---\n\n> 整理自各大面经及白马视频\n# 优化\n### 定位慢查询\n##### 慢查询原因（多以压测时间1s以上）\n1. 聚合查询\n2. 多表查询\n3. 表数据量过大查询\n4. 深度分页查询\n\n##### 检测工具\n1. 调试工具：`Arthas`\n2. 运维工具：`Prometheus`、`Skywalking`\n\n##### mysql自带慢日志(`生产环境不建议开启，会有性能损耗`)\n- 在mysql配置文件(`etc/my.cnf`)中配置如下信息\n\n``` yml\n# 开启mysql慢日志查询开关\nslow_query_log=1\n# 设置慢日志的时间为2s，sql语句执行时间超过两秒，则会被视为慢查询，记录查询日志\nlong_query_time=2\n```\n### 慢sql优化\n\n##### select语句前使用`explain`或者`desc`获取mysql语句执行信息\n\n![1](../images/mysql小记-1701744061305.png)\n\n- `possible_key` 当前sql可能会用到的索引\n- `key` sql实际命中的索引\n- `key_len` 索引所占大小\n- `extra` 额外的优化建议\n\n\n![2](../images/mysql小记-1701744069648.png)\n- `type` sql连接的类型（`index`或者`all`需要进行sql优化）\n\n![3](../images/mysql小记-1701744076874.png)\n\n### 索引\n##### 为什么选择b+树\n1. 阶数更多，路径更短\n2. 磁盘读写代价B+树更低，非叶子节点只存储指针，叶子节点存储数据\n3. B+树便于扫库和区间查询，叶子节点是一个双向链表\n\n##### b树与b+树的区别\n1. 在B树中，非叶子节点和叶子节点都会存放数据，而B+树的所有的数据都会出现在叶子节点，在查询的时候，B+树查找效率更加稳定（每次查找都会到叶子节点）\n2. 在进行范围查询的时候，B+树效率更高，因为B+树都在叶子节点存储，并且叶子节点是一个双向链表\n3. 磁盘读写代价b+树更低（b树会将父节点数据也加载）\n\n#####  什么是聚簇索引（主键或者唯一索引）和非聚簇索引（二级索引、非聚簇索引）\n\n![4](../images/mysql小记-1701744087281.png)\n##### 回表查询\n`回表的意思就是通过二级索引找到对应的主键值，然后再通过主键值找到聚集索引中所对应的整行数据，这个过程就是回表`\n\n##### 覆盖索引\n- 覆盖索引是指select查询语句使用了索引，在返回的列，必须在索引中全部能够找到，如果我们使用id查询，它会直接走聚集索引查询，一次索引扫描，`直接返回数据`，性能高。\n- 如果按照二级索引查询数据的时候，返回的列中没有创建索引，有可能会触发`回表查询`，尽量避免使用select *，尽量在返回的列中都包含添加索引的字段\n\n##### 超大分页怎么处理\n\n- 场景\n\n![5](../images/mysql小记-1701744094831.png)\n\n- 优化方案（`使用覆盖索引+子查询`）\n  `先分页查询数据的id字段，确定了id之后，再用子查询来过滤，只查询这个id列表中的数据就可以了因为查询id的时候，走的覆盖索引，所以效率可以提升很多`\n![6](../images/mysql小记-1701744101965.png)\n\n##### 索引创建原则\n1. 数据量较大，查询频繁（10万条）\n2. 正对常作为查询条件（where）、排序（order by）、分组（group by） 操作的字段建立索引\n3. 尽量选择区分度高的列作为索引，尽量建立唯一索引，区分度越高，使用索引的效率就越高\n4. 字符串类型的字段，且字段长度较长，可以针对字段特点，建立前缀索引\n5. 尽量选用联合索引，减少单列索引，查询时候可以使用最左前缀法则覆盖索引，节省存储空间，避免回表，提高查询效率\n6. 控制索引数量，影响增删改的效率（索引重构时间！）\n\n##### 索引失效场景（使用explain检查）\n1. 违反最左前缀法则\n2. 对于`联合索引`,范围查询右边的列索引失效\n\n`如下图，`status`使用了范围查询，导致address未使用索引`\n\n![7](../images/mysql小记-1701744109641.png)\n\n3. 在索引列上使用运算操作导致失效\n4. 模糊匹配%未在尾部导致失效\n\n### sql优化方案\n##### 表的设计优化\n1.tinyint、int 、bigint根据实际情况选择\n2.char定长效率高，varchar可变长度，效率较低\n##### sql语句优化\n1. select 语句尽量指定字段名称（避免*）\n2. sql避免索引失效\n3. union all 不会过滤重复数据，union会自动过滤重复数据（导致多一层过滤降低效率）\n4. 避免在where中对字段进行表达式操作\n5. 如果是表关联的话，尽量使用innerjoin ，不要使用left join、right join，如必须使用 一定要以小表为驱动\n##### 主从复制、读写分离\n\n![8](../images/mysql小记-1701744118087.png)\n\n# 事务\n##### 事务特性\n- 原子性（`Atomicity`）：事务是不可分割的最小单元，要么全部成功，要么全部失败\n- 一致性（`Consistensy`）:事务完成时，必须使所有的数据都保持一致状态\n- 隔离性（`Isolation`）：保证事务在不受外部并发操作影响的独立环境下运行\n- 持久性（`Durability`）：事务一旦提交或者回滚，他对数据库中的数据的改变就是永久的\n\n##### 并发问题\n`此处还有`丢失修改`，指两个线程同时改，最后就是后面改的数据`\n\n![9](../images/mysql小记-1701744125502.png)\n\n##### 事务隔离界别\n`mysql8当前事务隔离级别repeatable-read已经可以解决幻读问题`\n![10](../images/mysql小记-1701744131762.png)\n\n##### redolog和undolog\n- `buffer pool`缓冲池：位于主存中，在执行增删改操作的时候，先操作缓冲池中的数据（缓冲池中没有则从磁盘加载进缓冲池），缓冲池的数据以一定频率刷新到磁盘，减少磁盘IO,加快处理速度\n- `page`数据页：InnoDB存储引擎磁盘管理的最小单元，每个页的大小默认16kb，页中存储行数据\n\n\n1.`redolog`分为`redo log buffer`(内存中)和`redo log file`（磁盘中），当`buffer pool`刷新数据到磁盘出错的时候，使用redolog进行数据恢复（`实现事务的持久性`）\n\n![11](../images/mysql小记-1701744138342.png)\n2. `undolog`也称作回滚日志——记录了每条增删改语句的逆语句（`回滚`和`MVCC`）(`实现事务的原子性`)\n\n###### MVCC\n- 表记录中的隐藏字段（`DB_ROLL_ID`指向上一个版本id，`DB_TAX_ID`当前版本id）\n\n![12](../images/mysql小记-1701744145264.png)\n\n- readview\n\n![13](../images/mysql小记-1701744154056.png)\n\n- 数据库默认隔离级别RR情况下一直复用第一个readview，保证了每次查询数据一致\n\n# 主从同步原理\n\n1. 主库在事务提交时，会把数据变更记录在二进制日志文件 Binlog 中。\n2. 从库读取主库的二进制日志文件 Binlog ，写入到从库的中继日志Relay Log 。\n3. 从库重做中继日志中的事件，将改变反映它自己的数据\n\n\n![14](../images/mysql小记-1701744163753.png)\n\n# 分库分表\n- 水平分库：将一个库的数据分到多个库中，解决海量数据存储和高并发问题\n- 水平分表：解决单表存储和性能问题（用的少）\n- 垂直分库：微服务架构按业务分库\n- 垂直分表：冷热数据分离，多表互不影响\n\n# 三大范式\n- 第⼀范式：每个列都不可以再拆分。\n- 第⼆范式：在第⼀范式的基础上，⾮主键列完全依赖于主键，⽽不能是依赖于主键的⼀部分。\n- `第三范式`：在第⼆范式的基础上，⾮主键列只依赖于主键，不依赖于其他⾮主键(`尽量遵守`)\n\n# InnoDB和MyISAM的区别\n- 锁粒度：InnoDB为行锁，MyISAM为表锁\n- 可恢复性：InnoDB有事务日志，MyISAM不支持事务\n- InnoDB是聚簇索引，叶子节点存储着行数据，MyISAM是非聚簇索引，叶子节点存储的是行数据地址，需要再次寻址\n\n","slug":"mysql小记","published":1,"updated":"2023-12-07T15:34:01.762Z","_id":"clprqo1q10000tspk1sufch0x","layout":"post","photos":[],"link":"","content":"<blockquote>\n<p>整理自各大面经及白马视频</p>\n</blockquote>\n<h1 id=\"优化\"><a href=\"#优化\" class=\"headerlink\" title=\"优化\"></a>优化</h1><h3 id=\"定位慢查询\"><a href=\"#定位慢查询\" class=\"headerlink\" title=\"定位慢查询\"></a>定位慢查询</h3><h5 id=\"慢查询原因（多以压测时间1s以上）\"><a href=\"#慢查询原因（多以压测时间1s以上）\" class=\"headerlink\" title=\"慢查询原因（多以压测时间1s以上）\"></a>慢查询原因（多以压测时间1s以上）</h5><ol>\n<li>聚合查询</li>\n<li>多表查询</li>\n<li>表数据量过大查询</li>\n<li>深度分页查询</li>\n</ol>\n<h5 id=\"检测工具\"><a href=\"#检测工具\" class=\"headerlink\" title=\"检测工具\"></a>检测工具</h5><ol>\n<li>调试工具：<code>Arthas</code></li>\n<li>运维工具：<code>Prometheus</code>、<code>Skywalking</code></li>\n</ol>\n<h5 id=\"mysql自带慢日志-生产环境不建议开启，会有性能损耗\"><a href=\"#mysql自带慢日志-生产环境不建议开启，会有性能损耗\" class=\"headerlink\" title=\"mysql自带慢日志(生产环境不建议开启，会有性能损耗)\"></a>mysql自带慢日志(<code>生产环境不建议开启，会有性能损耗</code>)</h5><ul>\n<li>在mysql配置文件(<code>etc/my.cnf</code>)中配置如下信息</li>\n</ul>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 开启mysql慢日志查询开关</span></span><br><span class=\"line\"><span class=\"string\">slow_query_log=1</span></span><br><span class=\"line\"><span class=\"comment\"># 设置慢日志的时间为2s，sql语句执行时间超过两秒，则会被视为慢查询，记录查询日志</span></span><br><span class=\"line\"><span class=\"string\">long_query_time=2</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"慢sql优化\"><a href=\"#慢sql优化\" class=\"headerlink\" title=\"慢sql优化\"></a>慢sql优化</h3><h5 id=\"select语句前使用explain或者desc获取mysql语句执行信息\"><a href=\"#select语句前使用explain或者desc获取mysql语句执行信息\" class=\"headerlink\" title=\"select语句前使用explain或者desc获取mysql语句执行信息\"></a>select语句前使用<code>explain</code>或者<code>desc</code>获取mysql语句执行信息</h5><p><img src=\"/../images/mysql%E5%B0%8F%E8%AE%B0-1701744061305.png\" alt=\"1\"></p>\n<ul>\n<li><code>possible_key</code> 当前sql可能会用到的索引</li>\n<li><code>key</code> sql实际命中的索引</li>\n<li><code>key_len</code> 索引所占大小</li>\n<li><code>extra</code> 额外的优化建议</li>\n</ul>\n<p><img src=\"/../images/mysql%E5%B0%8F%E8%AE%B0-1701744069648.png\" alt=\"2\"></p>\n<ul>\n<li><code>type</code> sql连接的类型（<code>index</code>或者<code>all</code>需要进行sql优化）</li>\n</ul>\n<p><img src=\"/../images/mysql%E5%B0%8F%E8%AE%B0-1701744076874.png\" alt=\"3\"></p>\n<h3 id=\"索引\"><a href=\"#索引\" class=\"headerlink\" title=\"索引\"></a>索引</h3><h5 id=\"为什么选择b-树\"><a href=\"#为什么选择b-树\" class=\"headerlink\" title=\"为什么选择b+树\"></a>为什么选择b+树</h5><ol>\n<li>阶数更多，路径更短</li>\n<li>磁盘读写代价B+树更低，非叶子节点只存储指针，叶子节点存储数据</li>\n<li>B+树便于扫库和区间查询，叶子节点是一个双向链表</li>\n</ol>\n<h5 id=\"b树与b-树的区别\"><a href=\"#b树与b-树的区别\" class=\"headerlink\" title=\"b树与b+树的区别\"></a>b树与b+树的区别</h5><ol>\n<li>在B树中，非叶子节点和叶子节点都会存放数据，而B+树的所有的数据都会出现在叶子节点，在查询的时候，B+树查找效率更加稳定（每次查找都会到叶子节点）</li>\n<li>在进行范围查询的时候，B+树效率更高，因为B+树都在叶子节点存储，并且叶子节点是一个双向链表</li>\n<li>磁盘读写代价b+树更低（b树会将父节点数据也加载）</li>\n</ol>\n<h5 id=\"什么是聚簇索引（主键或者唯一索引）和非聚簇索引（二级索引、非聚簇索引）\"><a href=\"#什么是聚簇索引（主键或者唯一索引）和非聚簇索引（二级索引、非聚簇索引）\" class=\"headerlink\" title=\"什么是聚簇索引（主键或者唯一索引）和非聚簇索引（二级索引、非聚簇索引）\"></a>什么是聚簇索引（主键或者唯一索引）和非聚簇索引（二级索引、非聚簇索引）</h5><p><img src=\"/../images/mysql%E5%B0%8F%E8%AE%B0-1701744087281.png\" alt=\"4\"></p>\n<h5 id=\"回表查询\"><a href=\"#回表查询\" class=\"headerlink\" title=\"回表查询\"></a>回表查询</h5><p><code>回表的意思就是通过二级索引找到对应的主键值，然后再通过主键值找到聚集索引中所对应的整行数据，这个过程就是回表</code></p>\n<h5 id=\"覆盖索引\"><a href=\"#覆盖索引\" class=\"headerlink\" title=\"覆盖索引\"></a>覆盖索引</h5><ul>\n<li>覆盖索引是指select查询语句使用了索引，在返回的列，必须在索引中全部能够找到，如果我们使用id查询，它会直接走聚集索引查询，一次索引扫描，<code>直接返回数据</code>，性能高。</li>\n<li>如果按照二级索引查询数据的时候，返回的列中没有创建索引，有可能会触发<code>回表查询</code>，尽量避免使用select *，尽量在返回的列中都包含添加索引的字段</li>\n</ul>\n<h5 id=\"超大分页怎么处理\"><a href=\"#超大分页怎么处理\" class=\"headerlink\" title=\"超大分页怎么处理\"></a>超大分页怎么处理</h5><ul>\n<li>场景</li>\n</ul>\n<p><img src=\"/../images/mysql%E5%B0%8F%E8%AE%B0-1701744094831.png\" alt=\"5\"></p>\n<ul>\n<li>优化方案（<code>使用覆盖索引+子查询</code>）<br><code>先分页查询数据的id字段，确定了id之后，再用子查询来过滤，只查询这个id列表中的数据就可以了因为查询id的时候，走的覆盖索引，所以效率可以提升很多</code><br><img src=\"/../images/mysql%E5%B0%8F%E8%AE%B0-1701744101965.png\" alt=\"6\"></li>\n</ul>\n<h5 id=\"索引创建原则\"><a href=\"#索引创建原则\" class=\"headerlink\" title=\"索引创建原则\"></a>索引创建原则</h5><ol>\n<li>数据量较大，查询频繁（10万条）</li>\n<li>正对常作为查询条件（where）、排序（order by）、分组（group by） 操作的字段建立索引</li>\n<li>尽量选择区分度高的列作为索引，尽量建立唯一索引，区分度越高，使用索引的效率就越高</li>\n<li>字符串类型的字段，且字段长度较长，可以针对字段特点，建立前缀索引</li>\n<li>尽量选用联合索引，减少单列索引，查询时候可以使用最左前缀法则覆盖索引，节省存储空间，避免回表，提高查询效率</li>\n<li>控制索引数量，影响增删改的效率（索引重构时间！）</li>\n</ol>\n<h5 id=\"索引失效场景（使用explain检查）\"><a href=\"#索引失效场景（使用explain检查）\" class=\"headerlink\" title=\"索引失效场景（使用explain检查）\"></a>索引失效场景（使用explain检查）</h5><ol>\n<li>违反最左前缀法则</li>\n<li>对于<code>联合索引</code>,范围查询右边的列索引失效</li>\n</ol>\n<p><code>如下图，</code>status<code>使用了范围查询，导致address未使用索引</code></p>\n<p><img src=\"/../images/mysql%E5%B0%8F%E8%AE%B0-1701744109641.png\" alt=\"7\"></p>\n<ol start=\"3\">\n<li>在索引列上使用运算操作导致失效</li>\n<li>模糊匹配%未在尾部导致失效</li>\n</ol>\n<h3 id=\"sql优化方案\"><a href=\"#sql优化方案\" class=\"headerlink\" title=\"sql优化方案\"></a>sql优化方案</h3><h5 id=\"表的设计优化\"><a href=\"#表的设计优化\" class=\"headerlink\" title=\"表的设计优化\"></a>表的设计优化</h5><p>1.tinyint、int 、bigint根据实际情况选择<br>2.char定长效率高，varchar可变长度，效率较低</p>\n<h5 id=\"sql语句优化\"><a href=\"#sql语句优化\" class=\"headerlink\" title=\"sql语句优化\"></a>sql语句优化</h5><ol>\n<li>select 语句尽量指定字段名称（避免*）</li>\n<li>sql避免索引失效</li>\n<li>union all 不会过滤重复数据，union会自动过滤重复数据（导致多一层过滤降低效率）</li>\n<li>避免在where中对字段进行表达式操作</li>\n<li>如果是表关联的话，尽量使用innerjoin ，不要使用left join、right join，如必须使用 一定要以小表为驱动</li>\n</ol>\n<h5 id=\"主从复制、读写分离\"><a href=\"#主从复制、读写分离\" class=\"headerlink\" title=\"主从复制、读写分离\"></a>主从复制、读写分离</h5><p><img src=\"/../images/mysql%E5%B0%8F%E8%AE%B0-1701744118087.png\" alt=\"8\"></p>\n<h1 id=\"事务\"><a href=\"#事务\" class=\"headerlink\" title=\"事务\"></a>事务</h1><h5 id=\"事务特性\"><a href=\"#事务特性\" class=\"headerlink\" title=\"事务特性\"></a>事务特性</h5><ul>\n<li>原子性（<code>Atomicity</code>）：事务是不可分割的最小单元，要么全部成功，要么全部失败</li>\n<li>一致性（<code>Consistensy</code>）:事务完成时，必须使所有的数据都保持一致状态</li>\n<li>隔离性（<code>Isolation</code>）：保证事务在不受外部并发操作影响的独立环境下运行</li>\n<li>持久性（<code>Durability</code>）：事务一旦提交或者回滚，他对数据库中的数据的改变就是永久的</li>\n</ul>\n<h5 id=\"并发问题\"><a href=\"#并发问题\" class=\"headerlink\" title=\"并发问题\"></a>并发问题</h5><p><code>此处还有</code>丢失修改<code>，指两个线程同时改，最后就是后面改的数据</code></p>\n<p><img src=\"/../images/mysql%E5%B0%8F%E8%AE%B0-1701744125502.png\" alt=\"9\"></p>\n<h5 id=\"事务隔离界别\"><a href=\"#事务隔离界别\" class=\"headerlink\" title=\"事务隔离界别\"></a>事务隔离界别</h5><p><code>mysql8当前事务隔离级别repeatable-read已经可以解决幻读问题</code><br><img src=\"/../images/mysql%E5%B0%8F%E8%AE%B0-1701744131762.png\" alt=\"10\"></p>\n<h5 id=\"redolog和undolog\"><a href=\"#redolog和undolog\" class=\"headerlink\" title=\"redolog和undolog\"></a>redolog和undolog</h5><ul>\n<li><code>buffer pool</code>缓冲池：位于主存中，在执行增删改操作的时候，先操作缓冲池中的数据（缓冲池中没有则从磁盘加载进缓冲池），缓冲池的数据以一定频率刷新到磁盘，减少磁盘IO,加快处理速度</li>\n<li><code>page</code>数据页：InnoDB存储引擎磁盘管理的最小单元，每个页的大小默认16kb，页中存储行数据</li>\n</ul>\n<p>1.<code>redolog</code>分为<code>redo log buffer</code>(内存中)和<code>redo log file</code>（磁盘中），当<code>buffer pool</code>刷新数据到磁盘出错的时候，使用redolog进行数据恢复（<code>实现事务的持久性</code>）</p>\n<p><img src=\"/../images/mysql%E5%B0%8F%E8%AE%B0-1701744138342.png\" alt=\"11\"><br>2. <code>undolog</code>也称作回滚日志——记录了每条增删改语句的逆语句（<code>回滚</code>和<code>MVCC</code>）(<code>实现事务的原子性</code>)</p>\n<h6 id=\"MVCC\"><a href=\"#MVCC\" class=\"headerlink\" title=\"MVCC\"></a>MVCC</h6><ul>\n<li>表记录中的隐藏字段（<code>DB_ROLL_ID</code>指向上一个版本id，<code>DB_TAX_ID</code>当前版本id）</li>\n</ul>\n<p><img src=\"/../images/mysql%E5%B0%8F%E8%AE%B0-1701744145264.png\" alt=\"12\"></p>\n<ul>\n<li>readview</li>\n</ul>\n<p><img src=\"/../images/mysql%E5%B0%8F%E8%AE%B0-1701744154056.png\" alt=\"13\"></p>\n<ul>\n<li>数据库默认隔离级别RR情况下一直复用第一个readview，保证了每次查询数据一致</li>\n</ul>\n<h1 id=\"主从同步原理\"><a href=\"#主从同步原理\" class=\"headerlink\" title=\"主从同步原理\"></a>主从同步原理</h1><ol>\n<li>主库在事务提交时，会把数据变更记录在二进制日志文件 Binlog 中。</li>\n<li>从库读取主库的二进制日志文件 Binlog ，写入到从库的中继日志Relay Log 。</li>\n<li>从库重做中继日志中的事件，将改变反映它自己的数据</li>\n</ol>\n<p><img src=\"/../images/mysql%E5%B0%8F%E8%AE%B0-1701744163753.png\" alt=\"14\"></p>\n<h1 id=\"分库分表\"><a href=\"#分库分表\" class=\"headerlink\" title=\"分库分表\"></a>分库分表</h1><ul>\n<li>水平分库：将一个库的数据分到多个库中，解决海量数据存储和高并发问题</li>\n<li>水平分表：解决单表存储和性能问题（用的少）</li>\n<li>垂直分库：微服务架构按业务分库</li>\n<li>垂直分表：冷热数据分离，多表互不影响</li>\n</ul>\n<h1 id=\"三大范式\"><a href=\"#三大范式\" class=\"headerlink\" title=\"三大范式\"></a>三大范式</h1><ul>\n<li>第⼀范式：每个列都不可以再拆分。</li>\n<li>第⼆范式：在第⼀范式的基础上，⾮主键列完全依赖于主键，⽽不能是依赖于主键的⼀部分。</li>\n<li><code>第三范式</code>：在第⼆范式的基础上，⾮主键列只依赖于主键，不依赖于其他⾮主键(<code>尽量遵守</code>)</li>\n</ul>\n<h1 id=\"InnoDB和MyISAM的区别\"><a href=\"#InnoDB和MyISAM的区别\" class=\"headerlink\" title=\"InnoDB和MyISAM的区别\"></a>InnoDB和MyISAM的区别</h1><ul>\n<li>锁粒度：InnoDB为行锁，MyISAM为表锁</li>\n<li>可恢复性：InnoDB有事务日志，MyISAM不支持事务</li>\n<li>InnoDB是聚簇索引，叶子节点存储着行数据，MyISAM是非聚簇索引，叶子节点存储的是行数据地址，需要再次寻址</li>\n</ul>\n","site":{"data":{"about":[{"class_name":"关于页","subtitle":"多一点努力，努力多一点✨","avatarImg":"https://avatars.githubusercontent.com/u/106024593?v=4","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱"]},"name":"xingxing","description":"是一名 后端工程师、学生、独立开发者","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"YNU,计算机科学与技术","color":"#357ef5"}]},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，昆明市","background":"/img/location.png","backgroundDark":"/img/locationDark.png"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2003,"selfInfoTips2":"云南大学","selfInfoContent2":"计算机科学与技术","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"xingxing的日常。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"/img/beautifulImg.jpg","essay_list":[{"content":"发现一个免费拿图的网站诶，还是bing好用，垃圾百度！但是好像要翻墙才可以下载原图，不过可以直接复制图片地址，然后用迅雷下载，也是可以的（图片大小翻五倍）。","date":"2023/11/31","image":["/img/essayImg/pixabay.png"],"link":"https://pixabay.com/zh/"},{"content":"寒假实习求职顺利（求神拜佛）","date":"2023/12/2"},{"content":"bilibili给个机会！！！","date":"2023/12/7"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}],"bangumis":{"wantWatch":[{"title":"百妖谱 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/5424062d0821f89ea549533d8a2c3cfff2076766.png","totalCount":"全12话","id":28230717,"follow":"527.1 万","view":"1.2 亿","danmaku":"47.2 万","coin":"42.5 万","score":9.2,"des":"桃都的灵医桃夭带着小和尚磨牙、第一季收服的小狐妖、桃都老邻居柳公子一起继续第一季的故事，为了寻找失踪的百妖谱而云游四方，在途中遇到应声、化蛇、媪姬、照海四个妖怪，为妖怪治疗各种疑难杂症。..."},{"title":"伍六七之玄武国篇","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/00843865ea13702eccc4efd64c313fd4c8029c6b.jpg","totalCount":"全10话","id":28232253,"follow":"1031.1 万","view":"4.7 亿","danmaku":"186.3 万","coin":"405.6 万","score":9.8,"des":"为了保护小鸡岛居民和这里平静的生活，伍六七和他的伙伴大保和小飞开启了去往玄武国的冒险旅程，去寻找身世的真相和解救小岛的办法，等待他们的又将是更多的未知与奇遇。..."},{"title":"伍六七之暗影宿命","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/6e5c5848ff8943fd6366e943a4f75b98598c50c6.png","totalCount":"全10话","id":28412536,"follow":"1250.4 万","view":"5.1 亿","danmaku":"110.7 万","coin":"410.9 万","score":9.2,"des":"随着伍六七回到玄武国寻找他的身世，亦引起了七大暗影刺客的追捕。然而每一位暗影刺客都带着不同的目的和不同的过去，青凤的阴谋也在此浮出了水面。而此时等待着小鸡岛上的人民，又将是另一个危机，伍六七将如何面对..."}],"watching":[{"title":"灵笼 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cf5f6595ece017215e7d61482f022094479dff37.png","totalCount":"-","id":21123554,"follow":"910.5 万","view":"1586.9 万","danmaku":"7.0 万","coin":"35.1 万","score":"-","des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."},{"title":"灵笼","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cfab7e0fbdb4786ff4e885d050b7cf37f8829486.png","totalCount":"全16话","id":23432,"follow":"903.9 万","view":"6.1 亿","danmaku":"674.4 万","coin":"677.7 万","score":9.6,"des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."}],"watched":[{"title":"时光代理人","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/1fe1cd0ec59b790fea83a5726cdc0fa3189c4394.png","totalCount":"全24话","id":28230742,"follow":"879.2 万","view":"5.0 亿","danmaku":"399.9 万","coin":"418.4 万","score":9.7,"des":"为了找到一系列罪案的操纵者，程小时求助于肖力，找寻一切藏匿于暗中的蛛丝马迹。但是拥有未知超能力的凶手在阴影之中，也从没有停止过阴谋的脚步。神秘能力者如影随形，身边伙伴接连遇害，程小时屡次身陷险境。随着..."},{"title":"元龙 第三季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/b3a9b5975059e074593b9381322ad8c423be7b89.png","totalCount":"全16话","id":28235400,"follow":"620.5 万","view":"1.5 亿","danmaku":"24.0 万","coin":"10.7 万","score":6.8,"des":"王胜于现代世界醒来，一切是如此真实而又如梦似幻。皇城遗女，戴家少主的出现更让局势扑朔迷离。而一场由小搏大的赌局，也让王胜渐渐意识到这不仅仅是他和戴家少主两个人的较量。恰时逢盛宴，天下汇集，王胜不得不再..."},{"title":"三体","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/9870f898b8a39bbb8048f34317f8d78a02cc1770.png","totalCount":"全15话","id":4315402,"follow":"690.6 万","view":"6.2 亿","danmaku":"179.3 万","coin":"230.7 万","score":8.2,"des":"无数细线横亘在星空之中，如同一把巨大的刷子。三体星舰队将于400年后抵达。遥远蝴蝶扇动着翅膀，也改变了罗辑的命运，轰然打开的门后是世界中心——面壁计划开启。同时，智子所创建的破壁室内，破壁人一一就位…..."},{"title":"狐妖小红娘","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/cbb20ee03e97a9f3ad2e1506a10fd1271f1c584a.jpg","totalCount":"全100话","id":2543,"follow":"691.5 万","view":"8.7 亿","danmaku":"1052.9 万","coin":"259.8 万","score":9.5,"des":"根据古典小说记载，世上有人有妖，妖会与人相恋，妖寿命千年，人的寿命有限，人死了，妖活着。人会投胎转世，但投胎以后不记得上辈子的爱。妖如果痴情的话，就去找狐妖“购买”一项服务，让投胎转世的人回忆起前世的..."}]}}},"cover_type":"img","excerpt":"","more":"<blockquote>\n<p>整理自各大面经及白马视频</p>\n</blockquote>\n<h1 id=\"优化\"><a href=\"#优化\" class=\"headerlink\" title=\"优化\"></a>优化</h1><h3 id=\"定位慢查询\"><a href=\"#定位慢查询\" class=\"headerlink\" title=\"定位慢查询\"></a>定位慢查询</h3><h5 id=\"慢查询原因（多以压测时间1s以上）\"><a href=\"#慢查询原因（多以压测时间1s以上）\" class=\"headerlink\" title=\"慢查询原因（多以压测时间1s以上）\"></a>慢查询原因（多以压测时间1s以上）</h5><ol>\n<li>聚合查询</li>\n<li>多表查询</li>\n<li>表数据量过大查询</li>\n<li>深度分页查询</li>\n</ol>\n<h5 id=\"检测工具\"><a href=\"#检测工具\" class=\"headerlink\" title=\"检测工具\"></a>检测工具</h5><ol>\n<li>调试工具：<code>Arthas</code></li>\n<li>运维工具：<code>Prometheus</code>、<code>Skywalking</code></li>\n</ol>\n<h5 id=\"mysql自带慢日志-生产环境不建议开启，会有性能损耗\"><a href=\"#mysql自带慢日志-生产环境不建议开启，会有性能损耗\" class=\"headerlink\" title=\"mysql自带慢日志(生产环境不建议开启，会有性能损耗)\"></a>mysql自带慢日志(<code>生产环境不建议开启，会有性能损耗</code>)</h5><ul>\n<li>在mysql配置文件(<code>etc/my.cnf</code>)中配置如下信息</li>\n</ul>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 开启mysql慢日志查询开关</span></span><br><span class=\"line\"><span class=\"string\">slow_query_log=1</span></span><br><span class=\"line\"><span class=\"comment\"># 设置慢日志的时间为2s，sql语句执行时间超过两秒，则会被视为慢查询，记录查询日志</span></span><br><span class=\"line\"><span class=\"string\">long_query_time=2</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"慢sql优化\"><a href=\"#慢sql优化\" class=\"headerlink\" title=\"慢sql优化\"></a>慢sql优化</h3><h5 id=\"select语句前使用explain或者desc获取mysql语句执行信息\"><a href=\"#select语句前使用explain或者desc获取mysql语句执行信息\" class=\"headerlink\" title=\"select语句前使用explain或者desc获取mysql语句执行信息\"></a>select语句前使用<code>explain</code>或者<code>desc</code>获取mysql语句执行信息</h5><p><img src=\"/../images/mysql%E5%B0%8F%E8%AE%B0-1701744061305.png\" alt=\"1\"></p>\n<ul>\n<li><code>possible_key</code> 当前sql可能会用到的索引</li>\n<li><code>key</code> sql实际命中的索引</li>\n<li><code>key_len</code> 索引所占大小</li>\n<li><code>extra</code> 额外的优化建议</li>\n</ul>\n<p><img src=\"/../images/mysql%E5%B0%8F%E8%AE%B0-1701744069648.png\" alt=\"2\"></p>\n<ul>\n<li><code>type</code> sql连接的类型（<code>index</code>或者<code>all</code>需要进行sql优化）</li>\n</ul>\n<p><img src=\"/../images/mysql%E5%B0%8F%E8%AE%B0-1701744076874.png\" alt=\"3\"></p>\n<h3 id=\"索引\"><a href=\"#索引\" class=\"headerlink\" title=\"索引\"></a>索引</h3><h5 id=\"为什么选择b-树\"><a href=\"#为什么选择b-树\" class=\"headerlink\" title=\"为什么选择b+树\"></a>为什么选择b+树</h5><ol>\n<li>阶数更多，路径更短</li>\n<li>磁盘读写代价B+树更低，非叶子节点只存储指针，叶子节点存储数据</li>\n<li>B+树便于扫库和区间查询，叶子节点是一个双向链表</li>\n</ol>\n<h5 id=\"b树与b-树的区别\"><a href=\"#b树与b-树的区别\" class=\"headerlink\" title=\"b树与b+树的区别\"></a>b树与b+树的区别</h5><ol>\n<li>在B树中，非叶子节点和叶子节点都会存放数据，而B+树的所有的数据都会出现在叶子节点，在查询的时候，B+树查找效率更加稳定（每次查找都会到叶子节点）</li>\n<li>在进行范围查询的时候，B+树效率更高，因为B+树都在叶子节点存储，并且叶子节点是一个双向链表</li>\n<li>磁盘读写代价b+树更低（b树会将父节点数据也加载）</li>\n</ol>\n<h5 id=\"什么是聚簇索引（主键或者唯一索引）和非聚簇索引（二级索引、非聚簇索引）\"><a href=\"#什么是聚簇索引（主键或者唯一索引）和非聚簇索引（二级索引、非聚簇索引）\" class=\"headerlink\" title=\"什么是聚簇索引（主键或者唯一索引）和非聚簇索引（二级索引、非聚簇索引）\"></a>什么是聚簇索引（主键或者唯一索引）和非聚簇索引（二级索引、非聚簇索引）</h5><p><img src=\"/../images/mysql%E5%B0%8F%E8%AE%B0-1701744087281.png\" alt=\"4\"></p>\n<h5 id=\"回表查询\"><a href=\"#回表查询\" class=\"headerlink\" title=\"回表查询\"></a>回表查询</h5><p><code>回表的意思就是通过二级索引找到对应的主键值，然后再通过主键值找到聚集索引中所对应的整行数据，这个过程就是回表</code></p>\n<h5 id=\"覆盖索引\"><a href=\"#覆盖索引\" class=\"headerlink\" title=\"覆盖索引\"></a>覆盖索引</h5><ul>\n<li>覆盖索引是指select查询语句使用了索引，在返回的列，必须在索引中全部能够找到，如果我们使用id查询，它会直接走聚集索引查询，一次索引扫描，<code>直接返回数据</code>，性能高。</li>\n<li>如果按照二级索引查询数据的时候，返回的列中没有创建索引，有可能会触发<code>回表查询</code>，尽量避免使用select *，尽量在返回的列中都包含添加索引的字段</li>\n</ul>\n<h5 id=\"超大分页怎么处理\"><a href=\"#超大分页怎么处理\" class=\"headerlink\" title=\"超大分页怎么处理\"></a>超大分页怎么处理</h5><ul>\n<li>场景</li>\n</ul>\n<p><img src=\"/../images/mysql%E5%B0%8F%E8%AE%B0-1701744094831.png\" alt=\"5\"></p>\n<ul>\n<li>优化方案（<code>使用覆盖索引+子查询</code>）<br><code>先分页查询数据的id字段，确定了id之后，再用子查询来过滤，只查询这个id列表中的数据就可以了因为查询id的时候，走的覆盖索引，所以效率可以提升很多</code><br><img src=\"/../images/mysql%E5%B0%8F%E8%AE%B0-1701744101965.png\" alt=\"6\"></li>\n</ul>\n<h5 id=\"索引创建原则\"><a href=\"#索引创建原则\" class=\"headerlink\" title=\"索引创建原则\"></a>索引创建原则</h5><ol>\n<li>数据量较大，查询频繁（10万条）</li>\n<li>正对常作为查询条件（where）、排序（order by）、分组（group by） 操作的字段建立索引</li>\n<li>尽量选择区分度高的列作为索引，尽量建立唯一索引，区分度越高，使用索引的效率就越高</li>\n<li>字符串类型的字段，且字段长度较长，可以针对字段特点，建立前缀索引</li>\n<li>尽量选用联合索引，减少单列索引，查询时候可以使用最左前缀法则覆盖索引，节省存储空间，避免回表，提高查询效率</li>\n<li>控制索引数量，影响增删改的效率（索引重构时间！）</li>\n</ol>\n<h5 id=\"索引失效场景（使用explain检查）\"><a href=\"#索引失效场景（使用explain检查）\" class=\"headerlink\" title=\"索引失效场景（使用explain检查）\"></a>索引失效场景（使用explain检查）</h5><ol>\n<li>违反最左前缀法则</li>\n<li>对于<code>联合索引</code>,范围查询右边的列索引失效</li>\n</ol>\n<p><code>如下图，</code>status<code>使用了范围查询，导致address未使用索引</code></p>\n<p><img src=\"/../images/mysql%E5%B0%8F%E8%AE%B0-1701744109641.png\" alt=\"7\"></p>\n<ol start=\"3\">\n<li>在索引列上使用运算操作导致失效</li>\n<li>模糊匹配%未在尾部导致失效</li>\n</ol>\n<h3 id=\"sql优化方案\"><a href=\"#sql优化方案\" class=\"headerlink\" title=\"sql优化方案\"></a>sql优化方案</h3><h5 id=\"表的设计优化\"><a href=\"#表的设计优化\" class=\"headerlink\" title=\"表的设计优化\"></a>表的设计优化</h5><p>1.tinyint、int 、bigint根据实际情况选择<br>2.char定长效率高，varchar可变长度，效率较低</p>\n<h5 id=\"sql语句优化\"><a href=\"#sql语句优化\" class=\"headerlink\" title=\"sql语句优化\"></a>sql语句优化</h5><ol>\n<li>select 语句尽量指定字段名称（避免*）</li>\n<li>sql避免索引失效</li>\n<li>union all 不会过滤重复数据，union会自动过滤重复数据（导致多一层过滤降低效率）</li>\n<li>避免在where中对字段进行表达式操作</li>\n<li>如果是表关联的话，尽量使用innerjoin ，不要使用left join、right join，如必须使用 一定要以小表为驱动</li>\n</ol>\n<h5 id=\"主从复制、读写分离\"><a href=\"#主从复制、读写分离\" class=\"headerlink\" title=\"主从复制、读写分离\"></a>主从复制、读写分离</h5><p><img src=\"/../images/mysql%E5%B0%8F%E8%AE%B0-1701744118087.png\" alt=\"8\"></p>\n<h1 id=\"事务\"><a href=\"#事务\" class=\"headerlink\" title=\"事务\"></a>事务</h1><h5 id=\"事务特性\"><a href=\"#事务特性\" class=\"headerlink\" title=\"事务特性\"></a>事务特性</h5><ul>\n<li>原子性（<code>Atomicity</code>）：事务是不可分割的最小单元，要么全部成功，要么全部失败</li>\n<li>一致性（<code>Consistensy</code>）:事务完成时，必须使所有的数据都保持一致状态</li>\n<li>隔离性（<code>Isolation</code>）：保证事务在不受外部并发操作影响的独立环境下运行</li>\n<li>持久性（<code>Durability</code>）：事务一旦提交或者回滚，他对数据库中的数据的改变就是永久的</li>\n</ul>\n<h5 id=\"并发问题\"><a href=\"#并发问题\" class=\"headerlink\" title=\"并发问题\"></a>并发问题</h5><p><code>此处还有</code>丢失修改<code>，指两个线程同时改，最后就是后面改的数据</code></p>\n<p><img src=\"/../images/mysql%E5%B0%8F%E8%AE%B0-1701744125502.png\" alt=\"9\"></p>\n<h5 id=\"事务隔离界别\"><a href=\"#事务隔离界别\" class=\"headerlink\" title=\"事务隔离界别\"></a>事务隔离界别</h5><p><code>mysql8当前事务隔离级别repeatable-read已经可以解决幻读问题</code><br><img src=\"/../images/mysql%E5%B0%8F%E8%AE%B0-1701744131762.png\" alt=\"10\"></p>\n<h5 id=\"redolog和undolog\"><a href=\"#redolog和undolog\" class=\"headerlink\" title=\"redolog和undolog\"></a>redolog和undolog</h5><ul>\n<li><code>buffer pool</code>缓冲池：位于主存中，在执行增删改操作的时候，先操作缓冲池中的数据（缓冲池中没有则从磁盘加载进缓冲池），缓冲池的数据以一定频率刷新到磁盘，减少磁盘IO,加快处理速度</li>\n<li><code>page</code>数据页：InnoDB存储引擎磁盘管理的最小单元，每个页的大小默认16kb，页中存储行数据</li>\n</ul>\n<p>1.<code>redolog</code>分为<code>redo log buffer</code>(内存中)和<code>redo log file</code>（磁盘中），当<code>buffer pool</code>刷新数据到磁盘出错的时候，使用redolog进行数据恢复（<code>实现事务的持久性</code>）</p>\n<p><img src=\"/../images/mysql%E5%B0%8F%E8%AE%B0-1701744138342.png\" alt=\"11\"><br>2. <code>undolog</code>也称作回滚日志——记录了每条增删改语句的逆语句（<code>回滚</code>和<code>MVCC</code>）(<code>实现事务的原子性</code>)</p>\n<h6 id=\"MVCC\"><a href=\"#MVCC\" class=\"headerlink\" title=\"MVCC\"></a>MVCC</h6><ul>\n<li>表记录中的隐藏字段（<code>DB_ROLL_ID</code>指向上一个版本id，<code>DB_TAX_ID</code>当前版本id）</li>\n</ul>\n<p><img src=\"/../images/mysql%E5%B0%8F%E8%AE%B0-1701744145264.png\" alt=\"12\"></p>\n<ul>\n<li>readview</li>\n</ul>\n<p><img src=\"/../images/mysql%E5%B0%8F%E8%AE%B0-1701744154056.png\" alt=\"13\"></p>\n<ul>\n<li>数据库默认隔离级别RR情况下一直复用第一个readview，保证了每次查询数据一致</li>\n</ul>\n<h1 id=\"主从同步原理\"><a href=\"#主从同步原理\" class=\"headerlink\" title=\"主从同步原理\"></a>主从同步原理</h1><ol>\n<li>主库在事务提交时，会把数据变更记录在二进制日志文件 Binlog 中。</li>\n<li>从库读取主库的二进制日志文件 Binlog ，写入到从库的中继日志Relay Log 。</li>\n<li>从库重做中继日志中的事件，将改变反映它自己的数据</li>\n</ol>\n<p><img src=\"/../images/mysql%E5%B0%8F%E8%AE%B0-1701744163753.png\" alt=\"14\"></p>\n<h1 id=\"分库分表\"><a href=\"#分库分表\" class=\"headerlink\" title=\"分库分表\"></a>分库分表</h1><ul>\n<li>水平分库：将一个库的数据分到多个库中，解决海量数据存储和高并发问题</li>\n<li>水平分表：解决单表存储和性能问题（用的少）</li>\n<li>垂直分库：微服务架构按业务分库</li>\n<li>垂直分表：冷热数据分离，多表互不影响</li>\n</ul>\n<h1 id=\"三大范式\"><a href=\"#三大范式\" class=\"headerlink\" title=\"三大范式\"></a>三大范式</h1><ul>\n<li>第⼀范式：每个列都不可以再拆分。</li>\n<li>第⼆范式：在第⼀范式的基础上，⾮主键列完全依赖于主键，⽽不能是依赖于主键的⼀部分。</li>\n<li><code>第三范式</code>：在第⼆范式的基础上，⾮主键列只依赖于主键，不依赖于其他⾮主键(<code>尽量遵守</code>)</li>\n</ul>\n<h1 id=\"InnoDB和MyISAM的区别\"><a href=\"#InnoDB和MyISAM的区别\" class=\"headerlink\" title=\"InnoDB和MyISAM的区别\"></a>InnoDB和MyISAM的区别</h1><ul>\n<li>锁粒度：InnoDB为行锁，MyISAM为表锁</li>\n<li>可恢复性：InnoDB有事务日志，MyISAM不支持事务</li>\n<li>InnoDB是聚簇索引，叶子节点存储着行数据，MyISAM是非聚簇索引，叶子节点存储的是行数据地址，需要再次寻址</li>\n</ul>\n"},{"title":"next.js实战","keywords":"next.js实战","description":"next.js实战记录","top_img":"/img/qianduan.png","comments":1,"cover":"/img/qianduan.png","copyright_author":"xingxing","copyright_author_href":"www.staraway.asia","copyright_info":"本文章转载自我的掘金","date":"2023-08-11T02:38:54.000Z","_content":"\n\n\n# nexj.js特点\n\n#### 服务端渲染/客户端渲染/同构渲染的优缺点\n\n- 首屏等待\n\n在 SPA 模式下，所有的数据请求和 Dom 渲染都在浏览器端完成，所以当我们第一次访问页面的时候很可能会存在“白屏”等待，而服务端渲染所有数据请求和 html内容已在服务端处理完成，浏览器收到的是完整的 html 内容，可以更快的看到渲染内容，在服务端完成数据请求肯定是要比在浏览器端效率要高的多。\n\n- SEO 优化\n\n有些网站的流量来源主要还是靠搜索引擎，所以网站的 SEO 还是很重要的，而 SPA 模式对搜索引擎不够友好，要想彻底解决这个问题只能采用服务端直出。\n\n##### 服务端渲染优点\n- 前端渲染时间。因为后端拼接htm，浏览器只需直接渲染出来。\n- 有利于SEO。服务端有完整的html页面，所以爬虫更容易获得信息，更利于seo\n- 无需占用客户端资源，模板解析由后端完成，客户端只需解析标准的html页面，这样对客户端的资源占用更少，尤其是移动端，可以更加省电。\n- 后端生成静态化文件。即生成缓存片段，这样就可以减少数据库查询浪费的时间了，且对于数据变化不大的页面非常高效 等。\n\n##### 服务端渲染缺点\n- 不利于前后端分离，开发效率很低\n- 占用服务器端资源。请求过多对服务器压力很大。\n- 即使局部页面发生变化也需要重新请求整个页面，费流量等。\n\n\n#### next.js 项目搭建\n- 先上图，next.js渲染流程\n\n![1](../images/next-js实战-1701744261397.png)\n\n- 使用next.js官方脚手架快速生成next.js项目\n\n> npm init next-app nextjs-blog --example \"https://github.com/vercel/next-learn-starter/tree/master/learn-starter\"\n\n此时使用`yarn dev`就可以迅速启动项目啦\n\n\n![2](../images/next-js实战-1701744267906.png)\n\n- next.js初探----页面跳转link\n\n```typescript\nimport Link from 'next/link'\n\n<Link href=\"/test\">\n   <span>test`1</span>\n   <span>test`2</span>\n </Link>\n```\n- next.js初探----页面跳转router\n```typescript\nimport Router from 'next/router'\n<button onClick={()=>{Router.push('/test')}}>去test页面</button>\n```\n\n- next.js初探----接收页面跳转传入参数\n```typescript\n\nimport { withRouter } from 'next/router'\nimport Link from 'next/link'\n\nconst  Test = ({router}) =>{\n    return(\n        <div>\n            <p>{router.query.id}</p>\n            <Link href={{pathname:'/'}}>\n                <span>回首页</span>\n            </Link>\n        </div>\n    )\n}\nexport default withRouter(Test)\n\n```\n\n- next.js初探----路由钩子\n\n```typescript\n// 监听\nRouter.events.on('routeChangeStart', handleRouteChange)\n// 关闭\nRouter.events.off('routeChangeStart', handleRouteChange)\n\n Router.events.on('routeChangeStart',(...args)=>{\n   console.log('路由开始变化',...args)\n})\n\nRouter.events.on('routeChangeComplete',(...args)=>{\n  console.log('路由结束变化',...args)\n})\n\nRouter.events.on('beforeHistoryChange,(...args)=>{\n  console.log('浏览器 history改变之前',...args)\n})\n\nRouter.events.on('routeChangeError,(...args)=>{\n  console.log('跳转发生错误',...args)\n})\n\nRouter.events.on('hashChangeStart,(...args)=>{\n  console.log('hash模式路由改变刚开始',...args)\n})\n\nRouter.events.on('hashChangeComplete,(...args)=>{\n  console.log('hash模式路由改变结束',...args)\n})\n```\n\n#### next.js核心---getServerSideProps（老师推荐）\n\n在初始渲染时就拿到数据，需要在页面组件处导出名为getServerSideProps的async函数，如果不需要接口数据做seo，也可以在页面加载后使用ajax请求\n```typescript\nimport { useRouter } from 'next/router'\n\nexport async function getServerSideProps(context) {\n\t// context为路由信息\n\tconst query = context.query\n\tconst id = query.id\n\tconst res = await apirequestxxx(id)\n\n  return {\n  \t// 信息可以在组件的props中拿到\n    props: {\n\t\t\tdetailData: res.data\n\t\t}\n  }\n}\n\nconst NoData = ({detailData}) => {\n  return (\n    <div>\n      // ...\n    </div>\n  )\n}\n\n```\n\n> 聊胜于无，感觉前后端分离开发才是大势所趋\n\n\n","source":"_posts/next-js实战.md","raw":"---\ntitle: next.js实战\ntags: \n    - next.js\n    - react\ncategories: 前端\nkeywords: next.js实战\ndescription: next.js实战记录\ntop_img: /img/qianduan.png\ncomments: true\ncover: /img/qianduan.png\ncopyright_author: xingxing\ncopyright_author_href: www.staraway.asia\ncopyright_info: 本文章转载自我的掘金\ndate: 2023-8-11 10:38:54\n---\n\n\n\n# nexj.js特点\n\n#### 服务端渲染/客户端渲染/同构渲染的优缺点\n\n- 首屏等待\n\n在 SPA 模式下，所有的数据请求和 Dom 渲染都在浏览器端完成，所以当我们第一次访问页面的时候很可能会存在“白屏”等待，而服务端渲染所有数据请求和 html内容已在服务端处理完成，浏览器收到的是完整的 html 内容，可以更快的看到渲染内容，在服务端完成数据请求肯定是要比在浏览器端效率要高的多。\n\n- SEO 优化\n\n有些网站的流量来源主要还是靠搜索引擎，所以网站的 SEO 还是很重要的，而 SPA 模式对搜索引擎不够友好，要想彻底解决这个问题只能采用服务端直出。\n\n##### 服务端渲染优点\n- 前端渲染时间。因为后端拼接htm，浏览器只需直接渲染出来。\n- 有利于SEO。服务端有完整的html页面，所以爬虫更容易获得信息，更利于seo\n- 无需占用客户端资源，模板解析由后端完成，客户端只需解析标准的html页面，这样对客户端的资源占用更少，尤其是移动端，可以更加省电。\n- 后端生成静态化文件。即生成缓存片段，这样就可以减少数据库查询浪费的时间了，且对于数据变化不大的页面非常高效 等。\n\n##### 服务端渲染缺点\n- 不利于前后端分离，开发效率很低\n- 占用服务器端资源。请求过多对服务器压力很大。\n- 即使局部页面发生变化也需要重新请求整个页面，费流量等。\n\n\n#### next.js 项目搭建\n- 先上图，next.js渲染流程\n\n![1](../images/next-js实战-1701744261397.png)\n\n- 使用next.js官方脚手架快速生成next.js项目\n\n> npm init next-app nextjs-blog --example \"https://github.com/vercel/next-learn-starter/tree/master/learn-starter\"\n\n此时使用`yarn dev`就可以迅速启动项目啦\n\n\n![2](../images/next-js实战-1701744267906.png)\n\n- next.js初探----页面跳转link\n\n```typescript\nimport Link from 'next/link'\n\n<Link href=\"/test\">\n   <span>test`1</span>\n   <span>test`2</span>\n </Link>\n```\n- next.js初探----页面跳转router\n```typescript\nimport Router from 'next/router'\n<button onClick={()=>{Router.push('/test')}}>去test页面</button>\n```\n\n- next.js初探----接收页面跳转传入参数\n```typescript\n\nimport { withRouter } from 'next/router'\nimport Link from 'next/link'\n\nconst  Test = ({router}) =>{\n    return(\n        <div>\n            <p>{router.query.id}</p>\n            <Link href={{pathname:'/'}}>\n                <span>回首页</span>\n            </Link>\n        </div>\n    )\n}\nexport default withRouter(Test)\n\n```\n\n- next.js初探----路由钩子\n\n```typescript\n// 监听\nRouter.events.on('routeChangeStart', handleRouteChange)\n// 关闭\nRouter.events.off('routeChangeStart', handleRouteChange)\n\n Router.events.on('routeChangeStart',(...args)=>{\n   console.log('路由开始变化',...args)\n})\n\nRouter.events.on('routeChangeComplete',(...args)=>{\n  console.log('路由结束变化',...args)\n})\n\nRouter.events.on('beforeHistoryChange,(...args)=>{\n  console.log('浏览器 history改变之前',...args)\n})\n\nRouter.events.on('routeChangeError,(...args)=>{\n  console.log('跳转发生错误',...args)\n})\n\nRouter.events.on('hashChangeStart,(...args)=>{\n  console.log('hash模式路由改变刚开始',...args)\n})\n\nRouter.events.on('hashChangeComplete,(...args)=>{\n  console.log('hash模式路由改变结束',...args)\n})\n```\n\n#### next.js核心---getServerSideProps（老师推荐）\n\n在初始渲染时就拿到数据，需要在页面组件处导出名为getServerSideProps的async函数，如果不需要接口数据做seo，也可以在页面加载后使用ajax请求\n```typescript\nimport { useRouter } from 'next/router'\n\nexport async function getServerSideProps(context) {\n\t// context为路由信息\n\tconst query = context.query\n\tconst id = query.id\n\tconst res = await apirequestxxx(id)\n\n  return {\n  \t// 信息可以在组件的props中拿到\n    props: {\n\t\t\tdetailData: res.data\n\t\t}\n  }\n}\n\nconst NoData = ({detailData}) => {\n  return (\n    <div>\n      // ...\n    </div>\n  )\n}\n\n```\n\n> 聊胜于无，感觉前后端分离开发才是大势所趋\n\n\n","slug":"next-js实战","published":1,"updated":"2023-12-06T02:57:32.248Z","_id":"clprqo1qq0001tspk4nbr3zrh","layout":"post","photos":[],"link":"","content":"<h1 id=\"nexj-js特点\"><a href=\"#nexj-js特点\" class=\"headerlink\" title=\"nexj.js特点\"></a>nexj.js特点</h1><h4 id=\"服务端渲染-客户端渲染-同构渲染的优缺点\"><a href=\"#服务端渲染-客户端渲染-同构渲染的优缺点\" class=\"headerlink\" title=\"服务端渲染&#x2F;客户端渲染&#x2F;同构渲染的优缺点\"></a>服务端渲染&#x2F;客户端渲染&#x2F;同构渲染的优缺点</h4><ul>\n<li>首屏等待</li>\n</ul>\n<p>在 SPA 模式下，所有的数据请求和 Dom 渲染都在浏览器端完成，所以当我们第一次访问页面的时候很可能会存在“白屏”等待，而服务端渲染所有数据请求和 html内容已在服务端处理完成，浏览器收到的是完整的 html 内容，可以更快的看到渲染内容，在服务端完成数据请求肯定是要比在浏览器端效率要高的多。</p>\n<ul>\n<li>SEO 优化</li>\n</ul>\n<p>有些网站的流量来源主要还是靠搜索引擎，所以网站的 SEO 还是很重要的，而 SPA 模式对搜索引擎不够友好，要想彻底解决这个问题只能采用服务端直出。</p>\n<h5 id=\"服务端渲染优点\"><a href=\"#服务端渲染优点\" class=\"headerlink\" title=\"服务端渲染优点\"></a>服务端渲染优点</h5><ul>\n<li>前端渲染时间。因为后端拼接htm，浏览器只需直接渲染出来。</li>\n<li>有利于SEO。服务端有完整的html页面，所以爬虫更容易获得信息，更利于seo</li>\n<li>无需占用客户端资源，模板解析由后端完成，客户端只需解析标准的html页面，这样对客户端的资源占用更少，尤其是移动端，可以更加省电。</li>\n<li>后端生成静态化文件。即生成缓存片段，这样就可以减少数据库查询浪费的时间了，且对于数据变化不大的页面非常高效 等。</li>\n</ul>\n<h5 id=\"服务端渲染缺点\"><a href=\"#服务端渲染缺点\" class=\"headerlink\" title=\"服务端渲染缺点\"></a>服务端渲染缺点</h5><ul>\n<li>不利于前后端分离，开发效率很低</li>\n<li>占用服务器端资源。请求过多对服务器压力很大。</li>\n<li>即使局部页面发生变化也需要重新请求整个页面，费流量等。</li>\n</ul>\n<h4 id=\"next-js-项目搭建\"><a href=\"#next-js-项目搭建\" class=\"headerlink\" title=\"next.js 项目搭建\"></a>next.js 项目搭建</h4><ul>\n<li>先上图，next.js渲染流程</li>\n</ul>\n<p><img src=\"/../images/next-js%E5%AE%9E%E6%88%98-1701744261397.png\" alt=\"1\"></p>\n<ul>\n<li>使用next.js官方脚手架快速生成next.js项目</li>\n</ul>\n<blockquote>\n<p>npm init next-app nextjs-blog –example “<a href=\"https://github.com/vercel/next-learn-starter/tree/master/learn-starter\">https://github.com/vercel/next-learn-starter/tree/master/learn-starter</a>“</p>\n</blockquote>\n<p>此时使用<code>yarn dev</code>就可以迅速启动项目啦</p>\n<p><img src=\"/../images/next-js%E5%AE%9E%E6%88%98-1701744267906.png\" alt=\"2\"></p>\n<ul>\n<li>next.js初探—-页面跳转link</li>\n</ul>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Link</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;next/link&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">&lt;<span class=\"title class_\">Link</span> href=<span class=\"string\">&quot;/test&quot;</span>&gt;</span><br><span class=\"line\">   <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>test`1<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\">   <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>test`2<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"> &lt;/<span class=\"title class_\">Link</span>&gt;</span><br></pre></td></tr></table></figure>\n<ul>\n<li><p>next.js初探—-页面跳转router</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Router</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;next/router&#x27;</span></span><br><span class=\"line\">&lt;button onClick=&#123;<span class=\"function\">()=&gt;</span>&#123;<span class=\"title class_\">Router</span>.<span class=\"title function_\">push</span>(<span class=\"string\">&#x27;/test&#x27;</span>)&#125;&#125;&gt;去test页面&lt;/button&gt;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>next.js初探—-接收页面跳转传入参数</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; withRouter &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;next/router&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Link</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;next/link&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span>  <span class=\"title function_\">Test</span> = (<span class=\"params\">&#123;router&#125;</span>) =&gt;&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span>(</span><br><span class=\"line\">        <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>&#123;router.query.id&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">Link</span> <span class=\"attr\">href</span>=<span class=\"string\">&#123;&#123;pathname:</span>&#x27;/&#x27;&#125;&#125;&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>回首页<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;/<span class=\"name\">Link</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">    )</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">withRouter</span>(<span class=\"title class_\">Test</span>)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>next.js初探—-路由钩子</p>\n</li>\n</ul>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 监听</span></span><br><span class=\"line\"><span class=\"title class_\">Router</span>.<span class=\"property\">events</span>.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;routeChangeStart&#x27;</span>, handleRouteChange)</span><br><span class=\"line\"><span class=\"comment\">// 关闭</span></span><br><span class=\"line\"><span class=\"title class_\">Router</span>.<span class=\"property\">events</span>.<span class=\"title function_\">off</span>(<span class=\"string\">&#x27;routeChangeStart&#x27;</span>, handleRouteChange)</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"title class_\">Router</span>.<span class=\"property\">events</span>.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;routeChangeStart&#x27;</span>,<span class=\"function\">(<span class=\"params\">...args</span>)=&gt;</span>&#123;</span><br><span class=\"line\">   <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;路由开始变化&#x27;</span>,...args)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Router</span>.<span class=\"property\">events</span>.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;routeChangeComplete&#x27;</span>,<span class=\"function\">(<span class=\"params\">...args</span>)=&gt;</span>&#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;路由结束变化&#x27;</span>,...args)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Router</span>.<span class=\"property\">events</span>.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;beforeHistoryChange,(...args)=&gt;&#123;</span></span><br><span class=\"line\"><span class=\"string\">  console.log(&#x27;</span>浏览器 history改变之前<span class=\"string\">&#x27;,...args)</span></span><br><span class=\"line\"><span class=\"string\">&#125;)</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Router.events.on(&#x27;</span>routeChangeError,<span class=\"function\">(<span class=\"params\">...args</span>)=&gt;</span>&#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;跳转发生错误&#x27;</span>,...args)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Router</span>.<span class=\"property\">events</span>.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;hashChangeStart,(...args)=&gt;&#123;</span></span><br><span class=\"line\"><span class=\"string\">  console.log(&#x27;</span>hash模式路由改变刚开始<span class=\"string\">&#x27;,...args)</span></span><br><span class=\"line\"><span class=\"string\">&#125;)</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Router.events.on(&#x27;</span>hashChangeComplete,<span class=\"function\">(<span class=\"params\">...args</span>)=&gt;</span>&#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;hash模式路由改变结束&#x27;</span>,...args)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"next-js核心—getServerSideProps（老师推荐）\"><a href=\"#next-js核心—getServerSideProps（老师推荐）\" class=\"headerlink\" title=\"next.js核心—getServerSideProps（老师推荐）\"></a>next.js核心—getServerSideProps（老师推荐）</h4><p>在初始渲染时就拿到数据，需要在页面组件处导出名为getServerSideProps的async函数，如果不需要接口数据做seo，也可以在页面加载后使用ajax请求</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; useRouter &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;next/router&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">getServerSideProps</span>(<span class=\"params\">context</span>) &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// context为路由信息</span></span><br><span class=\"line\">\t<span class=\"keyword\">const</span> query = context.<span class=\"property\">query</span></span><br><span class=\"line\">\t<span class=\"keyword\">const</span> id = query.<span class=\"property\">id</span></span><br><span class=\"line\">\t<span class=\"keyword\">const</span> res = <span class=\"keyword\">await</span> <span class=\"title function_\">apirequestxxx</span>(id)</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">  \t<span class=\"comment\">// 信息可以在组件的props中拿到</span></span><br><span class=\"line\">    <span class=\"attr\">props</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">detailData</span>: res.<span class=\"property\">data</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">NoData</span> = (<span class=\"params\">&#123;detailData&#125;</span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">      // ...</span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">  )</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>聊胜于无，感觉前后端分离开发才是大势所趋</p>\n</blockquote>\n","site":{"data":{"about":[{"class_name":"关于页","subtitle":"多一点努力，努力多一点✨","avatarImg":"https://avatars.githubusercontent.com/u/106024593?v=4","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱"]},"name":"xingxing","description":"是一名 后端工程师、学生、独立开发者","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"YNU,计算机科学与技术","color":"#357ef5"}]},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，昆明市","background":"/img/location.png","backgroundDark":"/img/locationDark.png"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2003,"selfInfoTips2":"云南大学","selfInfoContent2":"计算机科学与技术","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"xingxing的日常。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"/img/beautifulImg.jpg","essay_list":[{"content":"发现一个免费拿图的网站诶，还是bing好用，垃圾百度！但是好像要翻墙才可以下载原图，不过可以直接复制图片地址，然后用迅雷下载，也是可以的（图片大小翻五倍）。","date":"2023/11/31","image":["/img/essayImg/pixabay.png"],"link":"https://pixabay.com/zh/"},{"content":"寒假实习求职顺利（求神拜佛）","date":"2023/12/2"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}],"bangumis":{"wantWatch":[{"title":"百妖谱 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/5424062d0821f89ea549533d8a2c3cfff2076766.png","totalCount":"全12话","id":28230717,"follow":"527.1 万","view":"1.2 亿","danmaku":"47.2 万","coin":"42.5 万","score":9.2,"des":"桃都的灵医桃夭带着小和尚磨牙、第一季收服的小狐妖、桃都老邻居柳公子一起继续第一季的故事，为了寻找失踪的百妖谱而云游四方，在途中遇到应声、化蛇、媪姬、照海四个妖怪，为妖怪治疗各种疑难杂症。..."},{"title":"伍六七之玄武国篇","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/00843865ea13702eccc4efd64c313fd4c8029c6b.jpg","totalCount":"全10话","id":28232253,"follow":"1031.1 万","view":"4.7 亿","danmaku":"186.3 万","coin":"405.6 万","score":9.8,"des":"为了保护小鸡岛居民和这里平静的生活，伍六七和他的伙伴大保和小飞开启了去往玄武国的冒险旅程，去寻找身世的真相和解救小岛的办法，等待他们的又将是更多的未知与奇遇。..."},{"title":"伍六七之暗影宿命","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/6e5c5848ff8943fd6366e943a4f75b98598c50c6.png","totalCount":"全10话","id":28412536,"follow":"1250.4 万","view":"5.1 亿","danmaku":"110.7 万","coin":"410.9 万","score":9.2,"des":"随着伍六七回到玄武国寻找他的身世，亦引起了七大暗影刺客的追捕。然而每一位暗影刺客都带着不同的目的和不同的过去，青凤的阴谋也在此浮出了水面。而此时等待着小鸡岛上的人民，又将是另一个危机，伍六七将如何面对..."}],"watching":[{"title":"灵笼 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cf5f6595ece017215e7d61482f022094479dff37.png","totalCount":"-","id":21123554,"follow":"910.5 万","view":"1586.9 万","danmaku":"7.0 万","coin":"35.1 万","score":"-","des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."},{"title":"灵笼","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cfab7e0fbdb4786ff4e885d050b7cf37f8829486.png","totalCount":"全16话","id":23432,"follow":"903.9 万","view":"6.1 亿","danmaku":"674.4 万","coin":"677.7 万","score":9.6,"des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."}],"watched":[{"title":"时光代理人","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/1fe1cd0ec59b790fea83a5726cdc0fa3189c4394.png","totalCount":"全24话","id":28230742,"follow":"879.2 万","view":"5.0 亿","danmaku":"399.9 万","coin":"418.4 万","score":9.7,"des":"为了找到一系列罪案的操纵者，程小时求助于肖力，找寻一切藏匿于暗中的蛛丝马迹。但是拥有未知超能力的凶手在阴影之中，也从没有停止过阴谋的脚步。神秘能力者如影随形，身边伙伴接连遇害，程小时屡次身陷险境。随着..."},{"title":"元龙 第三季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/b3a9b5975059e074593b9381322ad8c423be7b89.png","totalCount":"全16话","id":28235400,"follow":"620.5 万","view":"1.5 亿","danmaku":"24.0 万","coin":"10.7 万","score":6.8,"des":"王胜于现代世界醒来，一切是如此真实而又如梦似幻。皇城遗女，戴家少主的出现更让局势扑朔迷离。而一场由小搏大的赌局，也让王胜渐渐意识到这不仅仅是他和戴家少主两个人的较量。恰时逢盛宴，天下汇集，王胜不得不再..."},{"title":"三体","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/9870f898b8a39bbb8048f34317f8d78a02cc1770.png","totalCount":"全15话","id":4315402,"follow":"690.6 万","view":"6.2 亿","danmaku":"179.3 万","coin":"230.7 万","score":8.2,"des":"无数细线横亘在星空之中，如同一把巨大的刷子。三体星舰队将于400年后抵达。遥远蝴蝶扇动着翅膀，也改变了罗辑的命运，轰然打开的门后是世界中心——面壁计划开启。同时，智子所创建的破壁室内，破壁人一一就位…..."},{"title":"狐妖小红娘","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/cbb20ee03e97a9f3ad2e1506a10fd1271f1c584a.jpg","totalCount":"全100话","id":2543,"follow":"691.5 万","view":"8.7 亿","danmaku":"1052.9 万","coin":"259.8 万","score":9.5,"des":"根据古典小说记载，世上有人有妖，妖会与人相恋，妖寿命千年，人的寿命有限，人死了，妖活着。人会投胎转世，但投胎以后不记得上辈子的爱。妖如果痴情的话，就去找狐妖“购买”一项服务，让投胎转世的人回忆起前世的..."}]}}},"cover_type":"img","excerpt":"","more":"<h1 id=\"nexj-js特点\"><a href=\"#nexj-js特点\" class=\"headerlink\" title=\"nexj.js特点\"></a>nexj.js特点</h1><h4 id=\"服务端渲染-客户端渲染-同构渲染的优缺点\"><a href=\"#服务端渲染-客户端渲染-同构渲染的优缺点\" class=\"headerlink\" title=\"服务端渲染&#x2F;客户端渲染&#x2F;同构渲染的优缺点\"></a>服务端渲染&#x2F;客户端渲染&#x2F;同构渲染的优缺点</h4><ul>\n<li>首屏等待</li>\n</ul>\n<p>在 SPA 模式下，所有的数据请求和 Dom 渲染都在浏览器端完成，所以当我们第一次访问页面的时候很可能会存在“白屏”等待，而服务端渲染所有数据请求和 html内容已在服务端处理完成，浏览器收到的是完整的 html 内容，可以更快的看到渲染内容，在服务端完成数据请求肯定是要比在浏览器端效率要高的多。</p>\n<ul>\n<li>SEO 优化</li>\n</ul>\n<p>有些网站的流量来源主要还是靠搜索引擎，所以网站的 SEO 还是很重要的，而 SPA 模式对搜索引擎不够友好，要想彻底解决这个问题只能采用服务端直出。</p>\n<h5 id=\"服务端渲染优点\"><a href=\"#服务端渲染优点\" class=\"headerlink\" title=\"服务端渲染优点\"></a>服务端渲染优点</h5><ul>\n<li>前端渲染时间。因为后端拼接htm，浏览器只需直接渲染出来。</li>\n<li>有利于SEO。服务端有完整的html页面，所以爬虫更容易获得信息，更利于seo</li>\n<li>无需占用客户端资源，模板解析由后端完成，客户端只需解析标准的html页面，这样对客户端的资源占用更少，尤其是移动端，可以更加省电。</li>\n<li>后端生成静态化文件。即生成缓存片段，这样就可以减少数据库查询浪费的时间了，且对于数据变化不大的页面非常高效 等。</li>\n</ul>\n<h5 id=\"服务端渲染缺点\"><a href=\"#服务端渲染缺点\" class=\"headerlink\" title=\"服务端渲染缺点\"></a>服务端渲染缺点</h5><ul>\n<li>不利于前后端分离，开发效率很低</li>\n<li>占用服务器端资源。请求过多对服务器压力很大。</li>\n<li>即使局部页面发生变化也需要重新请求整个页面，费流量等。</li>\n</ul>\n<h4 id=\"next-js-项目搭建\"><a href=\"#next-js-项目搭建\" class=\"headerlink\" title=\"next.js 项目搭建\"></a>next.js 项目搭建</h4><ul>\n<li>先上图，next.js渲染流程</li>\n</ul>\n<p><img src=\"/../images/next-js%E5%AE%9E%E6%88%98-1701744261397.png\" alt=\"1\"></p>\n<ul>\n<li>使用next.js官方脚手架快速生成next.js项目</li>\n</ul>\n<blockquote>\n<p>npm init next-app nextjs-blog –example “<a href=\"https://github.com/vercel/next-learn-starter/tree/master/learn-starter\">https://github.com/vercel/next-learn-starter/tree/master/learn-starter</a>“</p>\n</blockquote>\n<p>此时使用<code>yarn dev</code>就可以迅速启动项目啦</p>\n<p><img src=\"/../images/next-js%E5%AE%9E%E6%88%98-1701744267906.png\" alt=\"2\"></p>\n<ul>\n<li>next.js初探—-页面跳转link</li>\n</ul>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Link</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;next/link&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">&lt;<span class=\"title class_\">Link</span> href=<span class=\"string\">&quot;/test&quot;</span>&gt;</span><br><span class=\"line\">   <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>test`1<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\">   <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>test`2<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"> &lt;/<span class=\"title class_\">Link</span>&gt;</span><br></pre></td></tr></table></figure>\n<ul>\n<li><p>next.js初探—-页面跳转router</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Router</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;next/router&#x27;</span></span><br><span class=\"line\">&lt;button onClick=&#123;<span class=\"function\">()=&gt;</span>&#123;<span class=\"title class_\">Router</span>.<span class=\"title function_\">push</span>(<span class=\"string\">&#x27;/test&#x27;</span>)&#125;&#125;&gt;去test页面&lt;/button&gt;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>next.js初探—-接收页面跳转传入参数</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; withRouter &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;next/router&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Link</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;next/link&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span>  <span class=\"title function_\">Test</span> = (<span class=\"params\">&#123;router&#125;</span>) =&gt;&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span>(</span><br><span class=\"line\">        <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>&#123;router.query.id&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">Link</span> <span class=\"attr\">href</span>=<span class=\"string\">&#123;&#123;pathname:</span>&#x27;/&#x27;&#125;&#125;&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>回首页<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;/<span class=\"name\">Link</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">    )</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">withRouter</span>(<span class=\"title class_\">Test</span>)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>next.js初探—-路由钩子</p>\n</li>\n</ul>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 监听</span></span><br><span class=\"line\"><span class=\"title class_\">Router</span>.<span class=\"property\">events</span>.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;routeChangeStart&#x27;</span>, handleRouteChange)</span><br><span class=\"line\"><span class=\"comment\">// 关闭</span></span><br><span class=\"line\"><span class=\"title class_\">Router</span>.<span class=\"property\">events</span>.<span class=\"title function_\">off</span>(<span class=\"string\">&#x27;routeChangeStart&#x27;</span>, handleRouteChange)</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"title class_\">Router</span>.<span class=\"property\">events</span>.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;routeChangeStart&#x27;</span>,<span class=\"function\">(<span class=\"params\">...args</span>)=&gt;</span>&#123;</span><br><span class=\"line\">   <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;路由开始变化&#x27;</span>,...args)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Router</span>.<span class=\"property\">events</span>.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;routeChangeComplete&#x27;</span>,<span class=\"function\">(<span class=\"params\">...args</span>)=&gt;</span>&#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;路由结束变化&#x27;</span>,...args)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Router</span>.<span class=\"property\">events</span>.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;beforeHistoryChange,(...args)=&gt;&#123;</span></span><br><span class=\"line\"><span class=\"string\">  console.log(&#x27;</span>浏览器 history改变之前<span class=\"string\">&#x27;,...args)</span></span><br><span class=\"line\"><span class=\"string\">&#125;)</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Router.events.on(&#x27;</span>routeChangeError,<span class=\"function\">(<span class=\"params\">...args</span>)=&gt;</span>&#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;跳转发生错误&#x27;</span>,...args)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Router</span>.<span class=\"property\">events</span>.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;hashChangeStart,(...args)=&gt;&#123;</span></span><br><span class=\"line\"><span class=\"string\">  console.log(&#x27;</span>hash模式路由改变刚开始<span class=\"string\">&#x27;,...args)</span></span><br><span class=\"line\"><span class=\"string\">&#125;)</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Router.events.on(&#x27;</span>hashChangeComplete,<span class=\"function\">(<span class=\"params\">...args</span>)=&gt;</span>&#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;hash模式路由改变结束&#x27;</span>,...args)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"next-js核心—getServerSideProps（老师推荐）\"><a href=\"#next-js核心—getServerSideProps（老师推荐）\" class=\"headerlink\" title=\"next.js核心—getServerSideProps（老师推荐）\"></a>next.js核心—getServerSideProps（老师推荐）</h4><p>在初始渲染时就拿到数据，需要在页面组件处导出名为getServerSideProps的async函数，如果不需要接口数据做seo，也可以在页面加载后使用ajax请求</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; useRouter &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;next/router&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">getServerSideProps</span>(<span class=\"params\">context</span>) &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// context为路由信息</span></span><br><span class=\"line\">\t<span class=\"keyword\">const</span> query = context.<span class=\"property\">query</span></span><br><span class=\"line\">\t<span class=\"keyword\">const</span> id = query.<span class=\"property\">id</span></span><br><span class=\"line\">\t<span class=\"keyword\">const</span> res = <span class=\"keyword\">await</span> <span class=\"title function_\">apirequestxxx</span>(id)</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">  \t<span class=\"comment\">// 信息可以在组件的props中拿到</span></span><br><span class=\"line\">    <span class=\"attr\">props</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">detailData</span>: res.<span class=\"property\">data</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">NoData</span> = (<span class=\"params\">&#123;detailData&#125;</span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">      // ...</span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">  )</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>聊胜于无，感觉前后端分离开发才是大势所趋</p>\n</blockquote>\n"},{"title":"redis在springboot项目中的使用","keywords":"springboot, redis","description":"redis二次回忆","top_img":"/img/suanfa.png","comments":1,"cover":"/img/suanfa.png","copyright_author":"xingxing","copyright_author_href":"www.staraway.asia","copyright_info":"本文章转载自我的掘金","date":"2023-08-13T02:38:38.000Z","_content":"\n\n### Spring-data-redis简介\n​Spring-data-redis提供了在Spring应用中通过简单的配置访问redis服务，对reids底层开发包(Jedis, JRedis, and RJC)进行了高度封装，封装了 RedisTemplate 对象来进行对Redis的各种操作、异常处理及序列化，支持发布订阅，并对Spring 3.1 cache进行了实现，它支持所有的Redis原生的 API。\n\n### Spring-data-redis 针对 Jedis 提供的功能\n1. 连接池自动管理，提供了一个高度封装的“RedisTemplate”类\n2. 针对jedis客户端中大量api进行了归类封装,将同一类型操作封装为operation接口\n\n-   ValueOperations：简单的K-V操作\n-   SetOperations：set类型数据操作\n-   ZSetOperations：zset类型数据操作\n-   HashOperations：针对map类型的数据操作\n-   ListOperations：针对list类型的数据操作\n\n### 加入依赖整合redis\n```xml\n<!-- redis依赖 -->\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-data-redis</artifactId>\n</dependency>\n<!-- fastjson -->\n<dependency>\n    <groupId>com.alibaba</groupId>\n    <artifactId>fastjson</artifactId>\n    <version>1.2.76</version>\n</dependency>\n```\n\n### 增加配置类，提供序列化方式\n```Java\n/**\n * @author star\n */\n@Configuration\npublic class RedisConfig {\n\n    @Bean\n    @ConditionalOnMissingBean(name = \"redisTemplate\")\n    public RedisTemplate<String, Object> redisTemplate(\n            RedisConnectionFactory redisConnectionFactory)\n            throws UnknownHostException {\n        Jackson2JsonRedisSerializer<Object> jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer<Object>(Object.class);\n        ObjectMapper om = new ObjectMapper();\n        om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\n        om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);\n        jackson2JsonRedisSerializer.setObjectMapper(om);\n\n        RedisTemplate<String, Object> template = new RedisTemplate<String, Object>();\n        template.setConnectionFactory(redisConnectionFactory);\n        template.setKeySerializer(jackson2JsonRedisSerializer);\n        template.setValueSerializer(jackson2JsonRedisSerializer);\n        template.setHashKeySerializer(jackson2JsonRedisSerializer);\n        template.setHashValueSerializer(jackson2JsonRedisSerializer);\n        template.afterPropertiesSet();\n        return template;\n    }\n\n\n    @Bean\n    @ConditionalOnMissingBean(StringRedisTemplate.class)\n    public StringRedisTemplate stringRedisTemplate(\n            RedisConnectionFactory redisConnectionFactory)\n            throws UnknownHostException {\n        StringRedisTemplate template = new StringRedisTemplate();\n        template.setConnectionFactory(redisConnectionFactory);\n        return template;\n    }\n\n    @Bean\n    public HashOperations<String, String, Object> hashOperations(RedisTemplate<String, Object> redisTemplate) {\n        return redisTemplate.opsForHash();\n    }\n}\n```\n\n### redisTemplate针对redis中五种数据类型的操作详解\n- string类型-------opsForSet和opsForValue\n\n\n```java\n   //最简单操作\n    public void set(String key, Object value) {\n        redisTemplate.opsForValue().set(key, value);\n    }\n    \n    //常用操作可以设置多久后过期\n   public void setWithExpire(String key, Object value, Long seconds, TimeUnit timeUnit) {\n        redisTemplate.opsForValue().set(key, value, seconds, timeUnit);\n    }\n    \n    //获取值\n    public Object get(String key) {\n        return redisTemplate.opsForValue().get(key);\n    }\n    \n    //是否有值\n    public Boolean hasKey(String key) {\n        return redisTemplate.hasKey(key);\n    }\n    \n    \n    public Boolean del(String key) {\n        return redisTemplate.delete(key);\n    }\n    \n    public Long batchDel(Collection<String> keys) {\n        return redisTemplate.delete(keys);\n    }\n    \n    //重新设置过期时间，作刷新用\n    public Boolean expire(String key, long seconds) {\n        return redisTemplate.expire(key, seconds, TimeUnit.SECONDS);\n    }\n    \n    //重新设置过期的日期，作刷新用\n    public Boolean expireAt(String key, Date date) {\n        return redisTemplate.expireAt(key, date);\n    }\n    \n    //根据新的 key的名称修改 redis中老的 key的名称\n    public Boolean renameIfAbsent(String oldKey, String newKey) {\n        return redisTemplate.renameIfAbsent(oldKey, newKey);\n    }\n    \n    //获取key值的类型\n    public DataType type(String key) {\n        return redisTemplate.type(key);\n    }\n    \n    //从当前redis的key中国随机取一个\n    public String randomKey() {\n        return redisTemplate.randomKey();\n    }\n    \n    //获取当前key的过期时间（可以设置时间单位）\n    public Long getExpire(String key, TimeUnit timeUnit) {\n        return redisTemplate.getExpire(key, timeUnit);\n    }\n    \n    //让当前key的值++  （此处多用数字。类型为long值）\n    public Long increment(String key) {\n        return redisTemplate.opsForValue().increment(key,1);\n    }\n    \n    //重新设置 key对应的值，如果存在返回 false，否则返回 true\n    public Boolean setIfAbsent(String key, Object value) {\n        return redisTemplate.opsForValue().setIfAbsent(key, value);\n    }\n    \n\n    \n```\n\n- map类型-------opsForHash\n\n```JAVA\n    //新增map值，key为键  field+value是map\n    public void put(String key, Object field, Object value) {\n        redisTemplate.opsForHash().put(key, field, value);\n    }\n    \n    //用map的形式添加\n    public void putAll(String key, Map<Object, Object> map) {\n        redisTemplate.opsForHash().putAll(key, map);\n    }\n    \n    //获取 map中指定的 key值，如果存在则返回值，没有就返回null\n    public Object getMapValue(String key, String field) {\n        return redisTemplate.opsForHash().get(key, field);\n    }\n    \n    //根据 key获取 Map对象\n    public Map<Object, Object> getMap(String key) {\n        return redisTemplate.opsForHash().entries(key);\n    }\n    \n    //当 hashKey不存在的时候，进行设置 map的值\n    public Boolean putIfAbsent(String key, Object hashKey, Object value) {\n        return redisTemplate.opsForHash().putIfAbsent(key, hashKey, value);\n    }\n    \n    //此处用法和opsForValue相同\n    public Long incrementLong(String key, Object field, long increment) {\n        return redisTemplate.opsForHash().increment(key, field, increment);\n    }\n    \n    //获取 map中的所有字段\n    public Set<Object> keys(String key) {\n        return redisTemplate.opsForHash().keys(key);\n    }\n    \n```\n\n- list类型-------opsForList\n\n``` java\n    //把值添加在list的前面，可以是单个值也可以多个值（也可以是List<Object> value类型）\n    //注意此处的left就是从前面插入，right就是插入到末尾\n    public Long leftPush(String key, Object... values) {\n        return redisTemplate.opsForList().leftPushAll(key, values);\n    }\n    \n    //根据索引获取list中的值\n    public Object index(String key, long index) {\n        return redisTemplate.opsForList().index(key, index);\n    }\n    \n    //从一个队列的右边弹出一个元素并将这个元素放入另一个指定队列的最左边\n    public Object rightPopAndLeftPush(String sourceKey, String destinationKey) {\n        return redisTemplate.opsForList().rightPopAndLeftPush(sourceKey, destinationKey);\n    }\n    \n    //从存储在键中的列表中删除等于值的元素的第一个计数事件。count> 0：删除等于从左到右移动的值的第一个元素；count< 0：删除等于从右到左移动的值的第一个元素；count = 0：删除等于value的所有元素。\n    //index从第几个值开始去进行删除，返回值是删除元素的数量\n    public Long remove(String key, long index, Object value) {\n        return redisTemplate.opsForList().remove(key, index, value);\n    }\n    \n```\n\n\n- set类型-------opsForSet\n\n``` java\n    //添加元素到 set中\n    public Long add(String key, Collection<Object> values) {\n        return redisTemplate.opsForSet().add(key, values);\n    }\n    \n    //从 set中删除一个随机元素，并返回该元素\n    public Object pop(String key) {\n        return redisTemplate.opsForSet().pop(key);\n    }\n    \n    //判断 set集合中是否存在value值\n    public Boolean isMember(String key, Object value) {\n        return redisTemplate.opsForSet().isMember(key, value);\n    }\n    \n    \n    //以下多个方法均为获取两个集合的交集或者并集或者差集并返回一个集合，其中一个可以是自定义的集合，也可以是redis中的集合\n    //交集\n    public Set<Object> intersect(String key, String otherKey) {\n        return redisTemplate.opsForSet().intersect(key, otherKey);\n    }\n    public Set<Object> intersect(String key, Collection<String> collection) {\n        return redisTemplate.opsForSet().intersect(key, collection);\n    }\n    //并集\n    public Set<Object> union(String key, String key1) {\n        return redisTemplate.opsForSet().union(key, key1);\n    }\n    //差集\n    public Set<Object> difference(String key, String key1) {\n        return redisTemplate.opsForSet().difference(key, key1);\n    }\n    \n    //获取集合中的所有元素\n    public Set<Object> members(String key) {\n        return redisTemplate.opsForSet().members(key);\n    }\n    \n    //移除集合中某个元素\n    public Long remove(String key, Collection<Object> objects) {\n        return redisTemplate.opsForSet().remove(key, objects);\n    }\n```\n\n- set类型-------opsForZSet(相比于set为元素增加了score，默认安装score从小到大排序)\n    \n``` java\n    //添加元素到 zset，从小到大排序\n    public Boolean add(String key, Object value, double score) {\n        return redisTemplate.opsForZSet().add(key, value, score);\n    }\n    \n    //增加元素的 score值同时返回增加后的 score值\n    public Double incrementScore(String key, Object value, double score) {\n        return redisTemplate.opsForZSet().incrementScore(key, value, score);\n    }\n    \n    //返回 zset元素在集合的从大到小排名\n    public Long rank(String key, Object object) {\n        return redisTemplate.opsForZSet().rank(key, object);\n    }\n    //返回 zset元素在集合的从大到小排名\n    public Long reverseRank(String key, Object object) {\n        return redisTemplate.opsForZSet().reverseRank(key, object);\n    }\n    \n    //获取集合中 key、value元素的 score值\n    public Double score(String key, Object value) {\n        return redisTemplate.opsForZSet().score(key, value);\n    }\n\n    //删除多个value的值\n    public Long remove(String key, Object... values) {\n        return redisTemplate.opsForZSet().remove(key, values);\n    }\n```","source":"_posts/redis在springboot项目中的使用.md","raw":"---\ntitle: redis在springboot项目中的使用\ntags: \n    - springboot\n    - redis\ncategories: 后端\nkeywords: springboot, redis\ndescription: redis二次回忆\ntop_img: /img/suanfa.png\ncomments: true\ncover: /img/suanfa.png\ncopyright_author: xingxing\ncopyright_author_href: www.staraway.asia\ncopyright_info: 本文章转载自我的掘金\ndate: 2023-8-13 10:38:38\n---\n\n\n### Spring-data-redis简介\n​Spring-data-redis提供了在Spring应用中通过简单的配置访问redis服务，对reids底层开发包(Jedis, JRedis, and RJC)进行了高度封装，封装了 RedisTemplate 对象来进行对Redis的各种操作、异常处理及序列化，支持发布订阅，并对Spring 3.1 cache进行了实现，它支持所有的Redis原生的 API。\n\n### Spring-data-redis 针对 Jedis 提供的功能\n1. 连接池自动管理，提供了一个高度封装的“RedisTemplate”类\n2. 针对jedis客户端中大量api进行了归类封装,将同一类型操作封装为operation接口\n\n-   ValueOperations：简单的K-V操作\n-   SetOperations：set类型数据操作\n-   ZSetOperations：zset类型数据操作\n-   HashOperations：针对map类型的数据操作\n-   ListOperations：针对list类型的数据操作\n\n### 加入依赖整合redis\n```xml\n<!-- redis依赖 -->\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-data-redis</artifactId>\n</dependency>\n<!-- fastjson -->\n<dependency>\n    <groupId>com.alibaba</groupId>\n    <artifactId>fastjson</artifactId>\n    <version>1.2.76</version>\n</dependency>\n```\n\n### 增加配置类，提供序列化方式\n```Java\n/**\n * @author star\n */\n@Configuration\npublic class RedisConfig {\n\n    @Bean\n    @ConditionalOnMissingBean(name = \"redisTemplate\")\n    public RedisTemplate<String, Object> redisTemplate(\n            RedisConnectionFactory redisConnectionFactory)\n            throws UnknownHostException {\n        Jackson2JsonRedisSerializer<Object> jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer<Object>(Object.class);\n        ObjectMapper om = new ObjectMapper();\n        om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\n        om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);\n        jackson2JsonRedisSerializer.setObjectMapper(om);\n\n        RedisTemplate<String, Object> template = new RedisTemplate<String, Object>();\n        template.setConnectionFactory(redisConnectionFactory);\n        template.setKeySerializer(jackson2JsonRedisSerializer);\n        template.setValueSerializer(jackson2JsonRedisSerializer);\n        template.setHashKeySerializer(jackson2JsonRedisSerializer);\n        template.setHashValueSerializer(jackson2JsonRedisSerializer);\n        template.afterPropertiesSet();\n        return template;\n    }\n\n\n    @Bean\n    @ConditionalOnMissingBean(StringRedisTemplate.class)\n    public StringRedisTemplate stringRedisTemplate(\n            RedisConnectionFactory redisConnectionFactory)\n            throws UnknownHostException {\n        StringRedisTemplate template = new StringRedisTemplate();\n        template.setConnectionFactory(redisConnectionFactory);\n        return template;\n    }\n\n    @Bean\n    public HashOperations<String, String, Object> hashOperations(RedisTemplate<String, Object> redisTemplate) {\n        return redisTemplate.opsForHash();\n    }\n}\n```\n\n### redisTemplate针对redis中五种数据类型的操作详解\n- string类型-------opsForSet和opsForValue\n\n\n```java\n   //最简单操作\n    public void set(String key, Object value) {\n        redisTemplate.opsForValue().set(key, value);\n    }\n    \n    //常用操作可以设置多久后过期\n   public void setWithExpire(String key, Object value, Long seconds, TimeUnit timeUnit) {\n        redisTemplate.opsForValue().set(key, value, seconds, timeUnit);\n    }\n    \n    //获取值\n    public Object get(String key) {\n        return redisTemplate.opsForValue().get(key);\n    }\n    \n    //是否有值\n    public Boolean hasKey(String key) {\n        return redisTemplate.hasKey(key);\n    }\n    \n    \n    public Boolean del(String key) {\n        return redisTemplate.delete(key);\n    }\n    \n    public Long batchDel(Collection<String> keys) {\n        return redisTemplate.delete(keys);\n    }\n    \n    //重新设置过期时间，作刷新用\n    public Boolean expire(String key, long seconds) {\n        return redisTemplate.expire(key, seconds, TimeUnit.SECONDS);\n    }\n    \n    //重新设置过期的日期，作刷新用\n    public Boolean expireAt(String key, Date date) {\n        return redisTemplate.expireAt(key, date);\n    }\n    \n    //根据新的 key的名称修改 redis中老的 key的名称\n    public Boolean renameIfAbsent(String oldKey, String newKey) {\n        return redisTemplate.renameIfAbsent(oldKey, newKey);\n    }\n    \n    //获取key值的类型\n    public DataType type(String key) {\n        return redisTemplate.type(key);\n    }\n    \n    //从当前redis的key中国随机取一个\n    public String randomKey() {\n        return redisTemplate.randomKey();\n    }\n    \n    //获取当前key的过期时间（可以设置时间单位）\n    public Long getExpire(String key, TimeUnit timeUnit) {\n        return redisTemplate.getExpire(key, timeUnit);\n    }\n    \n    //让当前key的值++  （此处多用数字。类型为long值）\n    public Long increment(String key) {\n        return redisTemplate.opsForValue().increment(key,1);\n    }\n    \n    //重新设置 key对应的值，如果存在返回 false，否则返回 true\n    public Boolean setIfAbsent(String key, Object value) {\n        return redisTemplate.opsForValue().setIfAbsent(key, value);\n    }\n    \n\n    \n```\n\n- map类型-------opsForHash\n\n```JAVA\n    //新增map值，key为键  field+value是map\n    public void put(String key, Object field, Object value) {\n        redisTemplate.opsForHash().put(key, field, value);\n    }\n    \n    //用map的形式添加\n    public void putAll(String key, Map<Object, Object> map) {\n        redisTemplate.opsForHash().putAll(key, map);\n    }\n    \n    //获取 map中指定的 key值，如果存在则返回值，没有就返回null\n    public Object getMapValue(String key, String field) {\n        return redisTemplate.opsForHash().get(key, field);\n    }\n    \n    //根据 key获取 Map对象\n    public Map<Object, Object> getMap(String key) {\n        return redisTemplate.opsForHash().entries(key);\n    }\n    \n    //当 hashKey不存在的时候，进行设置 map的值\n    public Boolean putIfAbsent(String key, Object hashKey, Object value) {\n        return redisTemplate.opsForHash().putIfAbsent(key, hashKey, value);\n    }\n    \n    //此处用法和opsForValue相同\n    public Long incrementLong(String key, Object field, long increment) {\n        return redisTemplate.opsForHash().increment(key, field, increment);\n    }\n    \n    //获取 map中的所有字段\n    public Set<Object> keys(String key) {\n        return redisTemplate.opsForHash().keys(key);\n    }\n    \n```\n\n- list类型-------opsForList\n\n``` java\n    //把值添加在list的前面，可以是单个值也可以多个值（也可以是List<Object> value类型）\n    //注意此处的left就是从前面插入，right就是插入到末尾\n    public Long leftPush(String key, Object... values) {\n        return redisTemplate.opsForList().leftPushAll(key, values);\n    }\n    \n    //根据索引获取list中的值\n    public Object index(String key, long index) {\n        return redisTemplate.opsForList().index(key, index);\n    }\n    \n    //从一个队列的右边弹出一个元素并将这个元素放入另一个指定队列的最左边\n    public Object rightPopAndLeftPush(String sourceKey, String destinationKey) {\n        return redisTemplate.opsForList().rightPopAndLeftPush(sourceKey, destinationKey);\n    }\n    \n    //从存储在键中的列表中删除等于值的元素的第一个计数事件。count> 0：删除等于从左到右移动的值的第一个元素；count< 0：删除等于从右到左移动的值的第一个元素；count = 0：删除等于value的所有元素。\n    //index从第几个值开始去进行删除，返回值是删除元素的数量\n    public Long remove(String key, long index, Object value) {\n        return redisTemplate.opsForList().remove(key, index, value);\n    }\n    \n```\n\n\n- set类型-------opsForSet\n\n``` java\n    //添加元素到 set中\n    public Long add(String key, Collection<Object> values) {\n        return redisTemplate.opsForSet().add(key, values);\n    }\n    \n    //从 set中删除一个随机元素，并返回该元素\n    public Object pop(String key) {\n        return redisTemplate.opsForSet().pop(key);\n    }\n    \n    //判断 set集合中是否存在value值\n    public Boolean isMember(String key, Object value) {\n        return redisTemplate.opsForSet().isMember(key, value);\n    }\n    \n    \n    //以下多个方法均为获取两个集合的交集或者并集或者差集并返回一个集合，其中一个可以是自定义的集合，也可以是redis中的集合\n    //交集\n    public Set<Object> intersect(String key, String otherKey) {\n        return redisTemplate.opsForSet().intersect(key, otherKey);\n    }\n    public Set<Object> intersect(String key, Collection<String> collection) {\n        return redisTemplate.opsForSet().intersect(key, collection);\n    }\n    //并集\n    public Set<Object> union(String key, String key1) {\n        return redisTemplate.opsForSet().union(key, key1);\n    }\n    //差集\n    public Set<Object> difference(String key, String key1) {\n        return redisTemplate.opsForSet().difference(key, key1);\n    }\n    \n    //获取集合中的所有元素\n    public Set<Object> members(String key) {\n        return redisTemplate.opsForSet().members(key);\n    }\n    \n    //移除集合中某个元素\n    public Long remove(String key, Collection<Object> objects) {\n        return redisTemplate.opsForSet().remove(key, objects);\n    }\n```\n\n- set类型-------opsForZSet(相比于set为元素增加了score，默认安装score从小到大排序)\n    \n``` java\n    //添加元素到 zset，从小到大排序\n    public Boolean add(String key, Object value, double score) {\n        return redisTemplate.opsForZSet().add(key, value, score);\n    }\n    \n    //增加元素的 score值同时返回增加后的 score值\n    public Double incrementScore(String key, Object value, double score) {\n        return redisTemplate.opsForZSet().incrementScore(key, value, score);\n    }\n    \n    //返回 zset元素在集合的从大到小排名\n    public Long rank(String key, Object object) {\n        return redisTemplate.opsForZSet().rank(key, object);\n    }\n    //返回 zset元素在集合的从大到小排名\n    public Long reverseRank(String key, Object object) {\n        return redisTemplate.opsForZSet().reverseRank(key, object);\n    }\n    \n    //获取集合中 key、value元素的 score值\n    public Double score(String key, Object value) {\n        return redisTemplate.opsForZSet().score(key, value);\n    }\n\n    //删除多个value的值\n    public Long remove(String key, Object... values) {\n        return redisTemplate.opsForZSet().remove(key, values);\n    }\n```","slug":"redis在springboot项目中的使用","published":1,"updated":"2023-12-06T02:57:32.179Z","_id":"clprqo1rb0003tspk1cqh7n2x","layout":"post","photos":[],"link":"","content":"<h3 id=\"Spring-data-redis简介\"><a href=\"#Spring-data-redis简介\" class=\"headerlink\" title=\"Spring-data-redis简介\"></a>Spring-data-redis简介</h3><p>​Spring-data-redis提供了在Spring应用中通过简单的配置访问redis服务，对reids底层开发包(Jedis, JRedis, and RJC)进行了高度封装，封装了 RedisTemplate 对象来进行对Redis的各种操作、异常处理及序列化，支持发布订阅，并对Spring 3.1 cache进行了实现，它支持所有的Redis原生的 API。</p>\n<h3 id=\"Spring-data-redis-针对-Jedis-提供的功能\"><a href=\"#Spring-data-redis-针对-Jedis-提供的功能\" class=\"headerlink\" title=\"Spring-data-redis 针对 Jedis 提供的功能\"></a>Spring-data-redis 针对 Jedis 提供的功能</h3><ol>\n<li>连接池自动管理，提供了一个高度封装的“RedisTemplate”类</li>\n<li>针对jedis客户端中大量api进行了归类封装,将同一类型操作封装为operation接口</li>\n</ol>\n<ul>\n<li>ValueOperations：简单的K-V操作</li>\n<li>SetOperations：set类型数据操作</li>\n<li>ZSetOperations：zset类型数据操作</li>\n<li>HashOperations：针对map类型的数据操作</li>\n<li>ListOperations：针对list类型的数据操作</li>\n</ul>\n<h3 id=\"加入依赖整合redis\"><a href=\"#加入依赖整合redis\" class=\"headerlink\" title=\"加入依赖整合redis\"></a>加入依赖整合redis</h3><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- redis依赖 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- fastjson --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.alibaba<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>fastjson<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.2.76<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"增加配置类，提供序列化方式\"><a href=\"#增加配置类，提供序列化方式\" class=\"headerlink\" title=\"增加配置类，提供序列化方式\"></a>增加配置类，提供序列化方式</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@author</span> star</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"meta\">@Configuration</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">RedisConfig</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Bean</span></span><br><span class=\"line\">    <span class=\"meta\">@ConditionalOnMissingBean(name = &quot;redisTemplate&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> RedisTemplate&lt;String, Object&gt; <span class=\"title function_\">redisTemplate</span><span class=\"params\">(</span></span><br><span class=\"line\"><span class=\"params\">            RedisConnectionFactory redisConnectionFactory)</span></span><br><span class=\"line\">            <span class=\"keyword\">throws</span> UnknownHostException &#123;</span><br><span class=\"line\">        Jackson2JsonRedisSerializer&lt;Object&gt; jackson2JsonRedisSerializer = <span class=\"keyword\">new</span> <span class=\"title class_\">Jackson2JsonRedisSerializer</span>&lt;Object&gt;(Object.class);</span><br><span class=\"line\">        <span class=\"type\">ObjectMapper</span> <span class=\"variable\">om</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ObjectMapper</span>();</span><br><span class=\"line\">        om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);</span><br><span class=\"line\">        om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);</span><br><span class=\"line\">        jackson2JsonRedisSerializer.setObjectMapper(om);</span><br><span class=\"line\"></span><br><span class=\"line\">        RedisTemplate&lt;String, Object&gt; template = <span class=\"keyword\">new</span> <span class=\"title class_\">RedisTemplate</span>&lt;String, Object&gt;();</span><br><span class=\"line\">        template.setConnectionFactory(redisConnectionFactory);</span><br><span class=\"line\">        template.setKeySerializer(jackson2JsonRedisSerializer);</span><br><span class=\"line\">        template.setValueSerializer(jackson2JsonRedisSerializer);</span><br><span class=\"line\">        template.setHashKeySerializer(jackson2JsonRedisSerializer);</span><br><span class=\"line\">        template.setHashValueSerializer(jackson2JsonRedisSerializer);</span><br><span class=\"line\">        template.afterPropertiesSet();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> template;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Bean</span></span><br><span class=\"line\">    <span class=\"meta\">@ConditionalOnMissingBean(StringRedisTemplate.class)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> StringRedisTemplate <span class=\"title function_\">stringRedisTemplate</span><span class=\"params\">(</span></span><br><span class=\"line\"><span class=\"params\">            RedisConnectionFactory redisConnectionFactory)</span></span><br><span class=\"line\">            <span class=\"keyword\">throws</span> UnknownHostException &#123;</span><br><span class=\"line\">        <span class=\"type\">StringRedisTemplate</span> <span class=\"variable\">template</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">StringRedisTemplate</span>();</span><br><span class=\"line\">        template.setConnectionFactory(redisConnectionFactory);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> template;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Bean</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> HashOperations&lt;String, String, Object&gt; <span class=\"title function_\">hashOperations</span><span class=\"params\">(RedisTemplate&lt;String, Object&gt; redisTemplate)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> redisTemplate.opsForHash();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"redisTemplate针对redis中五种数据类型的操作详解\"><a href=\"#redisTemplate针对redis中五种数据类型的操作详解\" class=\"headerlink\" title=\"redisTemplate针对redis中五种数据类型的操作详解\"></a>redisTemplate针对redis中五种数据类型的操作详解</h3><ul>\n<li>string类型——-opsForSet和opsForValue</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//最简单操作</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">set</span><span class=\"params\">(String key, Object value)</span> &#123;</span><br><span class=\"line\">     redisTemplate.opsForValue().set(key, value);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">//常用操作可以设置多久后过期</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setWithExpire</span><span class=\"params\">(String key, Object value, Long seconds, TimeUnit timeUnit)</span> &#123;</span><br><span class=\"line\">     redisTemplate.opsForValue().set(key, value, seconds, timeUnit);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">//获取值</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> Object <span class=\"title function_\">get</span><span class=\"params\">(String key)</span> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> redisTemplate.opsForValue().get(key);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">//是否有值</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> Boolean <span class=\"title function_\">hasKey</span><span class=\"params\">(String key)</span> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> redisTemplate.hasKey(key);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"keyword\">public</span> Boolean <span class=\"title function_\">del</span><span class=\"params\">(String key)</span> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> redisTemplate.delete(key);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"keyword\">public</span> Long <span class=\"title function_\">batchDel</span><span class=\"params\">(Collection&lt;String&gt; keys)</span> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> redisTemplate.delete(keys);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">//重新设置过期时间，作刷新用</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> Boolean <span class=\"title function_\">expire</span><span class=\"params\">(String key, <span class=\"type\">long</span> seconds)</span> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> redisTemplate.expire(key, seconds, TimeUnit.SECONDS);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">//重新设置过期的日期，作刷新用</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> Boolean <span class=\"title function_\">expireAt</span><span class=\"params\">(String key, Date date)</span> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> redisTemplate.expireAt(key, date);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">//根据新的 key的名称修改 redis中老的 key的名称</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> Boolean <span class=\"title function_\">renameIfAbsent</span><span class=\"params\">(String oldKey, String newKey)</span> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> redisTemplate.renameIfAbsent(oldKey, newKey);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">//获取key值的类型</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> DataType <span class=\"title function_\">type</span><span class=\"params\">(String key)</span> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> redisTemplate.type(key);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">//从当前redis的key中国随机取一个</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> String <span class=\"title function_\">randomKey</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> redisTemplate.randomKey();</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">//获取当前key的过期时间（可以设置时间单位）</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> Long <span class=\"title function_\">getExpire</span><span class=\"params\">(String key, TimeUnit timeUnit)</span> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> redisTemplate.getExpire(key, timeUnit);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">//让当前key的值++  （此处多用数字。类型为long值）</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> Long <span class=\"title function_\">increment</span><span class=\"params\">(String key)</span> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> redisTemplate.opsForValue().increment(key,<span class=\"number\">1</span>);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">//重新设置 key对应的值，如果存在返回 false，否则返回 true</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> Boolean <span class=\"title function_\">setIfAbsent</span><span class=\"params\">(String key, Object value)</span> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> redisTemplate.opsForValue().setIfAbsent(key, value);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"></span><br><span class=\"line\"> </span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>map类型——-opsForHash</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//新增map值，key为键  field+value是map</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">put</span><span class=\"params\">(String key, Object field, Object value)</span> &#123;</span><br><span class=\"line\">    redisTemplate.opsForHash().put(key, field, value);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//用map的形式添加</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">putAll</span><span class=\"params\">(String key, Map&lt;Object, Object&gt; map)</span> &#123;</span><br><span class=\"line\">    redisTemplate.opsForHash().putAll(key, map);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//获取 map中指定的 key值，如果存在则返回值，没有就返回null</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Object <span class=\"title function_\">getMapValue</span><span class=\"params\">(String key, String field)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForHash().get(key, field);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//根据 key获取 Map对象</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Map&lt;Object, Object&gt; <span class=\"title function_\">getMap</span><span class=\"params\">(String key)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForHash().entries(key);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//当 hashKey不存在的时候，进行设置 map的值</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Boolean <span class=\"title function_\">putIfAbsent</span><span class=\"params\">(String key, Object hashKey, Object value)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForHash().putIfAbsent(key, hashKey, value);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//此处用法和opsForValue相同</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Long <span class=\"title function_\">incrementLong</span><span class=\"params\">(String key, Object field, <span class=\"type\">long</span> increment)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForHash().increment(key, field, increment);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//获取 map中的所有字段</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Set&lt;Object&gt; <span class=\"title function_\">keys</span><span class=\"params\">(String key)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForHash().keys(key);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>list类型——-opsForList</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//把值添加在list的前面，可以是单个值也可以多个值（也可以是List&lt;Object&gt; value类型）</span></span><br><span class=\"line\"><span class=\"comment\">//注意此处的left就是从前面插入，right就是插入到末尾</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Long <span class=\"title function_\">leftPush</span><span class=\"params\">(String key, Object... values)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForList().leftPushAll(key, values);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//根据索引获取list中的值</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Object <span class=\"title function_\">index</span><span class=\"params\">(String key, <span class=\"type\">long</span> index)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForList().index(key, index);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//从一个队列的右边弹出一个元素并将这个元素放入另一个指定队列的最左边</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Object <span class=\"title function_\">rightPopAndLeftPush</span><span class=\"params\">(String sourceKey, String destinationKey)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForList().rightPopAndLeftPush(sourceKey, destinationKey);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//从存储在键中的列表中删除等于值的元素的第一个计数事件。count&gt; 0：删除等于从左到右移动的值的第一个元素；count&lt; 0：删除等于从右到左移动的值的第一个元素；count = 0：删除等于value的所有元素。</span></span><br><span class=\"line\"><span class=\"comment\">//index从第几个值开始去进行删除，返回值是删除元素的数量</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Long <span class=\"title function_\">remove</span><span class=\"params\">(String key, <span class=\"type\">long</span> index, Object value)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForList().remove(key, index, value);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n<ul>\n<li>set类型——-opsForSet</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//添加元素到 set中</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Long <span class=\"title function_\">add</span><span class=\"params\">(String key, Collection&lt;Object&gt; values)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForSet().add(key, values);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//从 set中删除一个随机元素，并返回该元素</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Object <span class=\"title function_\">pop</span><span class=\"params\">(String key)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForSet().pop(key);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//判断 set集合中是否存在value值</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Boolean <span class=\"title function_\">isMember</span><span class=\"params\">(String key, Object value)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForSet().isMember(key, value);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//以下多个方法均为获取两个集合的交集或者并集或者差集并返回一个集合，其中一个可以是自定义的集合，也可以是redis中的集合</span></span><br><span class=\"line\"><span class=\"comment\">//交集</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Set&lt;Object&gt; <span class=\"title function_\">intersect</span><span class=\"params\">(String key, String otherKey)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForSet().intersect(key, otherKey);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> Set&lt;Object&gt; <span class=\"title function_\">intersect</span><span class=\"params\">(String key, Collection&lt;String&gt; collection)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForSet().intersect(key, collection);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//并集</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Set&lt;Object&gt; <span class=\"title function_\">union</span><span class=\"params\">(String key, String key1)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForSet().union(key, key1);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//差集</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Set&lt;Object&gt; <span class=\"title function_\">difference</span><span class=\"params\">(String key, String key1)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForSet().difference(key, key1);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//获取集合中的所有元素</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Set&lt;Object&gt; <span class=\"title function_\">members</span><span class=\"params\">(String key)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForSet().members(key);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//移除集合中某个元素</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Long <span class=\"title function_\">remove</span><span class=\"params\">(String key, Collection&lt;Object&gt; objects)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForSet().remove(key, objects);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>set类型——-opsForZSet(相比于set为元素增加了score，默认安装score从小到大排序)</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//添加元素到 zset，从小到大排序</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Boolean <span class=\"title function_\">add</span><span class=\"params\">(String key, Object value, <span class=\"type\">double</span> score)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForZSet().add(key, value, score);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//增加元素的 score值同时返回增加后的 score值</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Double <span class=\"title function_\">incrementScore</span><span class=\"params\">(String key, Object value, <span class=\"type\">double</span> score)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForZSet().incrementScore(key, value, score);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//返回 zset元素在集合的从大到小排名</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Long <span class=\"title function_\">rank</span><span class=\"params\">(String key, Object object)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForZSet().rank(key, object);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//返回 zset元素在集合的从大到小排名</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Long <span class=\"title function_\">reverseRank</span><span class=\"params\">(String key, Object object)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForZSet().reverseRank(key, object);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//获取集合中 key、value元素的 score值</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Double <span class=\"title function_\">score</span><span class=\"params\">(String key, Object value)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForZSet().score(key, value);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//删除多个value的值</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Long <span class=\"title function_\">remove</span><span class=\"params\">(String key, Object... values)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForZSet().remove(key, values);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","site":{"data":{"about":[{"class_name":"关于页","subtitle":"多一点努力，努力多一点✨","avatarImg":"https://avatars.githubusercontent.com/u/106024593?v=4","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱"]},"name":"xingxing","description":"是一名 后端工程师、学生、独立开发者","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"YNU,计算机科学与技术","color":"#357ef5"}]},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，昆明市","background":"/img/location.png","backgroundDark":"/img/locationDark.png"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2003,"selfInfoTips2":"云南大学","selfInfoContent2":"计算机科学与技术","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"xingxing的日常。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"/img/beautifulImg.jpg","essay_list":[{"content":"发现一个免费拿图的网站诶，还是bing好用，垃圾百度！但是好像要翻墙才可以下载原图，不过可以直接复制图片地址，然后用迅雷下载，也是可以的（图片大小翻五倍）。","date":"2023/11/31","image":["/img/essayImg/pixabay.png"],"link":"https://pixabay.com/zh/"},{"content":"寒假实习求职顺利（求神拜佛）","date":"2023/12/2"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}],"bangumis":{"wantWatch":[{"title":"百妖谱 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/5424062d0821f89ea549533d8a2c3cfff2076766.png","totalCount":"全12话","id":28230717,"follow":"527.1 万","view":"1.2 亿","danmaku":"47.2 万","coin":"42.5 万","score":9.2,"des":"桃都的灵医桃夭带着小和尚磨牙、第一季收服的小狐妖、桃都老邻居柳公子一起继续第一季的故事，为了寻找失踪的百妖谱而云游四方，在途中遇到应声、化蛇、媪姬、照海四个妖怪，为妖怪治疗各种疑难杂症。..."},{"title":"伍六七之玄武国篇","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/00843865ea13702eccc4efd64c313fd4c8029c6b.jpg","totalCount":"全10话","id":28232253,"follow":"1031.1 万","view":"4.7 亿","danmaku":"186.3 万","coin":"405.6 万","score":9.8,"des":"为了保护小鸡岛居民和这里平静的生活，伍六七和他的伙伴大保和小飞开启了去往玄武国的冒险旅程，去寻找身世的真相和解救小岛的办法，等待他们的又将是更多的未知与奇遇。..."},{"title":"伍六七之暗影宿命","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/6e5c5848ff8943fd6366e943a4f75b98598c50c6.png","totalCount":"全10话","id":28412536,"follow":"1250.4 万","view":"5.1 亿","danmaku":"110.7 万","coin":"410.9 万","score":9.2,"des":"随着伍六七回到玄武国寻找他的身世，亦引起了七大暗影刺客的追捕。然而每一位暗影刺客都带着不同的目的和不同的过去，青凤的阴谋也在此浮出了水面。而此时等待着小鸡岛上的人民，又将是另一个危机，伍六七将如何面对..."}],"watching":[{"title":"灵笼 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cf5f6595ece017215e7d61482f022094479dff37.png","totalCount":"-","id":21123554,"follow":"910.5 万","view":"1586.9 万","danmaku":"7.0 万","coin":"35.1 万","score":"-","des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."},{"title":"灵笼","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cfab7e0fbdb4786ff4e885d050b7cf37f8829486.png","totalCount":"全16话","id":23432,"follow":"903.9 万","view":"6.1 亿","danmaku":"674.4 万","coin":"677.7 万","score":9.6,"des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."}],"watched":[{"title":"时光代理人","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/1fe1cd0ec59b790fea83a5726cdc0fa3189c4394.png","totalCount":"全24话","id":28230742,"follow":"879.2 万","view":"5.0 亿","danmaku":"399.9 万","coin":"418.4 万","score":9.7,"des":"为了找到一系列罪案的操纵者，程小时求助于肖力，找寻一切藏匿于暗中的蛛丝马迹。但是拥有未知超能力的凶手在阴影之中，也从没有停止过阴谋的脚步。神秘能力者如影随形，身边伙伴接连遇害，程小时屡次身陷险境。随着..."},{"title":"元龙 第三季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/b3a9b5975059e074593b9381322ad8c423be7b89.png","totalCount":"全16话","id":28235400,"follow":"620.5 万","view":"1.5 亿","danmaku":"24.0 万","coin":"10.7 万","score":6.8,"des":"王胜于现代世界醒来，一切是如此真实而又如梦似幻。皇城遗女，戴家少主的出现更让局势扑朔迷离。而一场由小搏大的赌局，也让王胜渐渐意识到这不仅仅是他和戴家少主两个人的较量。恰时逢盛宴，天下汇集，王胜不得不再..."},{"title":"三体","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/9870f898b8a39bbb8048f34317f8d78a02cc1770.png","totalCount":"全15话","id":4315402,"follow":"690.6 万","view":"6.2 亿","danmaku":"179.3 万","coin":"230.7 万","score":8.2,"des":"无数细线横亘在星空之中，如同一把巨大的刷子。三体星舰队将于400年后抵达。遥远蝴蝶扇动着翅膀，也改变了罗辑的命运，轰然打开的门后是世界中心——面壁计划开启。同时，智子所创建的破壁室内，破壁人一一就位…..."},{"title":"狐妖小红娘","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/cbb20ee03e97a9f3ad2e1506a10fd1271f1c584a.jpg","totalCount":"全100话","id":2543,"follow":"691.5 万","view":"8.7 亿","danmaku":"1052.9 万","coin":"259.8 万","score":9.5,"des":"根据古典小说记载，世上有人有妖，妖会与人相恋，妖寿命千年，人的寿命有限，人死了，妖活着。人会投胎转世，但投胎以后不记得上辈子的爱。妖如果痴情的话，就去找狐妖“购买”一项服务，让投胎转世的人回忆起前世的..."}]}}},"cover_type":"img","excerpt":"","more":"<h3 id=\"Spring-data-redis简介\"><a href=\"#Spring-data-redis简介\" class=\"headerlink\" title=\"Spring-data-redis简介\"></a>Spring-data-redis简介</h3><p>​Spring-data-redis提供了在Spring应用中通过简单的配置访问redis服务，对reids底层开发包(Jedis, JRedis, and RJC)进行了高度封装，封装了 RedisTemplate 对象来进行对Redis的各种操作、异常处理及序列化，支持发布订阅，并对Spring 3.1 cache进行了实现，它支持所有的Redis原生的 API。</p>\n<h3 id=\"Spring-data-redis-针对-Jedis-提供的功能\"><a href=\"#Spring-data-redis-针对-Jedis-提供的功能\" class=\"headerlink\" title=\"Spring-data-redis 针对 Jedis 提供的功能\"></a>Spring-data-redis 针对 Jedis 提供的功能</h3><ol>\n<li>连接池自动管理，提供了一个高度封装的“RedisTemplate”类</li>\n<li>针对jedis客户端中大量api进行了归类封装,将同一类型操作封装为operation接口</li>\n</ol>\n<ul>\n<li>ValueOperations：简单的K-V操作</li>\n<li>SetOperations：set类型数据操作</li>\n<li>ZSetOperations：zset类型数据操作</li>\n<li>HashOperations：针对map类型的数据操作</li>\n<li>ListOperations：针对list类型的数据操作</li>\n</ul>\n<h3 id=\"加入依赖整合redis\"><a href=\"#加入依赖整合redis\" class=\"headerlink\" title=\"加入依赖整合redis\"></a>加入依赖整合redis</h3><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- redis依赖 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- fastjson --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.alibaba<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>fastjson<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.2.76<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"增加配置类，提供序列化方式\"><a href=\"#增加配置类，提供序列化方式\" class=\"headerlink\" title=\"增加配置类，提供序列化方式\"></a>增加配置类，提供序列化方式</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@author</span> star</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"meta\">@Configuration</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">RedisConfig</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Bean</span></span><br><span class=\"line\">    <span class=\"meta\">@ConditionalOnMissingBean(name = &quot;redisTemplate&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> RedisTemplate&lt;String, Object&gt; <span class=\"title function_\">redisTemplate</span><span class=\"params\">(</span></span><br><span class=\"line\"><span class=\"params\">            RedisConnectionFactory redisConnectionFactory)</span></span><br><span class=\"line\">            <span class=\"keyword\">throws</span> UnknownHostException &#123;</span><br><span class=\"line\">        Jackson2JsonRedisSerializer&lt;Object&gt; jackson2JsonRedisSerializer = <span class=\"keyword\">new</span> <span class=\"title class_\">Jackson2JsonRedisSerializer</span>&lt;Object&gt;(Object.class);</span><br><span class=\"line\">        <span class=\"type\">ObjectMapper</span> <span class=\"variable\">om</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ObjectMapper</span>();</span><br><span class=\"line\">        om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);</span><br><span class=\"line\">        om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);</span><br><span class=\"line\">        jackson2JsonRedisSerializer.setObjectMapper(om);</span><br><span class=\"line\"></span><br><span class=\"line\">        RedisTemplate&lt;String, Object&gt; template = <span class=\"keyword\">new</span> <span class=\"title class_\">RedisTemplate</span>&lt;String, Object&gt;();</span><br><span class=\"line\">        template.setConnectionFactory(redisConnectionFactory);</span><br><span class=\"line\">        template.setKeySerializer(jackson2JsonRedisSerializer);</span><br><span class=\"line\">        template.setValueSerializer(jackson2JsonRedisSerializer);</span><br><span class=\"line\">        template.setHashKeySerializer(jackson2JsonRedisSerializer);</span><br><span class=\"line\">        template.setHashValueSerializer(jackson2JsonRedisSerializer);</span><br><span class=\"line\">        template.afterPropertiesSet();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> template;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Bean</span></span><br><span class=\"line\">    <span class=\"meta\">@ConditionalOnMissingBean(StringRedisTemplate.class)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> StringRedisTemplate <span class=\"title function_\">stringRedisTemplate</span><span class=\"params\">(</span></span><br><span class=\"line\"><span class=\"params\">            RedisConnectionFactory redisConnectionFactory)</span></span><br><span class=\"line\">            <span class=\"keyword\">throws</span> UnknownHostException &#123;</span><br><span class=\"line\">        <span class=\"type\">StringRedisTemplate</span> <span class=\"variable\">template</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">StringRedisTemplate</span>();</span><br><span class=\"line\">        template.setConnectionFactory(redisConnectionFactory);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> template;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Bean</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> HashOperations&lt;String, String, Object&gt; <span class=\"title function_\">hashOperations</span><span class=\"params\">(RedisTemplate&lt;String, Object&gt; redisTemplate)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> redisTemplate.opsForHash();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"redisTemplate针对redis中五种数据类型的操作详解\"><a href=\"#redisTemplate针对redis中五种数据类型的操作详解\" class=\"headerlink\" title=\"redisTemplate针对redis中五种数据类型的操作详解\"></a>redisTemplate针对redis中五种数据类型的操作详解</h3><ul>\n<li>string类型——-opsForSet和opsForValue</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//最简单操作</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">set</span><span class=\"params\">(String key, Object value)</span> &#123;</span><br><span class=\"line\">     redisTemplate.opsForValue().set(key, value);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">//常用操作可以设置多久后过期</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setWithExpire</span><span class=\"params\">(String key, Object value, Long seconds, TimeUnit timeUnit)</span> &#123;</span><br><span class=\"line\">     redisTemplate.opsForValue().set(key, value, seconds, timeUnit);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">//获取值</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> Object <span class=\"title function_\">get</span><span class=\"params\">(String key)</span> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> redisTemplate.opsForValue().get(key);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">//是否有值</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> Boolean <span class=\"title function_\">hasKey</span><span class=\"params\">(String key)</span> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> redisTemplate.hasKey(key);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"keyword\">public</span> Boolean <span class=\"title function_\">del</span><span class=\"params\">(String key)</span> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> redisTemplate.delete(key);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"keyword\">public</span> Long <span class=\"title function_\">batchDel</span><span class=\"params\">(Collection&lt;String&gt; keys)</span> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> redisTemplate.delete(keys);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">//重新设置过期时间，作刷新用</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> Boolean <span class=\"title function_\">expire</span><span class=\"params\">(String key, <span class=\"type\">long</span> seconds)</span> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> redisTemplate.expire(key, seconds, TimeUnit.SECONDS);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">//重新设置过期的日期，作刷新用</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> Boolean <span class=\"title function_\">expireAt</span><span class=\"params\">(String key, Date date)</span> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> redisTemplate.expireAt(key, date);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">//根据新的 key的名称修改 redis中老的 key的名称</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> Boolean <span class=\"title function_\">renameIfAbsent</span><span class=\"params\">(String oldKey, String newKey)</span> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> redisTemplate.renameIfAbsent(oldKey, newKey);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">//获取key值的类型</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> DataType <span class=\"title function_\">type</span><span class=\"params\">(String key)</span> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> redisTemplate.type(key);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">//从当前redis的key中国随机取一个</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> String <span class=\"title function_\">randomKey</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> redisTemplate.randomKey();</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">//获取当前key的过期时间（可以设置时间单位）</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> Long <span class=\"title function_\">getExpire</span><span class=\"params\">(String key, TimeUnit timeUnit)</span> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> redisTemplate.getExpire(key, timeUnit);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">//让当前key的值++  （此处多用数字。类型为long值）</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> Long <span class=\"title function_\">increment</span><span class=\"params\">(String key)</span> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> redisTemplate.opsForValue().increment(key,<span class=\"number\">1</span>);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">//重新设置 key对应的值，如果存在返回 false，否则返回 true</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> Boolean <span class=\"title function_\">setIfAbsent</span><span class=\"params\">(String key, Object value)</span> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> redisTemplate.opsForValue().setIfAbsent(key, value);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"></span><br><span class=\"line\"> </span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>map类型——-opsForHash</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//新增map值，key为键  field+value是map</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">put</span><span class=\"params\">(String key, Object field, Object value)</span> &#123;</span><br><span class=\"line\">    redisTemplate.opsForHash().put(key, field, value);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//用map的形式添加</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">putAll</span><span class=\"params\">(String key, Map&lt;Object, Object&gt; map)</span> &#123;</span><br><span class=\"line\">    redisTemplate.opsForHash().putAll(key, map);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//获取 map中指定的 key值，如果存在则返回值，没有就返回null</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Object <span class=\"title function_\">getMapValue</span><span class=\"params\">(String key, String field)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForHash().get(key, field);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//根据 key获取 Map对象</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Map&lt;Object, Object&gt; <span class=\"title function_\">getMap</span><span class=\"params\">(String key)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForHash().entries(key);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//当 hashKey不存在的时候，进行设置 map的值</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Boolean <span class=\"title function_\">putIfAbsent</span><span class=\"params\">(String key, Object hashKey, Object value)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForHash().putIfAbsent(key, hashKey, value);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//此处用法和opsForValue相同</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Long <span class=\"title function_\">incrementLong</span><span class=\"params\">(String key, Object field, <span class=\"type\">long</span> increment)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForHash().increment(key, field, increment);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//获取 map中的所有字段</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Set&lt;Object&gt; <span class=\"title function_\">keys</span><span class=\"params\">(String key)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForHash().keys(key);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>list类型——-opsForList</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//把值添加在list的前面，可以是单个值也可以多个值（也可以是List&lt;Object&gt; value类型）</span></span><br><span class=\"line\"><span class=\"comment\">//注意此处的left就是从前面插入，right就是插入到末尾</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Long <span class=\"title function_\">leftPush</span><span class=\"params\">(String key, Object... values)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForList().leftPushAll(key, values);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//根据索引获取list中的值</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Object <span class=\"title function_\">index</span><span class=\"params\">(String key, <span class=\"type\">long</span> index)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForList().index(key, index);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//从一个队列的右边弹出一个元素并将这个元素放入另一个指定队列的最左边</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Object <span class=\"title function_\">rightPopAndLeftPush</span><span class=\"params\">(String sourceKey, String destinationKey)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForList().rightPopAndLeftPush(sourceKey, destinationKey);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//从存储在键中的列表中删除等于值的元素的第一个计数事件。count&gt; 0：删除等于从左到右移动的值的第一个元素；count&lt; 0：删除等于从右到左移动的值的第一个元素；count = 0：删除等于value的所有元素。</span></span><br><span class=\"line\"><span class=\"comment\">//index从第几个值开始去进行删除，返回值是删除元素的数量</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Long <span class=\"title function_\">remove</span><span class=\"params\">(String key, <span class=\"type\">long</span> index, Object value)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForList().remove(key, index, value);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n<ul>\n<li>set类型——-opsForSet</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//添加元素到 set中</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Long <span class=\"title function_\">add</span><span class=\"params\">(String key, Collection&lt;Object&gt; values)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForSet().add(key, values);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//从 set中删除一个随机元素，并返回该元素</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Object <span class=\"title function_\">pop</span><span class=\"params\">(String key)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForSet().pop(key);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//判断 set集合中是否存在value值</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Boolean <span class=\"title function_\">isMember</span><span class=\"params\">(String key, Object value)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForSet().isMember(key, value);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//以下多个方法均为获取两个集合的交集或者并集或者差集并返回一个集合，其中一个可以是自定义的集合，也可以是redis中的集合</span></span><br><span class=\"line\"><span class=\"comment\">//交集</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Set&lt;Object&gt; <span class=\"title function_\">intersect</span><span class=\"params\">(String key, String otherKey)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForSet().intersect(key, otherKey);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> Set&lt;Object&gt; <span class=\"title function_\">intersect</span><span class=\"params\">(String key, Collection&lt;String&gt; collection)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForSet().intersect(key, collection);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//并集</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Set&lt;Object&gt; <span class=\"title function_\">union</span><span class=\"params\">(String key, String key1)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForSet().union(key, key1);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//差集</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Set&lt;Object&gt; <span class=\"title function_\">difference</span><span class=\"params\">(String key, String key1)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForSet().difference(key, key1);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//获取集合中的所有元素</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Set&lt;Object&gt; <span class=\"title function_\">members</span><span class=\"params\">(String key)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForSet().members(key);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//移除集合中某个元素</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Long <span class=\"title function_\">remove</span><span class=\"params\">(String key, Collection&lt;Object&gt; objects)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForSet().remove(key, objects);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>set类型——-opsForZSet(相比于set为元素增加了score，默认安装score从小到大排序)</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//添加元素到 zset，从小到大排序</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Boolean <span class=\"title function_\">add</span><span class=\"params\">(String key, Object value, <span class=\"type\">double</span> score)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForZSet().add(key, value, score);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//增加元素的 score值同时返回增加后的 score值</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Double <span class=\"title function_\">incrementScore</span><span class=\"params\">(String key, Object value, <span class=\"type\">double</span> score)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForZSet().incrementScore(key, value, score);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//返回 zset元素在集合的从大到小排名</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Long <span class=\"title function_\">rank</span><span class=\"params\">(String key, Object object)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForZSet().rank(key, object);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//返回 zset元素在集合的从大到小排名</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Long <span class=\"title function_\">reverseRank</span><span class=\"params\">(String key, Object object)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForZSet().reverseRank(key, object);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//获取集合中 key、value元素的 score值</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Double <span class=\"title function_\">score</span><span class=\"params\">(String key, Object value)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForZSet().score(key, value);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//删除多个value的值</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Long <span class=\"title function_\">remove</span><span class=\"params\">(String key, Object... values)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> redisTemplate.opsForZSet().remove(key, values);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"http请求内容详解","keywords":"http，后端","description":"http，后端","top_img":"/img/suanfa.png","comments":1,"cover":"/img/suanfa.png","copyright_author":"xingxing","copyright_author_href":"www.staraway.asia","copyright_info":"可转载哦","date":"2023-07-05T06:16:01.000Z","_content":"\n## http报文组成\n-   `起始行（start line）`：描述请求或响应的基本信息；\n-   `头部字段（header）`：使用 key-value 形式更详细地说明报文；\n-   `消息正文（entity）`：实际传输的数据，它不一定是纯文本，可以是图片、视频等二进制数据。`此处在服务端代码编写的时候使用的是body属性`\n     ![1](../images/http请求内容详解-1701757597107.png)\n\n![2](../images/http请求内容详解-1701757614367.png)\n\n## http请求方法\n- GET 获取资源，GET 方法用来请求访问已被 URI 识别的资源。指定的资源经服务器端解析后返回响应内容。也就是说，如果请求的资源是文本，那就保持原样返回；\n\n- POST 传输实体，虽然 GET 方法也可以传输主体信息，但是便于区分，我们一般不用 GET 传输实体信息，反而使用 POST 传输实体信息，\n\n- PUT 传输文件，PUT 方法用来传输文件。就像 FTP 协议的文件上传一样，要求在请求报文的主体中包含文件内容，然后保存到请求 URI 指定的位置。\n\n但是，鉴于 HTTP 的 PUT 方法自身不带验证机制，任何人都可以上传文件 , 存在安全性问题，因此一般的 W eb 网站不使用该方法。若配合 W eb 应用程序的验证机制，或架构设计采用REST（REpresentational State Transfer，表征状态转移）标准的同类 Web 网站，就可能会开放使用 PUT 方法。\n\n- HEAD 获得响应首部，HEAD 方法和 GET 方法一样，只是不返回报文主体部分。用于确认 URI 的有效性及资源更新的日期时间等。`不常用`\n\n- DELETE 删除文件，DELETE 方法用来删除文件，是与 PUT 相反的方法。DELETE 方法按请求 URI 删除指定的资源。\n\n- OPTIONS 询问支持的方法，OPTIONS 方法用来查询针对请求 URI 指定的资源支持的方法。` 不常用`\n\n- TRACE 追踪路径，TRACE 方法是让 Web 服务器端将之前的请求通信环回给客户端的方法。` 不常用`\n\n- CONNECT 要求用隧道协议连接代理，CONNECT 方法要求在与代理服务器通信时建立隧道，实现用隧道协议进行 TCP 通信。主要使用 SSL（Secure Sockets Layer，安全套接层）和 TLS（Transport Layer Security，传输层安全）协议把通信内容加密后经网络隧道传输。\n-\n\n![5](../images/http请求内容详解-1701757625731.png)\n## http响应状态码\n\n![6](../images/http请求内容详解-1701757634525.png)\n","source":"_posts/http请求内容详解.md","raw":"---\ntitle: http请求内容详解\ntags:\n  - http\n  - 后端\ncategories: 后端\nkeywords: http，后端\ndescription: http，后端\ntop_img: /img/suanfa.png\ncomments: true\ncover: /img/suanfa.png\ncopyright_author: xingxing\ncopyright_author_href: www.staraway.asia\ncopyright_info: 可转载哦\ndate: 2023-7-05 14:16:01\n---\n\n## http报文组成\n-   `起始行（start line）`：描述请求或响应的基本信息；\n-   `头部字段（header）`：使用 key-value 形式更详细地说明报文；\n-   `消息正文（entity）`：实际传输的数据，它不一定是纯文本，可以是图片、视频等二进制数据。`此处在服务端代码编写的时候使用的是body属性`\n     ![1](../images/http请求内容详解-1701757597107.png)\n\n![2](../images/http请求内容详解-1701757614367.png)\n\n## http请求方法\n- GET 获取资源，GET 方法用来请求访问已被 URI 识别的资源。指定的资源经服务器端解析后返回响应内容。也就是说，如果请求的资源是文本，那就保持原样返回；\n\n- POST 传输实体，虽然 GET 方法也可以传输主体信息，但是便于区分，我们一般不用 GET 传输实体信息，反而使用 POST 传输实体信息，\n\n- PUT 传输文件，PUT 方法用来传输文件。就像 FTP 协议的文件上传一样，要求在请求报文的主体中包含文件内容，然后保存到请求 URI 指定的位置。\n\n但是，鉴于 HTTP 的 PUT 方法自身不带验证机制，任何人都可以上传文件 , 存在安全性问题，因此一般的 W eb 网站不使用该方法。若配合 W eb 应用程序的验证机制，或架构设计采用REST（REpresentational State Transfer，表征状态转移）标准的同类 Web 网站，就可能会开放使用 PUT 方法。\n\n- HEAD 获得响应首部，HEAD 方法和 GET 方法一样，只是不返回报文主体部分。用于确认 URI 的有效性及资源更新的日期时间等。`不常用`\n\n- DELETE 删除文件，DELETE 方法用来删除文件，是与 PUT 相反的方法。DELETE 方法按请求 URI 删除指定的资源。\n\n- OPTIONS 询问支持的方法，OPTIONS 方法用来查询针对请求 URI 指定的资源支持的方法。` 不常用`\n\n- TRACE 追踪路径，TRACE 方法是让 Web 服务器端将之前的请求通信环回给客户端的方法。` 不常用`\n\n- CONNECT 要求用隧道协议连接代理，CONNECT 方法要求在与代理服务器通信时建立隧道，实现用隧道协议进行 TCP 通信。主要使用 SSL（Secure Sockets Layer，安全套接层）和 TLS（Transport Layer Security，传输层安全）协议把通信内容加密后经网络隧道传输。\n-\n\n![5](../images/http请求内容详解-1701757625731.png)\n## http响应状态码\n\n![6](../images/http请求内容详解-1701757634525.png)\n","slug":"http请求内容详解","published":1,"updated":"2023-12-06T02:57:32.218Z","_id":"clprymdjw0000h4pk6las0dif","layout":"post","photos":[],"link":"","content":"<h2 id=\"http报文组成\"><a href=\"#http报文组成\" class=\"headerlink\" title=\"http报文组成\"></a>http报文组成</h2><ul>\n<li><code>起始行（start line）</code>：描述请求或响应的基本信息；</li>\n<li><code>头部字段（header）</code>：使用 key-value 形式更详细地说明报文；</li>\n<li><code>消息正文（entity）</code>：实际传输的数据，它不一定是纯文本，可以是图片、视频等二进制数据。<code>此处在服务端代码编写的时候使用的是body属性</code><br> <img src=\"/../images/http%E8%AF%B7%E6%B1%82%E5%86%85%E5%AE%B9%E8%AF%A6%E8%A7%A3-1701757597107.png\" alt=\"1\"></li>\n</ul>\n<p><img src=\"/../images/http%E8%AF%B7%E6%B1%82%E5%86%85%E5%AE%B9%E8%AF%A6%E8%A7%A3-1701757614367.png\" alt=\"2\"></p>\n<h2 id=\"http请求方法\"><a href=\"#http请求方法\" class=\"headerlink\" title=\"http请求方法\"></a>http请求方法</h2><ul>\n<li><p>GET 获取资源，GET 方法用来请求访问已被 URI 识别的资源。指定的资源经服务器端解析后返回响应内容。也就是说，如果请求的资源是文本，那就保持原样返回；</p>\n</li>\n<li><p>POST 传输实体，虽然 GET 方法也可以传输主体信息，但是便于区分，我们一般不用 GET 传输实体信息，反而使用 POST 传输实体信息，</p>\n</li>\n<li><p>PUT 传输文件，PUT 方法用来传输文件。就像 FTP 协议的文件上传一样，要求在请求报文的主体中包含文件内容，然后保存到请求 URI 指定的位置。</p>\n</li>\n</ul>\n<p>但是，鉴于 HTTP 的 PUT 方法自身不带验证机制，任何人都可以上传文件 , 存在安全性问题，因此一般的 W eb 网站不使用该方法。若配合 W eb 应用程序的验证机制，或架构设计采用REST（REpresentational State Transfer，表征状态转移）标准的同类 Web 网站，就可能会开放使用 PUT 方法。</p>\n<ul>\n<li><p>HEAD 获得响应首部，HEAD 方法和 GET 方法一样，只是不返回报文主体部分。用于确认 URI 的有效性及资源更新的日期时间等。<code>不常用</code></p>\n</li>\n<li><p>DELETE 删除文件，DELETE 方法用来删除文件，是与 PUT 相反的方法。DELETE 方法按请求 URI 删除指定的资源。</p>\n</li>\n<li><p>OPTIONS 询问支持的方法，OPTIONS 方法用来查询针对请求 URI 指定的资源支持的方法。<code> 不常用</code></p>\n</li>\n<li><p>TRACE 追踪路径，TRACE 方法是让 Web 服务器端将之前的请求通信环回给客户端的方法。<code> 不常用</code></p>\n</li>\n<li><p>CONNECT 要求用隧道协议连接代理，CONNECT 方法要求在与代理服务器通信时建立隧道，实现用隧道协议进行 TCP 通信。主要使用 SSL（Secure Sockets Layer，安全套接层）和 TLS（Transport Layer Security，传输层安全）协议把通信内容加密后经网络隧道传输。</p>\n</li>\n<li></li>\n</ul>\n<p><img src=\"/../images/http%E8%AF%B7%E6%B1%82%E5%86%85%E5%AE%B9%E8%AF%A6%E8%A7%A3-1701757625731.png\" alt=\"5\"></p>\n<h2 id=\"http响应状态码\"><a href=\"#http响应状态码\" class=\"headerlink\" title=\"http响应状态码\"></a>http响应状态码</h2><p><img src=\"/../images/http%E8%AF%B7%E6%B1%82%E5%86%85%E5%AE%B9%E8%AF%A6%E8%A7%A3-1701757634525.png\" alt=\"6\"></p>\n","site":{"data":{"about":[{"class_name":"关于页","subtitle":"多一点努力，努力多一点✨","avatarImg":"https://avatars.githubusercontent.com/u/106024593?v=4","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱"]},"name":"xingxing","description":"是一名 后端工程师、学生、独立开发者","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"YNU,计算机科学与技术","color":"#357ef5"}]},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，昆明市","background":"/img/location.png","backgroundDark":"/img/locationDark.png"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2003,"selfInfoTips2":"云南大学","selfInfoContent2":"计算机科学与技术","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"xingxing的日常。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"/img/beautifulImg.jpg","essay_list":[{"content":"发现一个免费拿图的网站诶，还是bing好用，垃圾百度！但是好像要翻墙才可以下载原图，不过可以直接复制图片地址，然后用迅雷下载，也是可以的（图片大小翻五倍）。","date":"2023/11/31","image":["/img/essayImg/pixabay.png"],"link":"https://pixabay.com/zh/"},{"content":"寒假实习求职顺利（求神拜佛）","date":"2023/12/2"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}],"bangumis":{"wantWatch":[{"title":"百妖谱 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/5424062d0821f89ea549533d8a2c3cfff2076766.png","totalCount":"全12话","id":28230717,"follow":"527.1 万","view":"1.2 亿","danmaku":"47.2 万","coin":"42.5 万","score":9.2,"des":"桃都的灵医桃夭带着小和尚磨牙、第一季收服的小狐妖、桃都老邻居柳公子一起继续第一季的故事，为了寻找失踪的百妖谱而云游四方，在途中遇到应声、化蛇、媪姬、照海四个妖怪，为妖怪治疗各种疑难杂症。..."},{"title":"伍六七之玄武国篇","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/00843865ea13702eccc4efd64c313fd4c8029c6b.jpg","totalCount":"全10话","id":28232253,"follow":"1031.1 万","view":"4.7 亿","danmaku":"186.3 万","coin":"405.6 万","score":9.8,"des":"为了保护小鸡岛居民和这里平静的生活，伍六七和他的伙伴大保和小飞开启了去往玄武国的冒险旅程，去寻找身世的真相和解救小岛的办法，等待他们的又将是更多的未知与奇遇。..."},{"title":"伍六七之暗影宿命","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/6e5c5848ff8943fd6366e943a4f75b98598c50c6.png","totalCount":"全10话","id":28412536,"follow":"1250.4 万","view":"5.1 亿","danmaku":"110.7 万","coin":"410.9 万","score":9.2,"des":"随着伍六七回到玄武国寻找他的身世，亦引起了七大暗影刺客的追捕。然而每一位暗影刺客都带着不同的目的和不同的过去，青凤的阴谋也在此浮出了水面。而此时等待着小鸡岛上的人民，又将是另一个危机，伍六七将如何面对..."}],"watching":[{"title":"灵笼 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cf5f6595ece017215e7d61482f022094479dff37.png","totalCount":"-","id":21123554,"follow":"910.5 万","view":"1586.9 万","danmaku":"7.0 万","coin":"35.1 万","score":"-","des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."},{"title":"灵笼","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cfab7e0fbdb4786ff4e885d050b7cf37f8829486.png","totalCount":"全16话","id":23432,"follow":"903.9 万","view":"6.1 亿","danmaku":"674.4 万","coin":"677.7 万","score":9.6,"des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."}],"watched":[{"title":"时光代理人","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/1fe1cd0ec59b790fea83a5726cdc0fa3189c4394.png","totalCount":"全24话","id":28230742,"follow":"879.2 万","view":"5.0 亿","danmaku":"399.9 万","coin":"418.4 万","score":9.7,"des":"为了找到一系列罪案的操纵者，程小时求助于肖力，找寻一切藏匿于暗中的蛛丝马迹。但是拥有未知超能力的凶手在阴影之中，也从没有停止过阴谋的脚步。神秘能力者如影随形，身边伙伴接连遇害，程小时屡次身陷险境。随着..."},{"title":"元龙 第三季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/b3a9b5975059e074593b9381322ad8c423be7b89.png","totalCount":"全16话","id":28235400,"follow":"620.5 万","view":"1.5 亿","danmaku":"24.0 万","coin":"10.7 万","score":6.8,"des":"王胜于现代世界醒来，一切是如此真实而又如梦似幻。皇城遗女，戴家少主的出现更让局势扑朔迷离。而一场由小搏大的赌局，也让王胜渐渐意识到这不仅仅是他和戴家少主两个人的较量。恰时逢盛宴，天下汇集，王胜不得不再..."},{"title":"三体","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/9870f898b8a39bbb8048f34317f8d78a02cc1770.png","totalCount":"全15话","id":4315402,"follow":"690.6 万","view":"6.2 亿","danmaku":"179.3 万","coin":"230.7 万","score":8.2,"des":"无数细线横亘在星空之中，如同一把巨大的刷子。三体星舰队将于400年后抵达。遥远蝴蝶扇动着翅膀，也改变了罗辑的命运，轰然打开的门后是世界中心——面壁计划开启。同时，智子所创建的破壁室内，破壁人一一就位…..."},{"title":"狐妖小红娘","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/cbb20ee03e97a9f3ad2e1506a10fd1271f1c584a.jpg","totalCount":"全100话","id":2543,"follow":"691.5 万","view":"8.7 亿","danmaku":"1052.9 万","coin":"259.8 万","score":9.5,"des":"根据古典小说记载，世上有人有妖，妖会与人相恋，妖寿命千年，人的寿命有限，人死了，妖活着。人会投胎转世，但投胎以后不记得上辈子的爱。妖如果痴情的话，就去找狐妖“购买”一项服务，让投胎转世的人回忆起前世的..."}]}}},"cover_type":"img","excerpt":"","more":"<h2 id=\"http报文组成\"><a href=\"#http报文组成\" class=\"headerlink\" title=\"http报文组成\"></a>http报文组成</h2><ul>\n<li><code>起始行（start line）</code>：描述请求或响应的基本信息；</li>\n<li><code>头部字段（header）</code>：使用 key-value 形式更详细地说明报文；</li>\n<li><code>消息正文（entity）</code>：实际传输的数据，它不一定是纯文本，可以是图片、视频等二进制数据。<code>此处在服务端代码编写的时候使用的是body属性</code><br> <img src=\"/../images/http%E8%AF%B7%E6%B1%82%E5%86%85%E5%AE%B9%E8%AF%A6%E8%A7%A3-1701757597107.png\" alt=\"1\"></li>\n</ul>\n<p><img src=\"/../images/http%E8%AF%B7%E6%B1%82%E5%86%85%E5%AE%B9%E8%AF%A6%E8%A7%A3-1701757614367.png\" alt=\"2\"></p>\n<h2 id=\"http请求方法\"><a href=\"#http请求方法\" class=\"headerlink\" title=\"http请求方法\"></a>http请求方法</h2><ul>\n<li><p>GET 获取资源，GET 方法用来请求访问已被 URI 识别的资源。指定的资源经服务器端解析后返回响应内容。也就是说，如果请求的资源是文本，那就保持原样返回；</p>\n</li>\n<li><p>POST 传输实体，虽然 GET 方法也可以传输主体信息，但是便于区分，我们一般不用 GET 传输实体信息，反而使用 POST 传输实体信息，</p>\n</li>\n<li><p>PUT 传输文件，PUT 方法用来传输文件。就像 FTP 协议的文件上传一样，要求在请求报文的主体中包含文件内容，然后保存到请求 URI 指定的位置。</p>\n</li>\n</ul>\n<p>但是，鉴于 HTTP 的 PUT 方法自身不带验证机制，任何人都可以上传文件 , 存在安全性问题，因此一般的 W eb 网站不使用该方法。若配合 W eb 应用程序的验证机制，或架构设计采用REST（REpresentational State Transfer，表征状态转移）标准的同类 Web 网站，就可能会开放使用 PUT 方法。</p>\n<ul>\n<li><p>HEAD 获得响应首部，HEAD 方法和 GET 方法一样，只是不返回报文主体部分。用于确认 URI 的有效性及资源更新的日期时间等。<code>不常用</code></p>\n</li>\n<li><p>DELETE 删除文件，DELETE 方法用来删除文件，是与 PUT 相反的方法。DELETE 方法按请求 URI 删除指定的资源。</p>\n</li>\n<li><p>OPTIONS 询问支持的方法，OPTIONS 方法用来查询针对请求 URI 指定的资源支持的方法。<code> 不常用</code></p>\n</li>\n<li><p>TRACE 追踪路径，TRACE 方法是让 Web 服务器端将之前的请求通信环回给客户端的方法。<code> 不常用</code></p>\n</li>\n<li><p>CONNECT 要求用隧道协议连接代理，CONNECT 方法要求在与代理服务器通信时建立隧道，实现用隧道协议进行 TCP 通信。主要使用 SSL（Secure Sockets Layer，安全套接层）和 TLS（Transport Layer Security，传输层安全）协议把通信内容加密后经网络隧道传输。</p>\n</li>\n<li></li>\n</ul>\n<p><img src=\"/../images/http%E8%AF%B7%E6%B1%82%E5%86%85%E5%AE%B9%E8%AF%A6%E8%A7%A3-1701757625731.png\" alt=\"5\"></p>\n<h2 id=\"http响应状态码\"><a href=\"#http响应状态码\" class=\"headerlink\" title=\"http响应状态码\"></a>http响应状态码</h2><p><img src=\"/../images/http%E8%AF%B7%E6%B1%82%E5%86%85%E5%AE%B9%E8%AF%A6%E8%A7%A3-1701757634525.png\" alt=\"6\"></p>\n"},{"title":"react-markdown踩坑实记","keywords":"react，前端","description":"react-markdown的尝试（最后还是觉得很烂）","top_img":"/img/suanfa.png","comments":1,"cover":"/img/suanfa.png","copyright_author":"xingxing","copyright_author_href":"www.staraway.asia","copyright_info":"可转载哦","date":"2023-08-12T06:15:39.000Z","_content":"\n\n### 前往react-markdown的github官网参照使用\n\n首先安装react-markdown插件\n```bash\nyarn add react-markdown\n```\n\n- 看了几份使用样例，最终找到了封装最完善的react-markdown使用实例\n\n\n![1](../images/react-markdown踩坑实记-1701757666333.png)\n\n- 但是按照此样例搬运上nextjs后却发现报错\n\n\n![2](../images/react-markdown踩坑实记-1701757671966.png)\n\n- 经过一番操作后发现无解，只能把`react-syntax-highlighter/dist/esm/styles/prism`删除，然后去掉style样式，代码如下\n\n```typescript\n// index.jsx\n\nimport React from 'react'\nimport ReactMarkdown from 'react-markdown'\nimport remarkGfm from 'remark-gfm'// 划线、表、任务列表和直接url等的语法扩展\nimport rehypeRaw from 'rehype-raw'// 解析标签，支持html语法\nimport {Prism as SyntaxHighlighter} from 'react-syntax-highlighter'\nimport styles from './MarkdownDisplay.module.less'\nimport dark from 'react-syntax-highlighter/dist/esm/styles/prism/atom-dark'\n\ninterface IProps {\n\n    content: string\n}\n\nconst MarkdownDisplay: React.FC<IProps> = (props) => {\n    const {content} = props\n\n    return (\n        <ReactMarkdown\n            className={styles.markdownDisplay}\n            children={content}\n\n            remarkPlugins={[remarkGfm]}\n            rehypePlugins={[rehypeRaw]}\n            components={{\n                code({inline, className, children, ...props}) {\n                    const match = /language-(\\w+)/.exec(className || '')\n                    return !inline && match\n                        ? (\n                            <SyntaxHighlighter\n                                children={String(children).replace(/\\n$/, '')}\n                                style={dark}\n                                language={match[1]}\n                                PreTag=\"div\"\n                            />\n                        )\n                        : (\n                            <code className={className} {...props}>\n                                {children}\n                            </code>\n                        )\n                },\n            }}\n        />\n\n    )\n}\nexport default MarkdownDisplay\n\n// css部分 采用继承父类的min-width、max-width使得图片撑满布局\n\n.markdownDisplay{\n  background-color: white;\n  p{\n    img{\n      min-width: inherit;\n      max-width: inherit;\n    }\n  }\n}\n\n\n\n```\n\n- 此时页面可以正常显示，无任何报错，但是在`git commit`到本地仓库的时候会出现`ESlint检查`错误\n\n```bash\n117:17  Warning: Using `<img>` could result in slower LCP and higher bandwidth. Use `<Image />` from `next/image` instead to utilize Image Optimization. See: https://nextjs.org/docs/messages/no-img-element  @next/next/no-img-element\n./components/MarkdownDisplay/index.tsx\nError: Unexpected unlimited 'eslint-disable-line' comment. Specify some rule names to disable.  eslint-comments/no-unlimited-disable\n26:32  Error: Unexpected mix of '&&' and '?:'. Use parentheses to clarify the intended order of operations.  no-mixed-operators\n27:19  Error: Unexpected mix of '&&' and '?:'. Use parentheses to clarify the intended order of operations.  no-mixed-operators\nError: Unexpected unlimited 'eslint-disable-line' comment. Specify some rule names to disable.  eslint-comments/no-unlimited-disable\ninfo  - Need to disable some ESLint rules? Learn more here: https://nextjs.org/docs/basic-features/eslint#disabling-rules\nhusky - pre-commit hook exited with code 1 (error)\n\n```\n\n`如果有大佬解决还请留言`\n\n### 前往react-markdown的github官网参照使用\n\n首先安装react-markdown插件\n```bash\nyarn add markdown-navbar # or `npm i markdown-navbar --save`\n```\n\n- 有一说一，这个插件真的好用,自动实现了`markdown标题跳转和标题高亮`，减少了手动dom元素的操作，而且性能佳佳~\n\n代码如下\n\n```typescript\n//index.tsx\n\n\nimport MarkNav from 'markdown-navbar'\nimport React from 'react'\nimport styles from './MarkdownNav.module.less'\nimport 'markdown-navbar/dist/navbar.css'\n\ninterface IProps {\n  content: string\n}\n\nconst MarkdownNav: React.FC<IProps> = (props) => {\n  const { content } = props\n  return (\n        <div className=\"nav-menu\">\n            <MarkNav\n                className={styles.markdownNav}\n                source={content}\n                headingTopOffset={10}\n                ordered={false}// 是否显示标题题号1,2等\n            />\n        </div>\n  )\n}\n\nexport default MarkdownNav\n\n```\n\n如果你想让它变的更好看一点可以手动再加一些css样式（通过f12得知他的每个标题均为div元素）\n```less\n//css\n\n.markdownNav {\n  padding: 0 0 0 11px;\n  overflow-x: hidden;\n  overflow-y: auto;\n\n\n  div {\n    display: inline-block;\n    color: inherit;\n    padding: 8px;\n    width: 80%;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    line-height: 18px;\n    cursor: pointer;\n    border-radius: 10px;\n\n    &:hover {\n      color: #1171ee;\n      background-color: #e7e7e7;\n      transition: 0.2s;\n    }\n\n   /* &:active {\n      position: relative;\n      &:before {\n        content: \"\";\n        position: absolute;\n        top: 4px;\n        left: 0;\n        margin-top: 7px;\n        width: 4px;\n        height: 16px;\n        background: #1e80ff;\n        border-radius: 0 4px 4px 0;\n      }\n    }*/\n\n  }\n}\n\n.active{\n  color: pink;\n  &:before {\n    content: \"\";\n    position: absolute;\n    top: 4px;\n    left: 0;\n    margin-top: 7px;\n    width: 4px;\n    height: 16px;\n    background: #1e80ff;\n    border-radius: 0 4px 4px 0;\n  }\n}\n\n```\n\n","source":"_posts/react-markdown踩坑实记.md","raw":"---\ntitle: react-markdown踩坑实记\ntags:\n  - react\n  - 前端\ncategories: 前端\nkeywords: react，前端\ndescription: react-markdown的尝试（最后还是觉得很烂）\ntop_img: /img/suanfa.png\ncomments: true\ncover: /img/suanfa.png\ncopyright_author: xingxing\ncopyright_author_href: www.staraway.asia\ncopyright_info: 可转载哦\ndate: 2023-8-12 14:15:39\n---\n\n\n### 前往react-markdown的github官网参照使用\n\n首先安装react-markdown插件\n```bash\nyarn add react-markdown\n```\n\n- 看了几份使用样例，最终找到了封装最完善的react-markdown使用实例\n\n\n![1](../images/react-markdown踩坑实记-1701757666333.png)\n\n- 但是按照此样例搬运上nextjs后却发现报错\n\n\n![2](../images/react-markdown踩坑实记-1701757671966.png)\n\n- 经过一番操作后发现无解，只能把`react-syntax-highlighter/dist/esm/styles/prism`删除，然后去掉style样式，代码如下\n\n```typescript\n// index.jsx\n\nimport React from 'react'\nimport ReactMarkdown from 'react-markdown'\nimport remarkGfm from 'remark-gfm'// 划线、表、任务列表和直接url等的语法扩展\nimport rehypeRaw from 'rehype-raw'// 解析标签，支持html语法\nimport {Prism as SyntaxHighlighter} from 'react-syntax-highlighter'\nimport styles from './MarkdownDisplay.module.less'\nimport dark from 'react-syntax-highlighter/dist/esm/styles/prism/atom-dark'\n\ninterface IProps {\n\n    content: string\n}\n\nconst MarkdownDisplay: React.FC<IProps> = (props) => {\n    const {content} = props\n\n    return (\n        <ReactMarkdown\n            className={styles.markdownDisplay}\n            children={content}\n\n            remarkPlugins={[remarkGfm]}\n            rehypePlugins={[rehypeRaw]}\n            components={{\n                code({inline, className, children, ...props}) {\n                    const match = /language-(\\w+)/.exec(className || '')\n                    return !inline && match\n                        ? (\n                            <SyntaxHighlighter\n                                children={String(children).replace(/\\n$/, '')}\n                                style={dark}\n                                language={match[1]}\n                                PreTag=\"div\"\n                            />\n                        )\n                        : (\n                            <code className={className} {...props}>\n                                {children}\n                            </code>\n                        )\n                },\n            }}\n        />\n\n    )\n}\nexport default MarkdownDisplay\n\n// css部分 采用继承父类的min-width、max-width使得图片撑满布局\n\n.markdownDisplay{\n  background-color: white;\n  p{\n    img{\n      min-width: inherit;\n      max-width: inherit;\n    }\n  }\n}\n\n\n\n```\n\n- 此时页面可以正常显示，无任何报错，但是在`git commit`到本地仓库的时候会出现`ESlint检查`错误\n\n```bash\n117:17  Warning: Using `<img>` could result in slower LCP and higher bandwidth. Use `<Image />` from `next/image` instead to utilize Image Optimization. See: https://nextjs.org/docs/messages/no-img-element  @next/next/no-img-element\n./components/MarkdownDisplay/index.tsx\nError: Unexpected unlimited 'eslint-disable-line' comment. Specify some rule names to disable.  eslint-comments/no-unlimited-disable\n26:32  Error: Unexpected mix of '&&' and '?:'. Use parentheses to clarify the intended order of operations.  no-mixed-operators\n27:19  Error: Unexpected mix of '&&' and '?:'. Use parentheses to clarify the intended order of operations.  no-mixed-operators\nError: Unexpected unlimited 'eslint-disable-line' comment. Specify some rule names to disable.  eslint-comments/no-unlimited-disable\ninfo  - Need to disable some ESLint rules? Learn more here: https://nextjs.org/docs/basic-features/eslint#disabling-rules\nhusky - pre-commit hook exited with code 1 (error)\n\n```\n\n`如果有大佬解决还请留言`\n\n### 前往react-markdown的github官网参照使用\n\n首先安装react-markdown插件\n```bash\nyarn add markdown-navbar # or `npm i markdown-navbar --save`\n```\n\n- 有一说一，这个插件真的好用,自动实现了`markdown标题跳转和标题高亮`，减少了手动dom元素的操作，而且性能佳佳~\n\n代码如下\n\n```typescript\n//index.tsx\n\n\nimport MarkNav from 'markdown-navbar'\nimport React from 'react'\nimport styles from './MarkdownNav.module.less'\nimport 'markdown-navbar/dist/navbar.css'\n\ninterface IProps {\n  content: string\n}\n\nconst MarkdownNav: React.FC<IProps> = (props) => {\n  const { content } = props\n  return (\n        <div className=\"nav-menu\">\n            <MarkNav\n                className={styles.markdownNav}\n                source={content}\n                headingTopOffset={10}\n                ordered={false}// 是否显示标题题号1,2等\n            />\n        </div>\n  )\n}\n\nexport default MarkdownNav\n\n```\n\n如果你想让它变的更好看一点可以手动再加一些css样式（通过f12得知他的每个标题均为div元素）\n```less\n//css\n\n.markdownNav {\n  padding: 0 0 0 11px;\n  overflow-x: hidden;\n  overflow-y: auto;\n\n\n  div {\n    display: inline-block;\n    color: inherit;\n    padding: 8px;\n    width: 80%;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    line-height: 18px;\n    cursor: pointer;\n    border-radius: 10px;\n\n    &:hover {\n      color: #1171ee;\n      background-color: #e7e7e7;\n      transition: 0.2s;\n    }\n\n   /* &:active {\n      position: relative;\n      &:before {\n        content: \"\";\n        position: absolute;\n        top: 4px;\n        left: 0;\n        margin-top: 7px;\n        width: 4px;\n        height: 16px;\n        background: #1e80ff;\n        border-radius: 0 4px 4px 0;\n      }\n    }*/\n\n  }\n}\n\n.active{\n  color: pink;\n  &:before {\n    content: \"\";\n    position: absolute;\n    top: 4px;\n    left: 0;\n    margin-top: 7px;\n    width: 4px;\n    height: 16px;\n    background: #1e80ff;\n    border-radius: 0 4px 4px 0;\n  }\n}\n\n```\n\n","slug":"react-markdown踩坑实记","published":1,"updated":"2023-12-06T02:57:32.211Z","_id":"clprymdk90001h4pke4hl5jrj","layout":"post","photos":[],"link":"","content":"<h3 id=\"前往react-markdown的github官网参照使用\"><a href=\"#前往react-markdown的github官网参照使用\" class=\"headerlink\" title=\"前往react-markdown的github官网参照使用\"></a>前往react-markdown的github官网参照使用</h3><p>首先安装react-markdown插件</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add react-markdown</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>看了几份使用样例，最终找到了封装最完善的react-markdown使用实例</li>\n</ul>\n<p><img src=\"/../images/react-markdown%E8%B8%A9%E5%9D%91%E5%AE%9E%E8%AE%B0-1701757666333.png\" alt=\"1\"></p>\n<ul>\n<li>但是按照此样例搬运上nextjs后却发现报错</li>\n</ul>\n<p><img src=\"/../images/react-markdown%E8%B8%A9%E5%9D%91%E5%AE%9E%E8%AE%B0-1701757671966.png\" alt=\"2\"></p>\n<ul>\n<li>经过一番操作后发现无解，只能把<code>react-syntax-highlighter/dist/esm/styles/prism</code>删除，然后去掉style样式，代码如下</li>\n</ul>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// index.jsx</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">React</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;react&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">ReactMarkdown</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;react-markdown&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> remarkGfm <span class=\"keyword\">from</span> <span class=\"string\">&#x27;remark-gfm&#x27;</span><span class=\"comment\">// 划线、表、任务列表和直接url等的语法扩展</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> rehypeRaw <span class=\"keyword\">from</span> <span class=\"string\">&#x27;rehype-raw&#x27;</span><span class=\"comment\">// 解析标签，支持html语法</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;<span class=\"title class_\">Prism</span> <span class=\"keyword\">as</span> <span class=\"title class_\">SyntaxHighlighter</span>&#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;react-syntax-highlighter&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> styles <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./MarkdownDisplay.module.less&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> dark <span class=\"keyword\">from</span> <span class=\"string\">&#x27;react-syntax-highlighter/dist/esm/styles/prism/atom-dark&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">interface</span> <span class=\"title class_\">IProps</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">content</span>: <span class=\"built_in\">string</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">MarkdownDisplay</span>: <span class=\"title class_\">React</span>.<span class=\"property\">FC</span>&lt;<span class=\"title class_\">IProps</span>&gt; = <span class=\"function\">(<span class=\"params\">props</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123;content&#125; = props</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">        <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">ReactMarkdown</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">            <span class=\"attr\">className</span>=<span class=\"string\">&#123;styles.markdownDisplay&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">            <span class=\"attr\">children</span>=<span class=\"string\">&#123;content&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">            <span class=\"attr\">remarkPlugins</span>=<span class=\"string\">&#123;[remarkGfm]&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">            <span class=\"attr\">rehypePlugins</span>=<span class=\"string\">&#123;[rehypeRaw]&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">            <span class=\"attr\">components</span>=<span class=\"string\">&#123;&#123;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                <span class=\"attr\">code</span>(&#123;<span class=\"attr\">inline</span>, <span class=\"attr\">className</span>, <span class=\"attr\">children</span>, <span class=\"attr\">...props</span>&#125;) &#123;</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                    <span class=\"attr\">const</span> <span class=\"attr\">match</span> = <span class=\"string\">/language-(\\w+)/.exec(className</span> || &#x27;&#x27;)</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                    <span class=\"attr\">return</span> !<span class=\"attr\">inline</span> &amp;&amp; <span class=\"attr\">match</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                        ? (</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                            &lt;<span class=\"attr\">SyntaxHighlighter</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                <span class=\"attr\">children</span>=<span class=\"string\">&#123;String(children).replace(/\\n$/,</span> &#x27;&#x27;)&#125;</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                <span class=\"attr\">style</span>=<span class=\"string\">&#123;dark&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                <span class=\"attr\">language</span>=<span class=\"string\">&#123;match[1]&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                <span class=\"attr\">PreTag</span>=<span class=\"string\">&quot;div&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                            /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                        )</span></span><br><span class=\"line\"><span class=\"language-xml\">                        : (</span></span><br><span class=\"line\"><span class=\"language-xml\">                            <span class=\"tag\">&lt;<span class=\"name\">code</span> <span class=\"attr\">className</span>=<span class=\"string\">&#123;className&#125;</span> &#123;<span class=\"attr\">...props</span>&#125;&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                &#123;children&#125;</span></span><br><span class=\"line\"><span class=\"language-xml\">                            <span class=\"tag\">&lt;/<span class=\"name\">code</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                        )</span></span><br><span class=\"line\"><span class=\"language-xml\">                &#125;,</span></span><br><span class=\"line\"><span class=\"language-xml\">            &#125;&#125;</span></span><br><span class=\"line\"><span class=\"language-xml\">        /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    )</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title class_\">MarkdownDisplay</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// css部分 采用继承父类的min-width、max-width使得图片撑满布局</span></span><br><span class=\"line\"></span><br><span class=\"line\">.<span class=\"property\">markdownDisplay</span>&#123;</span><br><span class=\"line\">  background-<span class=\"attr\">color</span>: white;</span><br><span class=\"line\">  p&#123;</span><br><span class=\"line\">    img&#123;</span><br><span class=\"line\">      min-<span class=\"attr\">width</span>: inherit;</span><br><span class=\"line\">      max-<span class=\"attr\">width</span>: inherit;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>此时页面可以正常显示，无任何报错，但是在<code>git commit</code>到本地仓库的时候会出现<code>ESlint检查</code>错误</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">117:17  Warning: Using `&lt;img&gt;` could result <span class=\"keyword\">in</span> slower LCP and higher bandwidth. Use `&lt;Image /&gt;` from `next/image` instead to utilize Image Optimization. See: https://nextjs.org/docs/messages/no-img-element  @next/next/no-img-element</span><br><span class=\"line\">./components/MarkdownDisplay/index.tsx</span><br><span class=\"line\">Error: Unexpected unlimited <span class=\"string\">&#x27;eslint-disable-line&#x27;</span> comment. Specify some rule names to <span class=\"built_in\">disable</span>.  eslint-comments/no-unlimited-disable</span><br><span class=\"line\">26:32  Error: Unexpected mix of <span class=\"string\">&#x27;&amp;&amp;&#x27;</span> and <span class=\"string\">&#x27;?:&#x27;</span>. Use parentheses to clarify the intended order of operations.  no-mixed-operators</span><br><span class=\"line\">27:19  Error: Unexpected mix of <span class=\"string\">&#x27;&amp;&amp;&#x27;</span> and <span class=\"string\">&#x27;?:&#x27;</span>. Use parentheses to clarify the intended order of operations.  no-mixed-operators</span><br><span class=\"line\">Error: Unexpected unlimited <span class=\"string\">&#x27;eslint-disable-line&#x27;</span> comment. Specify some rule names to <span class=\"built_in\">disable</span>.  eslint-comments/no-unlimited-disable</span><br><span class=\"line\">info  - Need to <span class=\"built_in\">disable</span> some ESLint rules? Learn more here: https://nextjs.org/docs/basic-features/eslint<span class=\"comment\">#disabling-rules</span></span><br><span class=\"line\">husky - pre-commit hook exited with code 1 (error)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p><code>如果有大佬解决还请留言</code></p>\n<h3 id=\"前往react-markdown的github官网参照使用-1\"><a href=\"#前往react-markdown的github官网参照使用-1\" class=\"headerlink\" title=\"前往react-markdown的github官网参照使用\"></a>前往react-markdown的github官网参照使用</h3><p>首先安装react-markdown插件</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add markdown-navbar <span class=\"comment\"># or `npm i markdown-navbar --save`</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>有一说一，这个插件真的好用,自动实现了<code>markdown标题跳转和标题高亮</code>，减少了手动dom元素的操作，而且性能佳佳~</li>\n</ul>\n<p>代码如下</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//index.tsx</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">MarkNav</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;markdown-navbar&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">React</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;react&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> styles <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./MarkdownNav.module.less&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">&#x27;markdown-navbar/dist/navbar.css&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">interface</span> <span class=\"title class_\">IProps</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">content</span>: <span class=\"built_in\">string</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">MarkdownNav</span>: <span class=\"title class_\">React</span>.<span class=\"property\">FC</span>&lt;<span class=\"title class_\">IProps</span>&gt; = <span class=\"function\">(<span class=\"params\">props</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; content &#125; = props</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (</span><br><span class=\"line\">        <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;nav-menu&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">MarkNav</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                <span class=\"attr\">className</span>=<span class=\"string\">&#123;styles.markdownNav&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                <span class=\"attr\">source</span>=<span class=\"string\">&#123;content&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                <span class=\"attr\">headingTopOffset</span>=<span class=\"string\">&#123;10&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                <span class=\"attr\">ordered</span>=<span class=\"string\">&#123;false&#125;//</span> <span class=\"attr\">是否显示标题题号1</span>,<span class=\"attr\">2等</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">            /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">  )</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title class_\">MarkdownNav</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>如果你想让它变的更好看一点可以手动再加一些css样式（通过f12得知他的每个标题均为div元素）</p>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//css</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.markdownNav</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">11px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">overflow-x</span>: hidden;</span><br><span class=\"line\">  <span class=\"attribute\">overflow-y</span>: auto;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"selector-tag\">div</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: inline-block;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: inherit;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">8px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">80%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">white-space</span>: nowrap;</span><br><span class=\"line\">    <span class=\"attribute\">overflow</span>: hidden;</span><br><span class=\"line\">    <span class=\"attribute\">text-overflow</span>: ellipsis;</span><br><span class=\"line\">    <span class=\"attribute\">line-height</span>: <span class=\"number\">18px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">cursor</span>: pointer;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">10px</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"selector-tag\">&amp;</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\">      <span class=\"attribute\">color</span>: <span class=\"number\">#1171ee</span>;</span><br><span class=\"line\">      <span class=\"attribute\">background-color</span>: <span class=\"number\">#e7e7e7</span>;</span><br><span class=\"line\">      <span class=\"attribute\">transition</span>: <span class=\"number\">0.2s</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">/* &amp;:active &#123;</span></span><br><span class=\"line\"><span class=\"comment\">      position: relative;</span></span><br><span class=\"line\"><span class=\"comment\">      &amp;:before &#123;</span></span><br><span class=\"line\"><span class=\"comment\">        content: &quot;&quot;;</span></span><br><span class=\"line\"><span class=\"comment\">        position: absolute;</span></span><br><span class=\"line\"><span class=\"comment\">        top: 4px;</span></span><br><span class=\"line\"><span class=\"comment\">        left: 0;</span></span><br><span class=\"line\"><span class=\"comment\">        margin-top: 7px;</span></span><br><span class=\"line\"><span class=\"comment\">        width: 4px;</span></span><br><span class=\"line\"><span class=\"comment\">        height: 16px;</span></span><br><span class=\"line\"><span class=\"comment\">        background: #1e80ff;</span></span><br><span class=\"line\"><span class=\"comment\">        border-radius: 0 4px 4px 0;</span></span><br><span class=\"line\"><span class=\"comment\">      &#125;</span></span><br><span class=\"line\"><span class=\"comment\">    &#125;*/</span></span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.active</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: pink;</span><br><span class=\"line\">  <span class=\"selector-tag\">&amp;</span><span class=\"selector-pseudo\">:before</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">content</span>: <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">    <span class=\"attribute\">top</span>: <span class=\"number\">4px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">left</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">margin-top</span>: <span class=\"number\">7px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">4px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">16px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"number\">#1e80ff</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">0</span> <span class=\"number\">4px</span> <span class=\"number\">4px</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n","site":{"data":{"about":[{"class_name":"关于页","subtitle":"多一点努力，努力多一点✨","avatarImg":"https://avatars.githubusercontent.com/u/106024593?v=4","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱"]},"name":"xingxing","description":"是一名 后端工程师、学生、独立开发者","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"YNU,计算机科学与技术","color":"#357ef5"}]},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，昆明市","background":"/img/location.png","backgroundDark":"/img/locationDark.png"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2003,"selfInfoTips2":"云南大学","selfInfoContent2":"计算机科学与技术","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"xingxing的日常。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"/img/beautifulImg.jpg","essay_list":[{"content":"发现一个免费拿图的网站诶，还是bing好用，垃圾百度！但是好像要翻墙才可以下载原图，不过可以直接复制图片地址，然后用迅雷下载，也是可以的（图片大小翻五倍）。","date":"2023/11/31","image":["/img/essayImg/pixabay.png"],"link":"https://pixabay.com/zh/"},{"content":"寒假实习求职顺利（求神拜佛）","date":"2023/12/2"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}],"bangumis":{"wantWatch":[{"title":"百妖谱 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/5424062d0821f89ea549533d8a2c3cfff2076766.png","totalCount":"全12话","id":28230717,"follow":"527.1 万","view":"1.2 亿","danmaku":"47.2 万","coin":"42.5 万","score":9.2,"des":"桃都的灵医桃夭带着小和尚磨牙、第一季收服的小狐妖、桃都老邻居柳公子一起继续第一季的故事，为了寻找失踪的百妖谱而云游四方，在途中遇到应声、化蛇、媪姬、照海四个妖怪，为妖怪治疗各种疑难杂症。..."},{"title":"伍六七之玄武国篇","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/00843865ea13702eccc4efd64c313fd4c8029c6b.jpg","totalCount":"全10话","id":28232253,"follow":"1031.1 万","view":"4.7 亿","danmaku":"186.3 万","coin":"405.6 万","score":9.8,"des":"为了保护小鸡岛居民和这里平静的生活，伍六七和他的伙伴大保和小飞开启了去往玄武国的冒险旅程，去寻找身世的真相和解救小岛的办法，等待他们的又将是更多的未知与奇遇。..."},{"title":"伍六七之暗影宿命","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/6e5c5848ff8943fd6366e943a4f75b98598c50c6.png","totalCount":"全10话","id":28412536,"follow":"1250.4 万","view":"5.1 亿","danmaku":"110.7 万","coin":"410.9 万","score":9.2,"des":"随着伍六七回到玄武国寻找他的身世，亦引起了七大暗影刺客的追捕。然而每一位暗影刺客都带着不同的目的和不同的过去，青凤的阴谋也在此浮出了水面。而此时等待着小鸡岛上的人民，又将是另一个危机，伍六七将如何面对..."}],"watching":[{"title":"灵笼 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cf5f6595ece017215e7d61482f022094479dff37.png","totalCount":"-","id":21123554,"follow":"910.5 万","view":"1586.9 万","danmaku":"7.0 万","coin":"35.1 万","score":"-","des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."},{"title":"灵笼","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cfab7e0fbdb4786ff4e885d050b7cf37f8829486.png","totalCount":"全16话","id":23432,"follow":"903.9 万","view":"6.1 亿","danmaku":"674.4 万","coin":"677.7 万","score":9.6,"des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."}],"watched":[{"title":"时光代理人","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/1fe1cd0ec59b790fea83a5726cdc0fa3189c4394.png","totalCount":"全24话","id":28230742,"follow":"879.2 万","view":"5.0 亿","danmaku":"399.9 万","coin":"418.4 万","score":9.7,"des":"为了找到一系列罪案的操纵者，程小时求助于肖力，找寻一切藏匿于暗中的蛛丝马迹。但是拥有未知超能力的凶手在阴影之中，也从没有停止过阴谋的脚步。神秘能力者如影随形，身边伙伴接连遇害，程小时屡次身陷险境。随着..."},{"title":"元龙 第三季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/b3a9b5975059e074593b9381322ad8c423be7b89.png","totalCount":"全16话","id":28235400,"follow":"620.5 万","view":"1.5 亿","danmaku":"24.0 万","coin":"10.7 万","score":6.8,"des":"王胜于现代世界醒来，一切是如此真实而又如梦似幻。皇城遗女，戴家少主的出现更让局势扑朔迷离。而一场由小搏大的赌局，也让王胜渐渐意识到这不仅仅是他和戴家少主两个人的较量。恰时逢盛宴，天下汇集，王胜不得不再..."},{"title":"三体","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/9870f898b8a39bbb8048f34317f8d78a02cc1770.png","totalCount":"全15话","id":4315402,"follow":"690.6 万","view":"6.2 亿","danmaku":"179.3 万","coin":"230.7 万","score":8.2,"des":"无数细线横亘在星空之中，如同一把巨大的刷子。三体星舰队将于400年后抵达。遥远蝴蝶扇动着翅膀，也改变了罗辑的命运，轰然打开的门后是世界中心——面壁计划开启。同时，智子所创建的破壁室内，破壁人一一就位…..."},{"title":"狐妖小红娘","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/cbb20ee03e97a9f3ad2e1506a10fd1271f1c584a.jpg","totalCount":"全100话","id":2543,"follow":"691.5 万","view":"8.7 亿","danmaku":"1052.9 万","coin":"259.8 万","score":9.5,"des":"根据古典小说记载，世上有人有妖，妖会与人相恋，妖寿命千年，人的寿命有限，人死了，妖活着。人会投胎转世，但投胎以后不记得上辈子的爱。妖如果痴情的话，就去找狐妖“购买”一项服务，让投胎转世的人回忆起前世的..."}]}}},"cover_type":"img","excerpt":"","more":"<h3 id=\"前往react-markdown的github官网参照使用\"><a href=\"#前往react-markdown的github官网参照使用\" class=\"headerlink\" title=\"前往react-markdown的github官网参照使用\"></a>前往react-markdown的github官网参照使用</h3><p>首先安装react-markdown插件</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add react-markdown</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>看了几份使用样例，最终找到了封装最完善的react-markdown使用实例</li>\n</ul>\n<p><img src=\"/../images/react-markdown%E8%B8%A9%E5%9D%91%E5%AE%9E%E8%AE%B0-1701757666333.png\" alt=\"1\"></p>\n<ul>\n<li>但是按照此样例搬运上nextjs后却发现报错</li>\n</ul>\n<p><img src=\"/../images/react-markdown%E8%B8%A9%E5%9D%91%E5%AE%9E%E8%AE%B0-1701757671966.png\" alt=\"2\"></p>\n<ul>\n<li>经过一番操作后发现无解，只能把<code>react-syntax-highlighter/dist/esm/styles/prism</code>删除，然后去掉style样式，代码如下</li>\n</ul>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// index.jsx</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">React</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;react&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">ReactMarkdown</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;react-markdown&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> remarkGfm <span class=\"keyword\">from</span> <span class=\"string\">&#x27;remark-gfm&#x27;</span><span class=\"comment\">// 划线、表、任务列表和直接url等的语法扩展</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> rehypeRaw <span class=\"keyword\">from</span> <span class=\"string\">&#x27;rehype-raw&#x27;</span><span class=\"comment\">// 解析标签，支持html语法</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;<span class=\"title class_\">Prism</span> <span class=\"keyword\">as</span> <span class=\"title class_\">SyntaxHighlighter</span>&#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;react-syntax-highlighter&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> styles <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./MarkdownDisplay.module.less&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> dark <span class=\"keyword\">from</span> <span class=\"string\">&#x27;react-syntax-highlighter/dist/esm/styles/prism/atom-dark&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">interface</span> <span class=\"title class_\">IProps</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">content</span>: <span class=\"built_in\">string</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">MarkdownDisplay</span>: <span class=\"title class_\">React</span>.<span class=\"property\">FC</span>&lt;<span class=\"title class_\">IProps</span>&gt; = <span class=\"function\">(<span class=\"params\">props</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123;content&#125; = props</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">        <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">ReactMarkdown</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">            <span class=\"attr\">className</span>=<span class=\"string\">&#123;styles.markdownDisplay&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">            <span class=\"attr\">children</span>=<span class=\"string\">&#123;content&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">            <span class=\"attr\">remarkPlugins</span>=<span class=\"string\">&#123;[remarkGfm]&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">            <span class=\"attr\">rehypePlugins</span>=<span class=\"string\">&#123;[rehypeRaw]&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">            <span class=\"attr\">components</span>=<span class=\"string\">&#123;&#123;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                <span class=\"attr\">code</span>(&#123;<span class=\"attr\">inline</span>, <span class=\"attr\">className</span>, <span class=\"attr\">children</span>, <span class=\"attr\">...props</span>&#125;) &#123;</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                    <span class=\"attr\">const</span> <span class=\"attr\">match</span> = <span class=\"string\">/language-(\\w+)/.exec(className</span> || &#x27;&#x27;)</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                    <span class=\"attr\">return</span> !<span class=\"attr\">inline</span> &amp;&amp; <span class=\"attr\">match</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                        ? (</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                            &lt;<span class=\"attr\">SyntaxHighlighter</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                <span class=\"attr\">children</span>=<span class=\"string\">&#123;String(children).replace(/\\n$/,</span> &#x27;&#x27;)&#125;</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                <span class=\"attr\">style</span>=<span class=\"string\">&#123;dark&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                <span class=\"attr\">language</span>=<span class=\"string\">&#123;match[1]&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                <span class=\"attr\">PreTag</span>=<span class=\"string\">&quot;div&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                            /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                        )</span></span><br><span class=\"line\"><span class=\"language-xml\">                        : (</span></span><br><span class=\"line\"><span class=\"language-xml\">                            <span class=\"tag\">&lt;<span class=\"name\">code</span> <span class=\"attr\">className</span>=<span class=\"string\">&#123;className&#125;</span> &#123;<span class=\"attr\">...props</span>&#125;&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                &#123;children&#125;</span></span><br><span class=\"line\"><span class=\"language-xml\">                            <span class=\"tag\">&lt;/<span class=\"name\">code</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                        )</span></span><br><span class=\"line\"><span class=\"language-xml\">                &#125;,</span></span><br><span class=\"line\"><span class=\"language-xml\">            &#125;&#125;</span></span><br><span class=\"line\"><span class=\"language-xml\">        /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    )</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title class_\">MarkdownDisplay</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// css部分 采用继承父类的min-width、max-width使得图片撑满布局</span></span><br><span class=\"line\"></span><br><span class=\"line\">.<span class=\"property\">markdownDisplay</span>&#123;</span><br><span class=\"line\">  background-<span class=\"attr\">color</span>: white;</span><br><span class=\"line\">  p&#123;</span><br><span class=\"line\">    img&#123;</span><br><span class=\"line\">      min-<span class=\"attr\">width</span>: inherit;</span><br><span class=\"line\">      max-<span class=\"attr\">width</span>: inherit;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>此时页面可以正常显示，无任何报错，但是在<code>git commit</code>到本地仓库的时候会出现<code>ESlint检查</code>错误</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">117:17  Warning: Using `&lt;img&gt;` could result <span class=\"keyword\">in</span> slower LCP and higher bandwidth. Use `&lt;Image /&gt;` from `next/image` instead to utilize Image Optimization. See: https://nextjs.org/docs/messages/no-img-element  @next/next/no-img-element</span><br><span class=\"line\">./components/MarkdownDisplay/index.tsx</span><br><span class=\"line\">Error: Unexpected unlimited <span class=\"string\">&#x27;eslint-disable-line&#x27;</span> comment. Specify some rule names to <span class=\"built_in\">disable</span>.  eslint-comments/no-unlimited-disable</span><br><span class=\"line\">26:32  Error: Unexpected mix of <span class=\"string\">&#x27;&amp;&amp;&#x27;</span> and <span class=\"string\">&#x27;?:&#x27;</span>. Use parentheses to clarify the intended order of operations.  no-mixed-operators</span><br><span class=\"line\">27:19  Error: Unexpected mix of <span class=\"string\">&#x27;&amp;&amp;&#x27;</span> and <span class=\"string\">&#x27;?:&#x27;</span>. Use parentheses to clarify the intended order of operations.  no-mixed-operators</span><br><span class=\"line\">Error: Unexpected unlimited <span class=\"string\">&#x27;eslint-disable-line&#x27;</span> comment. Specify some rule names to <span class=\"built_in\">disable</span>.  eslint-comments/no-unlimited-disable</span><br><span class=\"line\">info  - Need to <span class=\"built_in\">disable</span> some ESLint rules? Learn more here: https://nextjs.org/docs/basic-features/eslint<span class=\"comment\">#disabling-rules</span></span><br><span class=\"line\">husky - pre-commit hook exited with code 1 (error)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p><code>如果有大佬解决还请留言</code></p>\n<h3 id=\"前往react-markdown的github官网参照使用-1\"><a href=\"#前往react-markdown的github官网参照使用-1\" class=\"headerlink\" title=\"前往react-markdown的github官网参照使用\"></a>前往react-markdown的github官网参照使用</h3><p>首先安装react-markdown插件</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add markdown-navbar <span class=\"comment\"># or `npm i markdown-navbar --save`</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>有一说一，这个插件真的好用,自动实现了<code>markdown标题跳转和标题高亮</code>，减少了手动dom元素的操作，而且性能佳佳~</li>\n</ul>\n<p>代码如下</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//index.tsx</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">MarkNav</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;markdown-navbar&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">React</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;react&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> styles <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./MarkdownNav.module.less&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">&#x27;markdown-navbar/dist/navbar.css&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">interface</span> <span class=\"title class_\">IProps</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">content</span>: <span class=\"built_in\">string</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">MarkdownNav</span>: <span class=\"title class_\">React</span>.<span class=\"property\">FC</span>&lt;<span class=\"title class_\">IProps</span>&gt; = <span class=\"function\">(<span class=\"params\">props</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; content &#125; = props</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (</span><br><span class=\"line\">        <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;nav-menu&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">MarkNav</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                <span class=\"attr\">className</span>=<span class=\"string\">&#123;styles.markdownNav&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                <span class=\"attr\">source</span>=<span class=\"string\">&#123;content&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                <span class=\"attr\">headingTopOffset</span>=<span class=\"string\">&#123;10&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                <span class=\"attr\">ordered</span>=<span class=\"string\">&#123;false&#125;//</span> <span class=\"attr\">是否显示标题题号1</span>,<span class=\"attr\">2等</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">            /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">  )</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title class_\">MarkdownNav</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>如果你想让它变的更好看一点可以手动再加一些css样式（通过f12得知他的每个标题均为div元素）</p>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//css</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.markdownNav</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">11px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">overflow-x</span>: hidden;</span><br><span class=\"line\">  <span class=\"attribute\">overflow-y</span>: auto;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"selector-tag\">div</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: inline-block;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: inherit;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">8px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">80%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">white-space</span>: nowrap;</span><br><span class=\"line\">    <span class=\"attribute\">overflow</span>: hidden;</span><br><span class=\"line\">    <span class=\"attribute\">text-overflow</span>: ellipsis;</span><br><span class=\"line\">    <span class=\"attribute\">line-height</span>: <span class=\"number\">18px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">cursor</span>: pointer;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">10px</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"selector-tag\">&amp;</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\">      <span class=\"attribute\">color</span>: <span class=\"number\">#1171ee</span>;</span><br><span class=\"line\">      <span class=\"attribute\">background-color</span>: <span class=\"number\">#e7e7e7</span>;</span><br><span class=\"line\">      <span class=\"attribute\">transition</span>: <span class=\"number\">0.2s</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">/* &amp;:active &#123;</span></span><br><span class=\"line\"><span class=\"comment\">      position: relative;</span></span><br><span class=\"line\"><span class=\"comment\">      &amp;:before &#123;</span></span><br><span class=\"line\"><span class=\"comment\">        content: &quot;&quot;;</span></span><br><span class=\"line\"><span class=\"comment\">        position: absolute;</span></span><br><span class=\"line\"><span class=\"comment\">        top: 4px;</span></span><br><span class=\"line\"><span class=\"comment\">        left: 0;</span></span><br><span class=\"line\"><span class=\"comment\">        margin-top: 7px;</span></span><br><span class=\"line\"><span class=\"comment\">        width: 4px;</span></span><br><span class=\"line\"><span class=\"comment\">        height: 16px;</span></span><br><span class=\"line\"><span class=\"comment\">        background: #1e80ff;</span></span><br><span class=\"line\"><span class=\"comment\">        border-radius: 0 4px 4px 0;</span></span><br><span class=\"line\"><span class=\"comment\">      &#125;</span></span><br><span class=\"line\"><span class=\"comment\">    &#125;*/</span></span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.active</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: pink;</span><br><span class=\"line\">  <span class=\"selector-tag\">&amp;</span><span class=\"selector-pseudo\">:before</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">content</span>: <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">    <span class=\"attribute\">top</span>: <span class=\"number\">4px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">left</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">margin-top</span>: <span class=\"number\">7px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">4px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">16px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"number\">#1e80ff</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">0</span> <span class=\"number\">4px</span> <span class=\"number\">4px</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n"},{"title":"spring-cloud-starter-oauth2+securit+jwt微服务实战","keywords":"springcloud，springsecurity","description":"springcloud，springsecurity","top_img":"/img/houduan.png","comments":1,"cover":"/img/houduan.png","copyright_author":"xingxing","copyright_author_href":"www.staraway.asia","copyright_info":"可转载哦","date":"2023-08-14T06:15:17.000Z","_content":"\n\n### spring-cloud-starter-oauth2+securit简介\n\n##### 认证\n\n- 用户认证就是判断一个用户的身份是否合法的过程，用户去访问系统资源时系统要求验证用户的身份信 息，身份合法方可继续访问，不合法则拒绝访问。常见的用户身份认证方式有：用户名密码登录，二维 码登录，手机短信登录，指纹认证等方式。\n\n`认证是为了保护系统的隐私数据与资源，用户的身份合法方可访问该系统的资源。`\n#### 授权\n- 授权是用户认证通过后，根据用户的权限来控制用户访问资源的过程，拥有资源的访问权限则正常访 问，没有权限则拒绝访问。\n\n`认证是为了保证用户身份的合法性，授权则是为了更细粒度的对隐私数据进行划分，授权是在认证通过 后发生的， 控制不同的用户能够访问不同的资源。`\n\n#### RBAC模型\n`主体 -》 角色 -》 资源 -》行为`\n\n![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f2606eb94497441fb84648424a748d5e~tplv-k3u1fbpfcp-watermark.image?)\n### spring-cloud-starter-oauth2+security使用\n\n#### 相关依赖引入\n- spring-cloud-starter-oauth2+security是一套完整的用户登录授权系统，在认证服务上主要有三个依赖：`spring-cloud-starter-security、spring-cloud-starter-oauth2、spring-security-jwt`\n``` xml\n\n        <!--spring security相关依赖-->\n        <dependency>\n            <groupId>org.springframework.cloud</groupId>\n            <artifactId>spring-cloud-starter-security</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.cloud</groupId>\n            <artifactId>spring-cloud-starter-oauth2</artifactId>\n        </dependency>\n\n  <dependency>\n            <groupId>org.springframework.security</groupId>\n            <artifactId>spring-security-jwt</artifactId>\n            <version>1.1.1.RELEASE</version>\n        </dependency>\n\n```\n- 在其他需要权限访问的服务上主要包含两个依赖：\n\n``` xml\n  <!--spring security相关依赖-->\n        <dependency>\n            <groupId>org.springframework.cloud</groupId>\n            <artifactId>spring-cloud-starter-security</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.cloud</groupId>\n            <artifactId>spring-cloud-starter-oauth2</artifactId>\n        </dependency>\n\n```\n\n#### 认证服务搭建\n- 这里主要做security和oauth2的相关配置\n- 主要由以下四个配置文件\n\n\n![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/64fdb305f8934f128f141085735d9945~tplv-k3u1fbpfcp-watermark.image?)\n\n- WebSecurityConfig主要做springsecurity相关的配置\n```Java\n@EnableWebSecurity //开启security服务\n@EnableGlobalMethodSecurity(securedEnabled = true, prePostEnabled = true) //允许在方法上加的注解来配置权限\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    DaoAuthenticationProviderCustom daoAuthenticationProviderCustom;\n\n    //使用自己定义DaoAuthenticationProviderCustom来代替框架的DaoAuthenticationProvider\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(daoAuthenticationProviderCustom);\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        //密码为明文方式\n        return NoOpPasswordEncoder.getInstance();\n        //return new BCryptPasswordEncoder();\n    }\n\n    //配置安全拦截机制\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests()\n                .antMatchers(\"/pow/**\").authenticated()//访问/r开始的请求需要认证通过\n                .anyRequest().permitAll()//其它请求全部放行\n                .and()\n                .formLogin().successForwardUrl(\"/login-success\");//登录成功跳转到/login-success\n        http.logout().logoutUrl(\"/logout\");//退出地址\n    }\n\n}\n\n```\n- TokenConfig在认证服务中主要作token的生成配置\n\n```JAVA\n@Configuration\npublic class TokenConfig {\n\n    private String SIGNING_KEY = \"030321liuxinyu\";//和其他服务一致来解析token\n\n    @Autowired\n    TokenStore tokenStore;\n\n//    @Bean\n//    public TokenStore tokenStore() {\n//        //使用内存存储令牌（普通令牌）\n//        return new InMemoryTokenStore();\n//    }\n\n    @Autowired\n    private JwtAccessTokenConverter accessTokenConverter;\n\n    @Bean\n    public TokenStore tokenStore() {\n        return new JwtTokenStore(accessTokenConverter());\n    }\n\n    @Bean\n    public JwtAccessTokenConverter accessTokenConverter() {\n        JwtAccessTokenConverter converter = new JwtAccessTokenConverter();\n        converter.setSigningKey(SIGNING_KEY);\n        return converter;\n    }\n\n    //令牌管理服务\n    @Bean(name=\"authorizationServerTokenServicesCustom\")\n    public AuthorizationServerTokenServices tokenService() {\n        DefaultTokenServices service=new DefaultTokenServices();\n        service.setSupportRefreshToken(true);//支持刷新令牌\n        service.setTokenStore(tokenStore);//令牌存储策略\n\n        TokenEnhancerChain tokenEnhancerChain = new TokenEnhancerChain();\n        tokenEnhancerChain.setTokenEnhancers(Arrays.asList(accessTokenConverter));\n        service.setTokenEnhancer(tokenEnhancerChain);\n\n        service.setAccessTokenValiditySeconds(7200); // 令牌默认有效期2小时\n        service.setRefreshTokenValiditySeconds(259200); // 刷新令牌默认有效期3天\n        return service;\n    }}\n```\n\n- AuthorizationServer主要是授权方面也就是spring-cloud-starter-oauth2相关的配置\n\n```Java\n@Configuration\n@EnableAuthorizationServer\n@Slf4j\npublic class AuthorizationServer extends AuthorizationServerConfigurerAdapter {\n\n\n    @Resource(name = \"authorizationServerTokenServicesCustom\")\n    private AuthorizationServerTokenServices authorizationServerTokenServices;\n\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    //客户端详情服务\n    @Override\n    public void configure(ClientDetailsServiceConfigurer clients)\n            throws Exception {\n\n        clients.inMemory()// 使用in-memory存储\n                .withClient(\"starBlog\")// client_id\n                .secret(\"030321liuxinyu\")//客户端密钥\n//                .secret(new BCryptPasswordEncoder().encode(\"XcWebApp\"))//客户端密钥\n                .resourceIds(\"starBlog\")//资源列表\n\n                .authorizedGrantTypes(\"authorization_code\", \"client_credentials\", \"implicit\", \"refresh_token\", \"password\")// 该client允许的授权类型authorization_code,password,refresh_token,implicit,client_credentials\n                .scopes(\"all\")// 允许的授权范围\n                .autoApprove(false)//false跳转到授权页面\n                //客户端接收授权码的重定向地址\n                .redirectUris(\"http://www.xuecheng-plus.com\")\n        ;\n    }\n\n\n    //令牌端点的访问配置\n    @Override\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) {\n        endpoints\n                .authenticationManager(authenticationManager)//认证管理器\n                .tokenServices(authorizationServerTokenServices)//令牌管理服务\n                .allowedTokenEndpointRequestMethods(HttpMethod.POST);\n    }\n\n    //令牌端点的安全配置\n    @Override\n    public void configure(AuthorizationServerSecurityConfigurer security) {\n        security\n                .tokenKeyAccess(\"permitAll()\")                    //oauth/token_key是公开\n                .checkTokenAccess(\"permitAll()\")                  //oauth/check_token公开\n                .allowFormAuthenticationForClients()                //表单认证（申请令牌）\n        ;\n    }\n\n}\n```\n- DaoAuthenticationProviderCustom是一个很重要的配置，通过这个修改的springsecuritu原先提供的登录方案（账号密码登录），但当前环境肯定涉及到多种登录方式，我们通过重写`additionalAuthenticationChecks和setUserDetailsService`方法来自定义登录方式\n\n```JAVA\n@Slf4j\n@Component\npublic class DaoAuthenticationProviderCustom extends DaoAuthenticationProvider {\n\n @Autowired\n public void setUserDetailsService(UserDetailsService userDetailsService) {\n  super.setUserDetailsService(userDetailsService);\n }\n\n\n //不再校验密码\n protected void additionalAuthenticationChecks(UserDetails userDetails, UsernamePasswordAuthenticationToken authentication) throws AuthenticationException {\n\n }\n\n\n}\n\n```\n\n- 至此认证服务的相关配置就完成啦，我们可以通过`POST localhost:8081/oauth/token?client_id=starBlog&client_secret=030321liuxinyu&grant_type=password&username={\"account\":\"账号\",\"authType\":\"登录方式\",\"password\":\"密码\"}`来进行测试\n\n\n![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cf8661a32e914bee9e24ed8e7105e399~tplv-k3u1fbpfcp-watermark.image?)\n\n这就是前端用户点击登录后获得的信息，然后将该token存储在本地，用户每次访问的时候都携带token即可，\n\n- oauth也提供了校验token的方法`POST localhost:8081/oauth/check_token?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsieHVlY2hlbmctcGx1cyJdLCJ1c2VyX25hbWUiOiJ7XCJpZFwiOjE2MTY1MTYxNjUsXCJwaG9uZVwiOlwiMTM2NDg4MzcwOTNcIixcIkVtYWlsXCI6XCIyMDY0OTg5NDAzQHFxLmNvbVwiLFwiYWNjb3VudFwiOlwiMjA2NDk4OTQwM1wifSIsInNjb3BlIjpbImFsbCJdLCJleHAiOjE2NzUyNTI3MjIsImF1dGhvcml0aWVzIjpbInRlc3QiXSwianRpIjoiMDU1MjBlOTYtMTVhOS00MjAzLWExMWItNjRjZTNhNDQ5ZTM4IiwiY2xpZW50X2lkIjoic3RhckJsb2cifQ.I6wM4jZJdSA07gTnzmlP59vzqvm1hxNcNt3ejE0mR8w`\n\n![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2343a98e4ad64ee3a756ae144869cc7a~tplv-k3u1fbpfcp-watermark.image?)\n\n#### 资源服务搭建\n- 引入配置文件，相比于认证服务，资源服务的配置量少很多，主要有以下两个配置文件\n\n![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/27ad3d5c189a4243beae77449c746b46~tplv-k3u1fbpfcp-watermark.image?)\n- TokenConfig(和认证服务的类似，但不需要token生成)\n\n```JAVA\n@Configuration\npublic class TokenConfig {\n\n    String SIGNING_KEY = \"key\";\n\n\n    @Autowired\n    private JwtAccessTokenConverter accessTokenConverter;\n\n    @Bean\n    public TokenStore tokenStore() {\n        return new JwtTokenStore(accessTokenConverter());\n    }\n\n    @Bean\n    public JwtAccessTokenConverter accessTokenConverter() {\n        JwtAccessTokenConverter converter = new JwtAccessTokenConverter();\n        converter.setSigningKey(SIGNING_KEY);\n        return converter;\n    }\n}\n\n```\n\n- ResouceServerConfig（资源权限的相关配置）\n```JAVA\n@Configuration\n@EnableResourceServer\n@EnableGlobalMethodSecurity(securedEnabled = true, prePostEnabled = true)\npublic class ResouceServerConfig extends ResourceServerConfigurerAdapter {\n\n\n    //资源服务标识\n    public static final String RESOURCE_ID = \"starBlog\";\n\n    @Autowired\n    TokenStore tokenStore;\n\n    @Override\n    public void configure(ResourceServerSecurityConfigurer resources) {\n        resources.resourceId(RESOURCE_ID)//资源 id\n                .tokenStore(tokenStore)\n                .stateless(true);\n    }\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http.csrf()\n                .disable()\n                .authorizeRequests()\n                .antMatchers( \"/**\").authenticated()//所有/r/**的请求必须认证通过\n                .anyRequest().permitAll()\n        ;\n    }\n\n}\n```\n\n- 这样资源服务就搭建好了，我们访问资源\n\n![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e8d6f8c7a3704bfaa38e9523ae869698~tplv-k3u1fbpfcp-watermark.image?)\n\n- 在资源服务的方法上添加`@PreAuthorize(\"hasAuthority('test')\")`可以指定拥有某项权限的用户才可以访问\n\n\n\n> 这样一个简单的spring-cloud-starter-oauth2+securit+jwt微服务就搭建完成了\n\n","source":"_posts/spring-cloud-starter-oauth2-securit-jwt微服务实战.md","raw":"---\ntitle: spring-cloud-starter-oauth2+securit+jwt微服务实战\ntags:\n  - 后端\n  - springcloud\n  - springsecurity\ncategories: 后端\nkeywords: springcloud，springsecurity\ndescription: springcloud，springsecurity\ntop_img: /img/houduan.png\ncomments: true\ncover: /img/houduan.png\ncopyright_author: xingxing\ncopyright_author_href: www.staraway.asia\ncopyright_info: 可转载哦\ndate: 2023-8-14 14:15:17\n---\n\n\n### spring-cloud-starter-oauth2+securit简介\n\n##### 认证\n\n- 用户认证就是判断一个用户的身份是否合法的过程，用户去访问系统资源时系统要求验证用户的身份信 息，身份合法方可继续访问，不合法则拒绝访问。常见的用户身份认证方式有：用户名密码登录，二维 码登录，手机短信登录，指纹认证等方式。\n\n`认证是为了保护系统的隐私数据与资源，用户的身份合法方可访问该系统的资源。`\n#### 授权\n- 授权是用户认证通过后，根据用户的权限来控制用户访问资源的过程，拥有资源的访问权限则正常访 问，没有权限则拒绝访问。\n\n`认证是为了保证用户身份的合法性，授权则是为了更细粒度的对隐私数据进行划分，授权是在认证通过 后发生的， 控制不同的用户能够访问不同的资源。`\n\n#### RBAC模型\n`主体 -》 角色 -》 资源 -》行为`\n\n![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f2606eb94497441fb84648424a748d5e~tplv-k3u1fbpfcp-watermark.image?)\n### spring-cloud-starter-oauth2+security使用\n\n#### 相关依赖引入\n- spring-cloud-starter-oauth2+security是一套完整的用户登录授权系统，在认证服务上主要有三个依赖：`spring-cloud-starter-security、spring-cloud-starter-oauth2、spring-security-jwt`\n``` xml\n\n        <!--spring security相关依赖-->\n        <dependency>\n            <groupId>org.springframework.cloud</groupId>\n            <artifactId>spring-cloud-starter-security</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.cloud</groupId>\n            <artifactId>spring-cloud-starter-oauth2</artifactId>\n        </dependency>\n\n  <dependency>\n            <groupId>org.springframework.security</groupId>\n            <artifactId>spring-security-jwt</artifactId>\n            <version>1.1.1.RELEASE</version>\n        </dependency>\n\n```\n- 在其他需要权限访问的服务上主要包含两个依赖：\n\n``` xml\n  <!--spring security相关依赖-->\n        <dependency>\n            <groupId>org.springframework.cloud</groupId>\n            <artifactId>spring-cloud-starter-security</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.cloud</groupId>\n            <artifactId>spring-cloud-starter-oauth2</artifactId>\n        </dependency>\n\n```\n\n#### 认证服务搭建\n- 这里主要做security和oauth2的相关配置\n- 主要由以下四个配置文件\n\n\n![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/64fdb305f8934f128f141085735d9945~tplv-k3u1fbpfcp-watermark.image?)\n\n- WebSecurityConfig主要做springsecurity相关的配置\n```Java\n@EnableWebSecurity //开启security服务\n@EnableGlobalMethodSecurity(securedEnabled = true, prePostEnabled = true) //允许在方法上加的注解来配置权限\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    DaoAuthenticationProviderCustom daoAuthenticationProviderCustom;\n\n    //使用自己定义DaoAuthenticationProviderCustom来代替框架的DaoAuthenticationProvider\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(daoAuthenticationProviderCustom);\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        //密码为明文方式\n        return NoOpPasswordEncoder.getInstance();\n        //return new BCryptPasswordEncoder();\n    }\n\n    //配置安全拦截机制\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests()\n                .antMatchers(\"/pow/**\").authenticated()//访问/r开始的请求需要认证通过\n                .anyRequest().permitAll()//其它请求全部放行\n                .and()\n                .formLogin().successForwardUrl(\"/login-success\");//登录成功跳转到/login-success\n        http.logout().logoutUrl(\"/logout\");//退出地址\n    }\n\n}\n\n```\n- TokenConfig在认证服务中主要作token的生成配置\n\n```JAVA\n@Configuration\npublic class TokenConfig {\n\n    private String SIGNING_KEY = \"030321liuxinyu\";//和其他服务一致来解析token\n\n    @Autowired\n    TokenStore tokenStore;\n\n//    @Bean\n//    public TokenStore tokenStore() {\n//        //使用内存存储令牌（普通令牌）\n//        return new InMemoryTokenStore();\n//    }\n\n    @Autowired\n    private JwtAccessTokenConverter accessTokenConverter;\n\n    @Bean\n    public TokenStore tokenStore() {\n        return new JwtTokenStore(accessTokenConverter());\n    }\n\n    @Bean\n    public JwtAccessTokenConverter accessTokenConverter() {\n        JwtAccessTokenConverter converter = new JwtAccessTokenConverter();\n        converter.setSigningKey(SIGNING_KEY);\n        return converter;\n    }\n\n    //令牌管理服务\n    @Bean(name=\"authorizationServerTokenServicesCustom\")\n    public AuthorizationServerTokenServices tokenService() {\n        DefaultTokenServices service=new DefaultTokenServices();\n        service.setSupportRefreshToken(true);//支持刷新令牌\n        service.setTokenStore(tokenStore);//令牌存储策略\n\n        TokenEnhancerChain tokenEnhancerChain = new TokenEnhancerChain();\n        tokenEnhancerChain.setTokenEnhancers(Arrays.asList(accessTokenConverter));\n        service.setTokenEnhancer(tokenEnhancerChain);\n\n        service.setAccessTokenValiditySeconds(7200); // 令牌默认有效期2小时\n        service.setRefreshTokenValiditySeconds(259200); // 刷新令牌默认有效期3天\n        return service;\n    }}\n```\n\n- AuthorizationServer主要是授权方面也就是spring-cloud-starter-oauth2相关的配置\n\n```Java\n@Configuration\n@EnableAuthorizationServer\n@Slf4j\npublic class AuthorizationServer extends AuthorizationServerConfigurerAdapter {\n\n\n    @Resource(name = \"authorizationServerTokenServicesCustom\")\n    private AuthorizationServerTokenServices authorizationServerTokenServices;\n\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    //客户端详情服务\n    @Override\n    public void configure(ClientDetailsServiceConfigurer clients)\n            throws Exception {\n\n        clients.inMemory()// 使用in-memory存储\n                .withClient(\"starBlog\")// client_id\n                .secret(\"030321liuxinyu\")//客户端密钥\n//                .secret(new BCryptPasswordEncoder().encode(\"XcWebApp\"))//客户端密钥\n                .resourceIds(\"starBlog\")//资源列表\n\n                .authorizedGrantTypes(\"authorization_code\", \"client_credentials\", \"implicit\", \"refresh_token\", \"password\")// 该client允许的授权类型authorization_code,password,refresh_token,implicit,client_credentials\n                .scopes(\"all\")// 允许的授权范围\n                .autoApprove(false)//false跳转到授权页面\n                //客户端接收授权码的重定向地址\n                .redirectUris(\"http://www.xuecheng-plus.com\")\n        ;\n    }\n\n\n    //令牌端点的访问配置\n    @Override\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) {\n        endpoints\n                .authenticationManager(authenticationManager)//认证管理器\n                .tokenServices(authorizationServerTokenServices)//令牌管理服务\n                .allowedTokenEndpointRequestMethods(HttpMethod.POST);\n    }\n\n    //令牌端点的安全配置\n    @Override\n    public void configure(AuthorizationServerSecurityConfigurer security) {\n        security\n                .tokenKeyAccess(\"permitAll()\")                    //oauth/token_key是公开\n                .checkTokenAccess(\"permitAll()\")                  //oauth/check_token公开\n                .allowFormAuthenticationForClients()                //表单认证（申请令牌）\n        ;\n    }\n\n}\n```\n- DaoAuthenticationProviderCustom是一个很重要的配置，通过这个修改的springsecuritu原先提供的登录方案（账号密码登录），但当前环境肯定涉及到多种登录方式，我们通过重写`additionalAuthenticationChecks和setUserDetailsService`方法来自定义登录方式\n\n```JAVA\n@Slf4j\n@Component\npublic class DaoAuthenticationProviderCustom extends DaoAuthenticationProvider {\n\n @Autowired\n public void setUserDetailsService(UserDetailsService userDetailsService) {\n  super.setUserDetailsService(userDetailsService);\n }\n\n\n //不再校验密码\n protected void additionalAuthenticationChecks(UserDetails userDetails, UsernamePasswordAuthenticationToken authentication) throws AuthenticationException {\n\n }\n\n\n}\n\n```\n\n- 至此认证服务的相关配置就完成啦，我们可以通过`POST localhost:8081/oauth/token?client_id=starBlog&client_secret=030321liuxinyu&grant_type=password&username={\"account\":\"账号\",\"authType\":\"登录方式\",\"password\":\"密码\"}`来进行测试\n\n\n![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cf8661a32e914bee9e24ed8e7105e399~tplv-k3u1fbpfcp-watermark.image?)\n\n这就是前端用户点击登录后获得的信息，然后将该token存储在本地，用户每次访问的时候都携带token即可，\n\n- oauth也提供了校验token的方法`POST localhost:8081/oauth/check_token?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsieHVlY2hlbmctcGx1cyJdLCJ1c2VyX25hbWUiOiJ7XCJpZFwiOjE2MTY1MTYxNjUsXCJwaG9uZVwiOlwiMTM2NDg4MzcwOTNcIixcIkVtYWlsXCI6XCIyMDY0OTg5NDAzQHFxLmNvbVwiLFwiYWNjb3VudFwiOlwiMjA2NDk4OTQwM1wifSIsInNjb3BlIjpbImFsbCJdLCJleHAiOjE2NzUyNTI3MjIsImF1dGhvcml0aWVzIjpbInRlc3QiXSwianRpIjoiMDU1MjBlOTYtMTVhOS00MjAzLWExMWItNjRjZTNhNDQ5ZTM4IiwiY2xpZW50X2lkIjoic3RhckJsb2cifQ.I6wM4jZJdSA07gTnzmlP59vzqvm1hxNcNt3ejE0mR8w`\n\n![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2343a98e4ad64ee3a756ae144869cc7a~tplv-k3u1fbpfcp-watermark.image?)\n\n#### 资源服务搭建\n- 引入配置文件，相比于认证服务，资源服务的配置量少很多，主要有以下两个配置文件\n\n![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/27ad3d5c189a4243beae77449c746b46~tplv-k3u1fbpfcp-watermark.image?)\n- TokenConfig(和认证服务的类似，但不需要token生成)\n\n```JAVA\n@Configuration\npublic class TokenConfig {\n\n    String SIGNING_KEY = \"key\";\n\n\n    @Autowired\n    private JwtAccessTokenConverter accessTokenConverter;\n\n    @Bean\n    public TokenStore tokenStore() {\n        return new JwtTokenStore(accessTokenConverter());\n    }\n\n    @Bean\n    public JwtAccessTokenConverter accessTokenConverter() {\n        JwtAccessTokenConverter converter = new JwtAccessTokenConverter();\n        converter.setSigningKey(SIGNING_KEY);\n        return converter;\n    }\n}\n\n```\n\n- ResouceServerConfig（资源权限的相关配置）\n```JAVA\n@Configuration\n@EnableResourceServer\n@EnableGlobalMethodSecurity(securedEnabled = true, prePostEnabled = true)\npublic class ResouceServerConfig extends ResourceServerConfigurerAdapter {\n\n\n    //资源服务标识\n    public static final String RESOURCE_ID = \"starBlog\";\n\n    @Autowired\n    TokenStore tokenStore;\n\n    @Override\n    public void configure(ResourceServerSecurityConfigurer resources) {\n        resources.resourceId(RESOURCE_ID)//资源 id\n                .tokenStore(tokenStore)\n                .stateless(true);\n    }\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http.csrf()\n                .disable()\n                .authorizeRequests()\n                .antMatchers( \"/**\").authenticated()//所有/r/**的请求必须认证通过\n                .anyRequest().permitAll()\n        ;\n    }\n\n}\n```\n\n- 这样资源服务就搭建好了，我们访问资源\n\n![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e8d6f8c7a3704bfaa38e9523ae869698~tplv-k3u1fbpfcp-watermark.image?)\n\n- 在资源服务的方法上添加`@PreAuthorize(\"hasAuthority('test')\")`可以指定拥有某项权限的用户才可以访问\n\n\n\n> 这样一个简单的spring-cloud-starter-oauth2+securit+jwt微服务就搭建完成了\n\n","slug":"spring-cloud-starter-oauth2-securit-jwt微服务实战","published":1,"updated":"2023-12-06T02:57:32.125Z","_id":"clprymdkp0003h4pkajfkdh16","layout":"post","photos":[],"link":"","content":"<h3 id=\"spring-cloud-starter-oauth2-securit简介\"><a href=\"#spring-cloud-starter-oauth2-securit简介\" class=\"headerlink\" title=\"spring-cloud-starter-oauth2+securit简介\"></a>spring-cloud-starter-oauth2+securit简介</h3><h5 id=\"认证\"><a href=\"#认证\" class=\"headerlink\" title=\"认证\"></a>认证</h5><ul>\n<li>用户认证就是判断一个用户的身份是否合法的过程，用户去访问系统资源时系统要求验证用户的身份信 息，身份合法方可继续访问，不合法则拒绝访问。常见的用户身份认证方式有：用户名密码登录，二维 码登录，手机短信登录，指纹认证等方式。</li>\n</ul>\n<p><code>认证是为了保护系统的隐私数据与资源，用户的身份合法方可访问该系统的资源。</code></p>\n<h4 id=\"授权\"><a href=\"#授权\" class=\"headerlink\" title=\"授权\"></a>授权</h4><ul>\n<li>授权是用户认证通过后，根据用户的权限来控制用户访问资源的过程，拥有资源的访问权限则正常访 问，没有权限则拒绝访问。</li>\n</ul>\n<p><code>认证是为了保证用户身份的合法性，授权则是为了更细粒度的对隐私数据进行划分，授权是在认证通过 后发生的， 控制不同的用户能够访问不同的资源。</code></p>\n<h4 id=\"RBAC模型\"><a href=\"#RBAC模型\" class=\"headerlink\" title=\"RBAC模型\"></a>RBAC模型</h4><p><code>主体 -》 角色 -》 资源 -》行为</code></p>\n<p><img src=\"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f2606eb94497441fb84648424a748d5e~tplv-k3u1fbpfcp-watermark.image\" alt=\"image.png\"></p>\n<h3 id=\"spring-cloud-starter-oauth2-security使用\"><a href=\"#spring-cloud-starter-oauth2-security使用\" class=\"headerlink\" title=\"spring-cloud-starter-oauth2+security使用\"></a>spring-cloud-starter-oauth2+security使用</h3><h4 id=\"相关依赖引入\"><a href=\"#相关依赖引入\" class=\"headerlink\" title=\"相关依赖引入\"></a>相关依赖引入</h4><ul>\n<li>spring-cloud-starter-oauth2+security是一套完整的用户登录授权系统，在认证服务上主要有三个依赖：<code>spring-cloud-starter-security、spring-cloud-starter-oauth2、spring-security-jwt</code><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">&lt;!--spring security相关依赖--&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.cloud<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-cloud-starter-security<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.cloud<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-cloud-starter-oauth2<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.security<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-security-jwt<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.1.1.RELEASE<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n<li>在其他需要权限访问的服务上主要包含两个依赖：</li>\n</ul>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--spring security相关依赖--&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.cloud<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-cloud-starter-security<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.cloud<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-cloud-starter-oauth2<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"认证服务搭建\"><a href=\"#认证服务搭建\" class=\"headerlink\" title=\"认证服务搭建\"></a>认证服务搭建</h4><ul>\n<li>这里主要做security和oauth2的相关配置</li>\n<li>主要由以下四个配置文件</li>\n</ul>\n<p><img src=\"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/64fdb305f8934f128f141085735d9945~tplv-k3u1fbpfcp-watermark.image\" alt=\"image.png\"></p>\n<ul>\n<li>WebSecurityConfig主要做springsecurity相关的配置<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@EnableWebSecurity</span> <span class=\"comment\">//开启security服务</span></span><br><span class=\"line\"><span class=\"meta\">@EnableGlobalMethodSecurity(securedEnabled = true, prePostEnabled = true)</span> <span class=\"comment\">//允许在方法上加的注解来配置权限</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">WebSecurityConfig</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">WebSecurityConfigurerAdapter</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    DaoAuthenticationProviderCustom daoAuthenticationProviderCustom;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//使用自己定义DaoAuthenticationProviderCustom来代替框架的DaoAuthenticationProvider</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title function_\">configure</span><span class=\"params\">(AuthenticationManagerBuilder auth)</span> <span class=\"keyword\">throws</span> Exception &#123;</span><br><span class=\"line\">        auth.authenticationProvider(daoAuthenticationProviderCustom);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Bean</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> AuthenticationManager <span class=\"title function_\">authenticationManagerBean</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> Exception &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">super</span>.authenticationManagerBean();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Bean</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> PasswordEncoder <span class=\"title function_\">passwordEncoder</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//密码为明文方式</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> NoOpPasswordEncoder.getInstance();</span><br><span class=\"line\">        <span class=\"comment\">//return new BCryptPasswordEncoder();</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//配置安全拦截机制</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title function_\">configure</span><span class=\"params\">(HttpSecurity http)</span> <span class=\"keyword\">throws</span> Exception &#123;</span><br><span class=\"line\">        http</span><br><span class=\"line\">                .authorizeRequests()</span><br><span class=\"line\">                .antMatchers(<span class=\"string\">&quot;/pow/**&quot;</span>).authenticated()<span class=\"comment\">//访问/r开始的请求需要认证通过</span></span><br><span class=\"line\">                .anyRequest().permitAll()<span class=\"comment\">//其它请求全部放行</span></span><br><span class=\"line\">                .and()</span><br><span class=\"line\">                .formLogin().successForwardUrl(<span class=\"string\">&quot;/login-success&quot;</span>);<span class=\"comment\">//登录成功跳转到/login-success</span></span><br><span class=\"line\">        http.logout().logoutUrl(<span class=\"string\">&quot;/logout&quot;</span>);<span class=\"comment\">//退出地址</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n<li>TokenConfig在认证服务中主要作token的生成配置</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Configuration</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">TokenConfig</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">String</span> <span class=\"variable\">SIGNING_KEY</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;030321liuxinyu&quot;</span>;<span class=\"comment\">//和其他服务一致来解析token</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    TokenStore tokenStore;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//    @Bean</span></span><br><span class=\"line\"><span class=\"comment\">//    public TokenStore tokenStore() &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//        //使用内存存储令牌（普通令牌）</span></span><br><span class=\"line\"><span class=\"comment\">//        return new InMemoryTokenStore();</span></span><br><span class=\"line\"><span class=\"comment\">//    &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> JwtAccessTokenConverter accessTokenConverter;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Bean</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> TokenStore <span class=\"title function_\">tokenStore</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">JwtTokenStore</span>(accessTokenConverter());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Bean</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> JwtAccessTokenConverter <span class=\"title function_\">accessTokenConverter</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">JwtAccessTokenConverter</span> <span class=\"variable\">converter</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">JwtAccessTokenConverter</span>();</span><br><span class=\"line\">        converter.setSigningKey(SIGNING_KEY);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> converter;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//令牌管理服务</span></span><br><span class=\"line\">    <span class=\"meta\">@Bean(name=&quot;authorizationServerTokenServicesCustom&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> AuthorizationServerTokenServices <span class=\"title function_\">tokenService</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        DefaultTokenServices service=<span class=\"keyword\">new</span> <span class=\"title class_\">DefaultTokenServices</span>();</span><br><span class=\"line\">        service.setSupportRefreshToken(<span class=\"literal\">true</span>);<span class=\"comment\">//支持刷新令牌</span></span><br><span class=\"line\">        service.setTokenStore(tokenStore);<span class=\"comment\">//令牌存储策略</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">TokenEnhancerChain</span> <span class=\"variable\">tokenEnhancerChain</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">TokenEnhancerChain</span>();</span><br><span class=\"line\">        tokenEnhancerChain.setTokenEnhancers(Arrays.asList(accessTokenConverter));</span><br><span class=\"line\">        service.setTokenEnhancer(tokenEnhancerChain);</span><br><span class=\"line\"></span><br><span class=\"line\">        service.setAccessTokenValiditySeconds(<span class=\"number\">7200</span>); <span class=\"comment\">// 令牌默认有效期2小时</span></span><br><span class=\"line\">        service.setRefreshTokenValiditySeconds(<span class=\"number\">259200</span>); <span class=\"comment\">// 刷新令牌默认有效期3天</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> service;</span><br><span class=\"line\">    &#125;&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>AuthorizationServer主要是授权方面也就是spring-cloud-starter-oauth2相关的配置</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Configuration</span></span><br><span class=\"line\"><span class=\"meta\">@EnableAuthorizationServer</span></span><br><span class=\"line\"><span class=\"meta\">@Slf4j</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">AuthorizationServer</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">AuthorizationServerConfigurerAdapter</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Resource(name = &quot;authorizationServerTokenServicesCustom&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> AuthorizationServerTokenServices authorizationServerTokenServices;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> AuthenticationManager authenticationManager;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//客户端详情服务</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">configure</span><span class=\"params\">(ClientDetailsServiceConfigurer clients)</span></span><br><span class=\"line\">            <span class=\"keyword\">throws</span> Exception &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        clients.inMemory()<span class=\"comment\">// 使用in-memory存储</span></span><br><span class=\"line\">                .withClient(<span class=\"string\">&quot;starBlog&quot;</span>)<span class=\"comment\">// client_id</span></span><br><span class=\"line\">                .secret(<span class=\"string\">&quot;030321liuxinyu&quot;</span>)<span class=\"comment\">//客户端密钥</span></span><br><span class=\"line\"><span class=\"comment\">//                .secret(new BCryptPasswordEncoder().encode(&quot;XcWebApp&quot;))//客户端密钥</span></span><br><span class=\"line\">                .resourceIds(<span class=\"string\">&quot;starBlog&quot;</span>)<span class=\"comment\">//资源列表</span></span><br><span class=\"line\"></span><br><span class=\"line\">                .authorizedGrantTypes(<span class=\"string\">&quot;authorization_code&quot;</span>, <span class=\"string\">&quot;client_credentials&quot;</span>, <span class=\"string\">&quot;implicit&quot;</span>, <span class=\"string\">&quot;refresh_token&quot;</span>, <span class=\"string\">&quot;password&quot;</span>)<span class=\"comment\">// 该client允许的授权类型authorization_code,password,refresh_token,implicit,client_credentials</span></span><br><span class=\"line\">                .scopes(<span class=\"string\">&quot;all&quot;</span>)<span class=\"comment\">// 允许的授权范围</span></span><br><span class=\"line\">                .autoApprove(<span class=\"literal\">false</span>)<span class=\"comment\">//false跳转到授权页面</span></span><br><span class=\"line\">                <span class=\"comment\">//客户端接收授权码的重定向地址</span></span><br><span class=\"line\">                .redirectUris(<span class=\"string\">&quot;http://www.xuecheng-plus.com&quot;</span>)</span><br><span class=\"line\">        ;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//令牌端点的访问配置</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">configure</span><span class=\"params\">(AuthorizationServerEndpointsConfigurer endpoints)</span> &#123;</span><br><span class=\"line\">        endpoints</span><br><span class=\"line\">                .authenticationManager(authenticationManager)<span class=\"comment\">//认证管理器</span></span><br><span class=\"line\">                .tokenServices(authorizationServerTokenServices)<span class=\"comment\">//令牌管理服务</span></span><br><span class=\"line\">                .allowedTokenEndpointRequestMethods(HttpMethod.POST);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//令牌端点的安全配置</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">configure</span><span class=\"params\">(AuthorizationServerSecurityConfigurer security)</span> &#123;</span><br><span class=\"line\">        security</span><br><span class=\"line\">                .tokenKeyAccess(<span class=\"string\">&quot;permitAll()&quot;</span>)                    <span class=\"comment\">//oauth/token_key是公开</span></span><br><span class=\"line\">                .checkTokenAccess(<span class=\"string\">&quot;permitAll()&quot;</span>)                  <span class=\"comment\">//oauth/check_token公开</span></span><br><span class=\"line\">                .allowFormAuthenticationForClients()                <span class=\"comment\">//表单认证（申请令牌）</span></span><br><span class=\"line\">        ;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>DaoAuthenticationProviderCustom是一个很重要的配置，通过这个修改的springsecuritu原先提供的登录方案（账号密码登录），但当前环境肯定涉及到多种登录方式，我们通过重写<code>additionalAuthenticationChecks和setUserDetailsService</code>方法来自定义登录方式</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Slf4j</span></span><br><span class=\"line\"><span class=\"meta\">@Component</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">DaoAuthenticationProviderCustom</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">DaoAuthenticationProvider</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"meta\">@Autowired</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setUserDetailsService</span><span class=\"params\">(UserDetailsService userDetailsService)</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">super</span>.setUserDetailsService(userDetailsService);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"comment\">//不再校验密码</span></span><br><span class=\"line\"> <span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title function_\">additionalAuthenticationChecks</span><span class=\"params\">(UserDetails userDetails, UsernamePasswordAuthenticationToken authentication)</span> <span class=\"keyword\">throws</span> AuthenticationException &#123;</span><br><span class=\"line\"></span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>至此认证服务的相关配置就完成啦，我们可以通过<code>POST localhost:8081/oauth/token?client_id=starBlog&amp;client_secret=030321liuxinyu&amp;grant_type=password&amp;username=&#123;&quot;account&quot;:&quot;账号&quot;,&quot;authType&quot;:&quot;登录方式&quot;,&quot;password&quot;:&quot;密码&quot;&#125;</code>来进行测试</li>\n</ul>\n<p><img src=\"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cf8661a32e914bee9e24ed8e7105e399~tplv-k3u1fbpfcp-watermark.image\" alt=\"image.png\"></p>\n<p>这就是前端用户点击登录后获得的信息，然后将该token存储在本地，用户每次访问的时候都携带token即可，</p>\n<ul>\n<li>oauth也提供了校验token的方法<code>POST localhost:8081/oauth/check_token?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsieHVlY2hlbmctcGx1cyJdLCJ1c2VyX25hbWUiOiJ7XCJpZFwiOjE2MTY1MTYxNjUsXCJwaG9uZVwiOlwiMTM2NDg4MzcwOTNcIixcIkVtYWlsXCI6XCIyMDY0OTg5NDAzQHFxLmNvbVwiLFwiYWNjb3VudFwiOlwiMjA2NDk4OTQwM1wifSIsInNjb3BlIjpbImFsbCJdLCJleHAiOjE2NzUyNTI3MjIsImF1dGhvcml0aWVzIjpbInRlc3QiXSwianRpIjoiMDU1MjBlOTYtMTVhOS00MjAzLWExMWItNjRjZTNhNDQ5ZTM4IiwiY2xpZW50X2lkIjoic3RhckJsb2cifQ.I6wM4jZJdSA07gTnzmlP59vzqvm1hxNcNt3ejE0mR8w</code></li>\n</ul>\n<p><img src=\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2343a98e4ad64ee3a756ae144869cc7a~tplv-k3u1fbpfcp-watermark.image\" alt=\"image.png\"></p>\n<h4 id=\"资源服务搭建\"><a href=\"#资源服务搭建\" class=\"headerlink\" title=\"资源服务搭建\"></a>资源服务搭建</h4><ul>\n<li>引入配置文件，相比于认证服务，资源服务的配置量少很多，主要有以下两个配置文件</li>\n</ul>\n<p><img src=\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/27ad3d5c189a4243beae77449c746b46~tplv-k3u1fbpfcp-watermark.image\" alt=\"image.png\"></p>\n<ul>\n<li>TokenConfig(和认证服务的类似，但不需要token生成)</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Configuration</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">TokenConfig</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"type\">String</span> <span class=\"variable\">SIGNING_KEY</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;key&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> JwtAccessTokenConverter accessTokenConverter;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Bean</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> TokenStore <span class=\"title function_\">tokenStore</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">JwtTokenStore</span>(accessTokenConverter());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Bean</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> JwtAccessTokenConverter <span class=\"title function_\">accessTokenConverter</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">JwtAccessTokenConverter</span> <span class=\"variable\">converter</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">JwtAccessTokenConverter</span>();</span><br><span class=\"line\">        converter.setSigningKey(SIGNING_KEY);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> converter;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p>ResouceServerConfig（资源权限的相关配置）</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Configuration</span></span><br><span class=\"line\"><span class=\"meta\">@EnableResourceServer</span></span><br><span class=\"line\"><span class=\"meta\">@EnableGlobalMethodSecurity(securedEnabled = true, prePostEnabled = true)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ResouceServerConfig</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">ResourceServerConfigurerAdapter</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//资源服务标识</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">String</span> <span class=\"variable\">RESOURCE_ID</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;starBlog&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    TokenStore tokenStore;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">configure</span><span class=\"params\">(ResourceServerSecurityConfigurer resources)</span> &#123;</span><br><span class=\"line\">        resources.resourceId(RESOURCE_ID)<span class=\"comment\">//资源 id</span></span><br><span class=\"line\">                .tokenStore(tokenStore)</span><br><span class=\"line\">                .stateless(<span class=\"literal\">true</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">configure</span><span class=\"params\">(HttpSecurity http)</span> <span class=\"keyword\">throws</span> Exception &#123;</span><br><span class=\"line\">        http.csrf()</span><br><span class=\"line\">                .disable()</span><br><span class=\"line\">                .authorizeRequests()</span><br><span class=\"line\">                .antMatchers( <span class=\"string\">&quot;/**&quot;</span>).authenticated()<span class=\"comment\">//所有/r/**的请求必须认证通过</span></span><br><span class=\"line\">                .anyRequest().permitAll()</span><br><span class=\"line\">        ;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>这样资源服务就搭建好了，我们访问资源</p>\n</li>\n</ul>\n<p><img src=\"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e8d6f8c7a3704bfaa38e9523ae869698~tplv-k3u1fbpfcp-watermark.image\" alt=\"image.png\"></p>\n<ul>\n<li>在资源服务的方法上添加<code>@PreAuthorize(&quot;hasAuthority(&#39;test&#39;)&quot;)</code>可以指定拥有某项权限的用户才可以访问</li>\n</ul>\n<blockquote>\n<p>这样一个简单的spring-cloud-starter-oauth2+securit+jwt微服务就搭建完成了</p>\n</blockquote>\n","site":{"data":{"about":[{"class_name":"关于页","subtitle":"多一点努力，努力多一点✨","avatarImg":"https://avatars.githubusercontent.com/u/106024593?v=4","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱"]},"name":"xingxing","description":"是一名 后端工程师、学生、独立开发者","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"YNU,计算机科学与技术","color":"#357ef5"}]},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，昆明市","background":"/img/location.png","backgroundDark":"/img/locationDark.png"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2003,"selfInfoTips2":"云南大学","selfInfoContent2":"计算机科学与技术","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"xingxing的日常。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"/img/beautifulImg.jpg","essay_list":[{"content":"发现一个免费拿图的网站诶，还是bing好用，垃圾百度！但是好像要翻墙才可以下载原图，不过可以直接复制图片地址，然后用迅雷下载，也是可以的（图片大小翻五倍）。","date":"2023/11/31","image":["/img/essayImg/pixabay.png"],"link":"https://pixabay.com/zh/"},{"content":"寒假实习求职顺利（求神拜佛）","date":"2023/12/2"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}],"bangumis":{"wantWatch":[{"title":"百妖谱 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/5424062d0821f89ea549533d8a2c3cfff2076766.png","totalCount":"全12话","id":28230717,"follow":"527.1 万","view":"1.2 亿","danmaku":"47.2 万","coin":"42.5 万","score":9.2,"des":"桃都的灵医桃夭带着小和尚磨牙、第一季收服的小狐妖、桃都老邻居柳公子一起继续第一季的故事，为了寻找失踪的百妖谱而云游四方，在途中遇到应声、化蛇、媪姬、照海四个妖怪，为妖怪治疗各种疑难杂症。..."},{"title":"伍六七之玄武国篇","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/00843865ea13702eccc4efd64c313fd4c8029c6b.jpg","totalCount":"全10话","id":28232253,"follow":"1031.1 万","view":"4.7 亿","danmaku":"186.3 万","coin":"405.6 万","score":9.8,"des":"为了保护小鸡岛居民和这里平静的生活，伍六七和他的伙伴大保和小飞开启了去往玄武国的冒险旅程，去寻找身世的真相和解救小岛的办法，等待他们的又将是更多的未知与奇遇。..."},{"title":"伍六七之暗影宿命","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/6e5c5848ff8943fd6366e943a4f75b98598c50c6.png","totalCount":"全10话","id":28412536,"follow":"1250.4 万","view":"5.1 亿","danmaku":"110.7 万","coin":"410.9 万","score":9.2,"des":"随着伍六七回到玄武国寻找他的身世，亦引起了七大暗影刺客的追捕。然而每一位暗影刺客都带着不同的目的和不同的过去，青凤的阴谋也在此浮出了水面。而此时等待着小鸡岛上的人民，又将是另一个危机，伍六七将如何面对..."}],"watching":[{"title":"灵笼 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cf5f6595ece017215e7d61482f022094479dff37.png","totalCount":"-","id":21123554,"follow":"910.5 万","view":"1586.9 万","danmaku":"7.0 万","coin":"35.1 万","score":"-","des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."},{"title":"灵笼","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cfab7e0fbdb4786ff4e885d050b7cf37f8829486.png","totalCount":"全16话","id":23432,"follow":"903.9 万","view":"6.1 亿","danmaku":"674.4 万","coin":"677.7 万","score":9.6,"des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."}],"watched":[{"title":"时光代理人","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/1fe1cd0ec59b790fea83a5726cdc0fa3189c4394.png","totalCount":"全24话","id":28230742,"follow":"879.2 万","view":"5.0 亿","danmaku":"399.9 万","coin":"418.4 万","score":9.7,"des":"为了找到一系列罪案的操纵者，程小时求助于肖力，找寻一切藏匿于暗中的蛛丝马迹。但是拥有未知超能力的凶手在阴影之中，也从没有停止过阴谋的脚步。神秘能力者如影随形，身边伙伴接连遇害，程小时屡次身陷险境。随着..."},{"title":"元龙 第三季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/b3a9b5975059e074593b9381322ad8c423be7b89.png","totalCount":"全16话","id":28235400,"follow":"620.5 万","view":"1.5 亿","danmaku":"24.0 万","coin":"10.7 万","score":6.8,"des":"王胜于现代世界醒来，一切是如此真实而又如梦似幻。皇城遗女，戴家少主的出现更让局势扑朔迷离。而一场由小搏大的赌局，也让王胜渐渐意识到这不仅仅是他和戴家少主两个人的较量。恰时逢盛宴，天下汇集，王胜不得不再..."},{"title":"三体","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/9870f898b8a39bbb8048f34317f8d78a02cc1770.png","totalCount":"全15话","id":4315402,"follow":"690.6 万","view":"6.2 亿","danmaku":"179.3 万","coin":"230.7 万","score":8.2,"des":"无数细线横亘在星空之中，如同一把巨大的刷子。三体星舰队将于400年后抵达。遥远蝴蝶扇动着翅膀，也改变了罗辑的命运，轰然打开的门后是世界中心——面壁计划开启。同时，智子所创建的破壁室内，破壁人一一就位…..."},{"title":"狐妖小红娘","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/cbb20ee03e97a9f3ad2e1506a10fd1271f1c584a.jpg","totalCount":"全100话","id":2543,"follow":"691.5 万","view":"8.7 亿","danmaku":"1052.9 万","coin":"259.8 万","score":9.5,"des":"根据古典小说记载，世上有人有妖，妖会与人相恋，妖寿命千年，人的寿命有限，人死了，妖活着。人会投胎转世，但投胎以后不记得上辈子的爱。妖如果痴情的话，就去找狐妖“购买”一项服务，让投胎转世的人回忆起前世的..."}]}}},"cover_type":"img","excerpt":"","more":"<h3 id=\"spring-cloud-starter-oauth2-securit简介\"><a href=\"#spring-cloud-starter-oauth2-securit简介\" class=\"headerlink\" title=\"spring-cloud-starter-oauth2+securit简介\"></a>spring-cloud-starter-oauth2+securit简介</h3><h5 id=\"认证\"><a href=\"#认证\" class=\"headerlink\" title=\"认证\"></a>认证</h5><ul>\n<li>用户认证就是判断一个用户的身份是否合法的过程，用户去访问系统资源时系统要求验证用户的身份信 息，身份合法方可继续访问，不合法则拒绝访问。常见的用户身份认证方式有：用户名密码登录，二维 码登录，手机短信登录，指纹认证等方式。</li>\n</ul>\n<p><code>认证是为了保护系统的隐私数据与资源，用户的身份合法方可访问该系统的资源。</code></p>\n<h4 id=\"授权\"><a href=\"#授权\" class=\"headerlink\" title=\"授权\"></a>授权</h4><ul>\n<li>授权是用户认证通过后，根据用户的权限来控制用户访问资源的过程，拥有资源的访问权限则正常访 问，没有权限则拒绝访问。</li>\n</ul>\n<p><code>认证是为了保证用户身份的合法性，授权则是为了更细粒度的对隐私数据进行划分，授权是在认证通过 后发生的， 控制不同的用户能够访问不同的资源。</code></p>\n<h4 id=\"RBAC模型\"><a href=\"#RBAC模型\" class=\"headerlink\" title=\"RBAC模型\"></a>RBAC模型</h4><p><code>主体 -》 角色 -》 资源 -》行为</code></p>\n<p><img src=\"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f2606eb94497441fb84648424a748d5e~tplv-k3u1fbpfcp-watermark.image\" alt=\"image.png\"></p>\n<h3 id=\"spring-cloud-starter-oauth2-security使用\"><a href=\"#spring-cloud-starter-oauth2-security使用\" class=\"headerlink\" title=\"spring-cloud-starter-oauth2+security使用\"></a>spring-cloud-starter-oauth2+security使用</h3><h4 id=\"相关依赖引入\"><a href=\"#相关依赖引入\" class=\"headerlink\" title=\"相关依赖引入\"></a>相关依赖引入</h4><ul>\n<li>spring-cloud-starter-oauth2+security是一套完整的用户登录授权系统，在认证服务上主要有三个依赖：<code>spring-cloud-starter-security、spring-cloud-starter-oauth2、spring-security-jwt</code><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">&lt;!--spring security相关依赖--&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.cloud<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-cloud-starter-security<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.cloud<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-cloud-starter-oauth2<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.security<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-security-jwt<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.1.1.RELEASE<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n<li>在其他需要权限访问的服务上主要包含两个依赖：</li>\n</ul>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--spring security相关依赖--&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.cloud<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-cloud-starter-security<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.cloud<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-cloud-starter-oauth2<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"认证服务搭建\"><a href=\"#认证服务搭建\" class=\"headerlink\" title=\"认证服务搭建\"></a>认证服务搭建</h4><ul>\n<li>这里主要做security和oauth2的相关配置</li>\n<li>主要由以下四个配置文件</li>\n</ul>\n<p><img src=\"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/64fdb305f8934f128f141085735d9945~tplv-k3u1fbpfcp-watermark.image\" alt=\"image.png\"></p>\n<ul>\n<li>WebSecurityConfig主要做springsecurity相关的配置<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@EnableWebSecurity</span> <span class=\"comment\">//开启security服务</span></span><br><span class=\"line\"><span class=\"meta\">@EnableGlobalMethodSecurity(securedEnabled = true, prePostEnabled = true)</span> <span class=\"comment\">//允许在方法上加的注解来配置权限</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">WebSecurityConfig</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">WebSecurityConfigurerAdapter</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    DaoAuthenticationProviderCustom daoAuthenticationProviderCustom;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//使用自己定义DaoAuthenticationProviderCustom来代替框架的DaoAuthenticationProvider</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title function_\">configure</span><span class=\"params\">(AuthenticationManagerBuilder auth)</span> <span class=\"keyword\">throws</span> Exception &#123;</span><br><span class=\"line\">        auth.authenticationProvider(daoAuthenticationProviderCustom);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Bean</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> AuthenticationManager <span class=\"title function_\">authenticationManagerBean</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> Exception &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">super</span>.authenticationManagerBean();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Bean</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> PasswordEncoder <span class=\"title function_\">passwordEncoder</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//密码为明文方式</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> NoOpPasswordEncoder.getInstance();</span><br><span class=\"line\">        <span class=\"comment\">//return new BCryptPasswordEncoder();</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//配置安全拦截机制</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title function_\">configure</span><span class=\"params\">(HttpSecurity http)</span> <span class=\"keyword\">throws</span> Exception &#123;</span><br><span class=\"line\">        http</span><br><span class=\"line\">                .authorizeRequests()</span><br><span class=\"line\">                .antMatchers(<span class=\"string\">&quot;/pow/**&quot;</span>).authenticated()<span class=\"comment\">//访问/r开始的请求需要认证通过</span></span><br><span class=\"line\">                .anyRequest().permitAll()<span class=\"comment\">//其它请求全部放行</span></span><br><span class=\"line\">                .and()</span><br><span class=\"line\">                .formLogin().successForwardUrl(<span class=\"string\">&quot;/login-success&quot;</span>);<span class=\"comment\">//登录成功跳转到/login-success</span></span><br><span class=\"line\">        http.logout().logoutUrl(<span class=\"string\">&quot;/logout&quot;</span>);<span class=\"comment\">//退出地址</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n<li>TokenConfig在认证服务中主要作token的生成配置</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Configuration</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">TokenConfig</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">String</span> <span class=\"variable\">SIGNING_KEY</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;030321liuxinyu&quot;</span>;<span class=\"comment\">//和其他服务一致来解析token</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    TokenStore tokenStore;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//    @Bean</span></span><br><span class=\"line\"><span class=\"comment\">//    public TokenStore tokenStore() &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//        //使用内存存储令牌（普通令牌）</span></span><br><span class=\"line\"><span class=\"comment\">//        return new InMemoryTokenStore();</span></span><br><span class=\"line\"><span class=\"comment\">//    &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> JwtAccessTokenConverter accessTokenConverter;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Bean</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> TokenStore <span class=\"title function_\">tokenStore</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">JwtTokenStore</span>(accessTokenConverter());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Bean</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> JwtAccessTokenConverter <span class=\"title function_\">accessTokenConverter</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">JwtAccessTokenConverter</span> <span class=\"variable\">converter</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">JwtAccessTokenConverter</span>();</span><br><span class=\"line\">        converter.setSigningKey(SIGNING_KEY);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> converter;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//令牌管理服务</span></span><br><span class=\"line\">    <span class=\"meta\">@Bean(name=&quot;authorizationServerTokenServicesCustom&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> AuthorizationServerTokenServices <span class=\"title function_\">tokenService</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        DefaultTokenServices service=<span class=\"keyword\">new</span> <span class=\"title class_\">DefaultTokenServices</span>();</span><br><span class=\"line\">        service.setSupportRefreshToken(<span class=\"literal\">true</span>);<span class=\"comment\">//支持刷新令牌</span></span><br><span class=\"line\">        service.setTokenStore(tokenStore);<span class=\"comment\">//令牌存储策略</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">TokenEnhancerChain</span> <span class=\"variable\">tokenEnhancerChain</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">TokenEnhancerChain</span>();</span><br><span class=\"line\">        tokenEnhancerChain.setTokenEnhancers(Arrays.asList(accessTokenConverter));</span><br><span class=\"line\">        service.setTokenEnhancer(tokenEnhancerChain);</span><br><span class=\"line\"></span><br><span class=\"line\">        service.setAccessTokenValiditySeconds(<span class=\"number\">7200</span>); <span class=\"comment\">// 令牌默认有效期2小时</span></span><br><span class=\"line\">        service.setRefreshTokenValiditySeconds(<span class=\"number\">259200</span>); <span class=\"comment\">// 刷新令牌默认有效期3天</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> service;</span><br><span class=\"line\">    &#125;&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>AuthorizationServer主要是授权方面也就是spring-cloud-starter-oauth2相关的配置</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Configuration</span></span><br><span class=\"line\"><span class=\"meta\">@EnableAuthorizationServer</span></span><br><span class=\"line\"><span class=\"meta\">@Slf4j</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">AuthorizationServer</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">AuthorizationServerConfigurerAdapter</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Resource(name = &quot;authorizationServerTokenServicesCustom&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> AuthorizationServerTokenServices authorizationServerTokenServices;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> AuthenticationManager authenticationManager;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//客户端详情服务</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">configure</span><span class=\"params\">(ClientDetailsServiceConfigurer clients)</span></span><br><span class=\"line\">            <span class=\"keyword\">throws</span> Exception &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        clients.inMemory()<span class=\"comment\">// 使用in-memory存储</span></span><br><span class=\"line\">                .withClient(<span class=\"string\">&quot;starBlog&quot;</span>)<span class=\"comment\">// client_id</span></span><br><span class=\"line\">                .secret(<span class=\"string\">&quot;030321liuxinyu&quot;</span>)<span class=\"comment\">//客户端密钥</span></span><br><span class=\"line\"><span class=\"comment\">//                .secret(new BCryptPasswordEncoder().encode(&quot;XcWebApp&quot;))//客户端密钥</span></span><br><span class=\"line\">                .resourceIds(<span class=\"string\">&quot;starBlog&quot;</span>)<span class=\"comment\">//资源列表</span></span><br><span class=\"line\"></span><br><span class=\"line\">                .authorizedGrantTypes(<span class=\"string\">&quot;authorization_code&quot;</span>, <span class=\"string\">&quot;client_credentials&quot;</span>, <span class=\"string\">&quot;implicit&quot;</span>, <span class=\"string\">&quot;refresh_token&quot;</span>, <span class=\"string\">&quot;password&quot;</span>)<span class=\"comment\">// 该client允许的授权类型authorization_code,password,refresh_token,implicit,client_credentials</span></span><br><span class=\"line\">                .scopes(<span class=\"string\">&quot;all&quot;</span>)<span class=\"comment\">// 允许的授权范围</span></span><br><span class=\"line\">                .autoApprove(<span class=\"literal\">false</span>)<span class=\"comment\">//false跳转到授权页面</span></span><br><span class=\"line\">                <span class=\"comment\">//客户端接收授权码的重定向地址</span></span><br><span class=\"line\">                .redirectUris(<span class=\"string\">&quot;http://www.xuecheng-plus.com&quot;</span>)</span><br><span class=\"line\">        ;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//令牌端点的访问配置</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">configure</span><span class=\"params\">(AuthorizationServerEndpointsConfigurer endpoints)</span> &#123;</span><br><span class=\"line\">        endpoints</span><br><span class=\"line\">                .authenticationManager(authenticationManager)<span class=\"comment\">//认证管理器</span></span><br><span class=\"line\">                .tokenServices(authorizationServerTokenServices)<span class=\"comment\">//令牌管理服务</span></span><br><span class=\"line\">                .allowedTokenEndpointRequestMethods(HttpMethod.POST);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//令牌端点的安全配置</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">configure</span><span class=\"params\">(AuthorizationServerSecurityConfigurer security)</span> &#123;</span><br><span class=\"line\">        security</span><br><span class=\"line\">                .tokenKeyAccess(<span class=\"string\">&quot;permitAll()&quot;</span>)                    <span class=\"comment\">//oauth/token_key是公开</span></span><br><span class=\"line\">                .checkTokenAccess(<span class=\"string\">&quot;permitAll()&quot;</span>)                  <span class=\"comment\">//oauth/check_token公开</span></span><br><span class=\"line\">                .allowFormAuthenticationForClients()                <span class=\"comment\">//表单认证（申请令牌）</span></span><br><span class=\"line\">        ;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>DaoAuthenticationProviderCustom是一个很重要的配置，通过这个修改的springsecuritu原先提供的登录方案（账号密码登录），但当前环境肯定涉及到多种登录方式，我们通过重写<code>additionalAuthenticationChecks和setUserDetailsService</code>方法来自定义登录方式</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Slf4j</span></span><br><span class=\"line\"><span class=\"meta\">@Component</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">DaoAuthenticationProviderCustom</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">DaoAuthenticationProvider</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"meta\">@Autowired</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setUserDetailsService</span><span class=\"params\">(UserDetailsService userDetailsService)</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">super</span>.setUserDetailsService(userDetailsService);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"comment\">//不再校验密码</span></span><br><span class=\"line\"> <span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title function_\">additionalAuthenticationChecks</span><span class=\"params\">(UserDetails userDetails, UsernamePasswordAuthenticationToken authentication)</span> <span class=\"keyword\">throws</span> AuthenticationException &#123;</span><br><span class=\"line\"></span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>至此认证服务的相关配置就完成啦，我们可以通过<code>POST localhost:8081/oauth/token?client_id=starBlog&amp;client_secret=030321liuxinyu&amp;grant_type=password&amp;username=&#123;&quot;account&quot;:&quot;账号&quot;,&quot;authType&quot;:&quot;登录方式&quot;,&quot;password&quot;:&quot;密码&quot;&#125;</code>来进行测试</li>\n</ul>\n<p><img src=\"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cf8661a32e914bee9e24ed8e7105e399~tplv-k3u1fbpfcp-watermark.image\" alt=\"image.png\"></p>\n<p>这就是前端用户点击登录后获得的信息，然后将该token存储在本地，用户每次访问的时候都携带token即可，</p>\n<ul>\n<li>oauth也提供了校验token的方法<code>POST localhost:8081/oauth/check_token?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsieHVlY2hlbmctcGx1cyJdLCJ1c2VyX25hbWUiOiJ7XCJpZFwiOjE2MTY1MTYxNjUsXCJwaG9uZVwiOlwiMTM2NDg4MzcwOTNcIixcIkVtYWlsXCI6XCIyMDY0OTg5NDAzQHFxLmNvbVwiLFwiYWNjb3VudFwiOlwiMjA2NDk4OTQwM1wifSIsInNjb3BlIjpbImFsbCJdLCJleHAiOjE2NzUyNTI3MjIsImF1dGhvcml0aWVzIjpbInRlc3QiXSwianRpIjoiMDU1MjBlOTYtMTVhOS00MjAzLWExMWItNjRjZTNhNDQ5ZTM4IiwiY2xpZW50X2lkIjoic3RhckJsb2cifQ.I6wM4jZJdSA07gTnzmlP59vzqvm1hxNcNt3ejE0mR8w</code></li>\n</ul>\n<p><img src=\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2343a98e4ad64ee3a756ae144869cc7a~tplv-k3u1fbpfcp-watermark.image\" alt=\"image.png\"></p>\n<h4 id=\"资源服务搭建\"><a href=\"#资源服务搭建\" class=\"headerlink\" title=\"资源服务搭建\"></a>资源服务搭建</h4><ul>\n<li>引入配置文件，相比于认证服务，资源服务的配置量少很多，主要有以下两个配置文件</li>\n</ul>\n<p><img src=\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/27ad3d5c189a4243beae77449c746b46~tplv-k3u1fbpfcp-watermark.image\" alt=\"image.png\"></p>\n<ul>\n<li>TokenConfig(和认证服务的类似，但不需要token生成)</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Configuration</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">TokenConfig</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"type\">String</span> <span class=\"variable\">SIGNING_KEY</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;key&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> JwtAccessTokenConverter accessTokenConverter;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Bean</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> TokenStore <span class=\"title function_\">tokenStore</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">JwtTokenStore</span>(accessTokenConverter());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Bean</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> JwtAccessTokenConverter <span class=\"title function_\">accessTokenConverter</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">JwtAccessTokenConverter</span> <span class=\"variable\">converter</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">JwtAccessTokenConverter</span>();</span><br><span class=\"line\">        converter.setSigningKey(SIGNING_KEY);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> converter;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p>ResouceServerConfig（资源权限的相关配置）</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Configuration</span></span><br><span class=\"line\"><span class=\"meta\">@EnableResourceServer</span></span><br><span class=\"line\"><span class=\"meta\">@EnableGlobalMethodSecurity(securedEnabled = true, prePostEnabled = true)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ResouceServerConfig</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">ResourceServerConfigurerAdapter</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//资源服务标识</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">String</span> <span class=\"variable\">RESOURCE_ID</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;starBlog&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    TokenStore tokenStore;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">configure</span><span class=\"params\">(ResourceServerSecurityConfigurer resources)</span> &#123;</span><br><span class=\"line\">        resources.resourceId(RESOURCE_ID)<span class=\"comment\">//资源 id</span></span><br><span class=\"line\">                .tokenStore(tokenStore)</span><br><span class=\"line\">                .stateless(<span class=\"literal\">true</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">configure</span><span class=\"params\">(HttpSecurity http)</span> <span class=\"keyword\">throws</span> Exception &#123;</span><br><span class=\"line\">        http.csrf()</span><br><span class=\"line\">                .disable()</span><br><span class=\"line\">                .authorizeRequests()</span><br><span class=\"line\">                .antMatchers( <span class=\"string\">&quot;/**&quot;</span>).authenticated()<span class=\"comment\">//所有/r/**的请求必须认证通过</span></span><br><span class=\"line\">                .anyRequest().permitAll()</span><br><span class=\"line\">        ;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>这样资源服务就搭建好了，我们访问资源</p>\n</li>\n</ul>\n<p><img src=\"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e8d6f8c7a3704bfaa38e9523ae869698~tplv-k3u1fbpfcp-watermark.image\" alt=\"image.png\"></p>\n<ul>\n<li>在资源服务的方法上添加<code>@PreAuthorize(&quot;hasAuthority(&#39;test&#39;)&quot;)</code>可以指定拥有某项权限的用户才可以访问</li>\n</ul>\n<blockquote>\n<p>这样一个简单的spring-cloud-starter-oauth2+securit+jwt微服务就搭建完成了</p>\n</blockquote>\n"},{"title":"springcloud gateway初体验","keywords":"springcloud，gateway","description":"springcloud gateway","top_img":"/img/suanfa.png","comments":1,"cover":"/img/suanfa.png","copyright_author":"xingxing","copyright_author_href":"www.staraway.asia","copyright_info":"可转载哦","date":"2023-08-15T06:15:31.000Z","_content":"\n\n\n### 在springcloud alibaba中集成gateway\n##### 新建maven项目service-gateway并在pom文件中导入springcloud gateway依赖\n```XML\n      <!--gateway⽹关-->\n        <dependency>\n            <groupId>org.springframework.cloud</groupId>\n            <artifactId>spring-cloud-starter-gateway</artifactId>\n        </dependency>\n```\n##### 加入nacos服务发现依赖和nacos服务注册中心适配\n```xml\n  <dependency>\n            <groupId>com.alibaba.cloud</groupId>\n            <artifactId>spring-cloud-starter-alibaba-nacos-discovery</artifactId>\n        </dependency>\n\n```\n#### 在bootstrap.yml配置文件中进行相关配置\n```yaml\nserver:\n  port: 9000\nspring:\n  application:\n    name: service-gateway\n  cloud:\n    gateway:\n      discovery:\n        locator:\n          #让gateway可以发现nacos中的微服务\n          enabled: true\n    nacos:\n      discovery:\n        server-addr: localhost:8848\n```\n`至此便完成了gateway路由的自动装配，通过访问9000端口完成请求的分发了`\n\n#### 启动nacos\n\n\n![1](../images/springcloud-gateway初体验-1701757439810.png)\n\n#### 书写测试接口controller\n```JAVA\npackage com.example.servicecontent.controller;\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.cloud.context.config.annotation.RefreshScope;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n/**\n * @author star\n * @date 2023/1/28 12:05\n */\n@Slf4j\n@RestController\n@CrossOrigin\n@RequestMapping(\"/content\")\n@RefreshScope\npublic class testController {\n\n    @GetMapping(\"/777\")\n    public String post(){\n        return \"77777777777777777777777777777777777\";\n    }\n}\n\n```\n\n\n#### 启动果然报错\n\n![2](../images/springcloud-gateway初体验-1701757449291.png)\n\n`好在全网搜寻找到了解决方案`\n原来是我继承了common工程，导致加入springweb依赖导致的报错，删除依赖，重新启动\n\n![7](../images/springcloud-gateway初体验-1701757498800.png)\n\n#### 输入9000端口测试\n\n`再次报错`\n\n![8](../images/springcloud-gateway初体验-1701757506021.png)\n这下我发现了nacos的问题，springcloud gateway竟然在public分支里面，我的其他服务都在blog分支\n\n![9](../images/springcloud-gateway初体验-1701757512055.png)\n`修改bootstrap.yml文件后再次启动 -------successful`\n\n![10](../images/springcloud-gateway初体验-1701757517086.png)\n\n### springcloud gateway自定义配置详解\n\n`如果想要自定义路由加载的话会用到以下参数`\n\n- id，路由标识符，区别于其他 Route。\n- uri，路由指向的⽬的地 uri，即客户端请求最终被转发到的微服务。\n- order，⽤于多个 Route 之间的排序，数值越⼩排序越靠前，匹配优先级越⾼。\n- predicate，断⾔的作⽤是进⾏条件判断，只有断⾔都返回真，才会真正的执⾏路由。\n- filter，过滤器⽤于修改请求和响应信息。\n\n\n### 全网爆火的gateway执行流程图\n\n![11](../images/springcloud-gateway初体验-1701757523867.png)\n\n#### 其实还有一小部分gateway中的拦截器设置，俺觉得没啥必要不如去微服务中配就不过多阐述啦\n\n","source":"_posts/springcloud-gateway初体验.md","raw":"---\ntitle: springcloud gateway初体验\ntags:\n  - springcloud\n  - 后端\n  - gateway\ncategories: 后端\nkeywords: springcloud，gateway\ndescription: springcloud gateway\ntop_img: /img/suanfa.png\ncomments: true\ncover: /img/suanfa.png\ncopyright_author: xingxing\ncopyright_author_href: www.staraway.asia\ncopyright_info: 可转载哦\ndate: 2023-8-15 14:15:31\n---\n\n\n\n### 在springcloud alibaba中集成gateway\n##### 新建maven项目service-gateway并在pom文件中导入springcloud gateway依赖\n```XML\n      <!--gateway⽹关-->\n        <dependency>\n            <groupId>org.springframework.cloud</groupId>\n            <artifactId>spring-cloud-starter-gateway</artifactId>\n        </dependency>\n```\n##### 加入nacos服务发现依赖和nacos服务注册中心适配\n```xml\n  <dependency>\n            <groupId>com.alibaba.cloud</groupId>\n            <artifactId>spring-cloud-starter-alibaba-nacos-discovery</artifactId>\n        </dependency>\n\n```\n#### 在bootstrap.yml配置文件中进行相关配置\n```yaml\nserver:\n  port: 9000\nspring:\n  application:\n    name: service-gateway\n  cloud:\n    gateway:\n      discovery:\n        locator:\n          #让gateway可以发现nacos中的微服务\n          enabled: true\n    nacos:\n      discovery:\n        server-addr: localhost:8848\n```\n`至此便完成了gateway路由的自动装配，通过访问9000端口完成请求的分发了`\n\n#### 启动nacos\n\n\n![1](../images/springcloud-gateway初体验-1701757439810.png)\n\n#### 书写测试接口controller\n```JAVA\npackage com.example.servicecontent.controller;\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.cloud.context.config.annotation.RefreshScope;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n/**\n * @author star\n * @date 2023/1/28 12:05\n */\n@Slf4j\n@RestController\n@CrossOrigin\n@RequestMapping(\"/content\")\n@RefreshScope\npublic class testController {\n\n    @GetMapping(\"/777\")\n    public String post(){\n        return \"77777777777777777777777777777777777\";\n    }\n}\n\n```\n\n\n#### 启动果然报错\n\n![2](../images/springcloud-gateway初体验-1701757449291.png)\n\n`好在全网搜寻找到了解决方案`\n原来是我继承了common工程，导致加入springweb依赖导致的报错，删除依赖，重新启动\n\n![7](../images/springcloud-gateway初体验-1701757498800.png)\n\n#### 输入9000端口测试\n\n`再次报错`\n\n![8](../images/springcloud-gateway初体验-1701757506021.png)\n这下我发现了nacos的问题，springcloud gateway竟然在public分支里面，我的其他服务都在blog分支\n\n![9](../images/springcloud-gateway初体验-1701757512055.png)\n`修改bootstrap.yml文件后再次启动 -------successful`\n\n![10](../images/springcloud-gateway初体验-1701757517086.png)\n\n### springcloud gateway自定义配置详解\n\n`如果想要自定义路由加载的话会用到以下参数`\n\n- id，路由标识符，区别于其他 Route。\n- uri，路由指向的⽬的地 uri，即客户端请求最终被转发到的微服务。\n- order，⽤于多个 Route 之间的排序，数值越⼩排序越靠前，匹配优先级越⾼。\n- predicate，断⾔的作⽤是进⾏条件判断，只有断⾔都返回真，才会真正的执⾏路由。\n- filter，过滤器⽤于修改请求和响应信息。\n\n\n### 全网爆火的gateway执行流程图\n\n![11](../images/springcloud-gateway初体验-1701757523867.png)\n\n#### 其实还有一小部分gateway中的拦截器设置，俺觉得没啥必要不如去微服务中配就不过多阐述啦\n\n","slug":"springcloud-gateway初体验","published":1,"updated":"2023-12-06T02:57:32.271Z","_id":"clprymdky000jh4pk92rm1k9l","layout":"post","photos":[],"link":"","content":"<h3 id=\"在springcloud-alibaba中集成gateway\"><a href=\"#在springcloud-alibaba中集成gateway\" class=\"headerlink\" title=\"在springcloud alibaba中集成gateway\"></a>在springcloud alibaba中集成gateway</h3><h5 id=\"新建maven项目service-gateway并在pom文件中导入springcloud-gateway依赖\"><a href=\"#新建maven项目service-gateway并在pom文件中导入springcloud-gateway依赖\" class=\"headerlink\" title=\"新建maven项目service-gateway并在pom文件中导入springcloud gateway依赖\"></a>新建maven项目service-gateway并在pom文件中导入springcloud gateway依赖</h5><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--gateway⽹关--&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.cloud<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-cloud-starter-gateway<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"加入nacos服务发现依赖和nacos服务注册中心适配\"><a href=\"#加入nacos服务发现依赖和nacos服务注册中心适配\" class=\"headerlink\" title=\"加入nacos服务发现依赖和nacos服务注册中心适配\"></a>加入nacos服务发现依赖和nacos服务注册中心适配</h5><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.alibaba.cloud<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-cloud-starter-alibaba-nacos-discovery<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"在bootstrap-yml配置文件中进行相关配置\"><a href=\"#在bootstrap-yml配置文件中进行相关配置\" class=\"headerlink\" title=\"在bootstrap.yml配置文件中进行相关配置\"></a>在bootstrap.yml配置文件中进行相关配置</h4><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">  <span class=\"attr\">port:</span> <span class=\"number\">9000</span></span><br><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">application:</span></span><br><span class=\"line\">    <span class=\"attr\">name:</span> <span class=\"string\">service-gateway</span></span><br><span class=\"line\">  <span class=\"attr\">cloud:</span></span><br><span class=\"line\">    <span class=\"attr\">gateway:</span></span><br><span class=\"line\">      <span class=\"attr\">discovery:</span></span><br><span class=\"line\">        <span class=\"attr\">locator:</span></span><br><span class=\"line\">          <span class=\"comment\">#让gateway可以发现nacos中的微服务</span></span><br><span class=\"line\">          <span class=\"attr\">enabled:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">nacos:</span></span><br><span class=\"line\">      <span class=\"attr\">discovery:</span></span><br><span class=\"line\">        <span class=\"attr\">server-addr:</span> <span class=\"string\">localhost:8848</span></span><br></pre></td></tr></table></figure>\n<p><code>至此便完成了gateway路由的自动装配，通过访问9000端口完成请求的分发了</code></p>\n<h4 id=\"启动nacos\"><a href=\"#启动nacos\" class=\"headerlink\" title=\"启动nacos\"></a>启动nacos</h4><p><img src=\"/../images/springcloud-gateway%E5%88%9D%E4%BD%93%E9%AA%8C-1701757439810.png\" alt=\"1\"></p>\n<h4 id=\"书写测试接口controller\"><a href=\"#书写测试接口controller\" class=\"headerlink\" title=\"书写测试接口controller\"></a>书写测试接口controller</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> com.example.servicecontent.controller;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.cloud.context.config.annotation.RefreshScope;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.web.bind.annotation.CrossOrigin;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@author</span> star</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@date</span> 2023/1/28 12:05</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"meta\">@Slf4j</span></span><br><span class=\"line\"><span class=\"meta\">@RestController</span></span><br><span class=\"line\"><span class=\"meta\">@CrossOrigin</span></span><br><span class=\"line\"><span class=\"meta\">@RequestMapping(&quot;/content&quot;)</span></span><br><span class=\"line\"><span class=\"meta\">@RefreshScope</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">testController</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@GetMapping(&quot;/777&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">post</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;77777777777777777777777777777777777&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n<h4 id=\"启动果然报错\"><a href=\"#启动果然报错\" class=\"headerlink\" title=\"启动果然报错\"></a>启动果然报错</h4><p><img src=\"/../images/springcloud-gateway%E5%88%9D%E4%BD%93%E9%AA%8C-1701757449291.png\" alt=\"2\"></p>\n<p><code>好在全网搜寻找到了解决方案</code><br>原来是我继承了common工程，导致加入springweb依赖导致的报错，删除依赖，重新启动</p>\n<p><img src=\"/../images/springcloud-gateway%E5%88%9D%E4%BD%93%E9%AA%8C-1701757498800.png\" alt=\"7\"></p>\n<h4 id=\"输入9000端口测试\"><a href=\"#输入9000端口测试\" class=\"headerlink\" title=\"输入9000端口测试\"></a>输入9000端口测试</h4><p><code>再次报错</code></p>\n<p><img src=\"/../images/springcloud-gateway%E5%88%9D%E4%BD%93%E9%AA%8C-1701757506021.png\" alt=\"8\"><br>这下我发现了nacos的问题，springcloud gateway竟然在public分支里面，我的其他服务都在blog分支</p>\n<p><img src=\"/../images/springcloud-gateway%E5%88%9D%E4%BD%93%E9%AA%8C-1701757512055.png\" alt=\"9\"><br><code>修改bootstrap.yml文件后再次启动 -------successful</code></p>\n<p><img src=\"/../images/springcloud-gateway%E5%88%9D%E4%BD%93%E9%AA%8C-1701757517086.png\" alt=\"10\"></p>\n<h3 id=\"springcloud-gateway自定义配置详解\"><a href=\"#springcloud-gateway自定义配置详解\" class=\"headerlink\" title=\"springcloud gateway自定义配置详解\"></a>springcloud gateway自定义配置详解</h3><p><code>如果想要自定义路由加载的话会用到以下参数</code></p>\n<ul>\n<li>id，路由标识符，区别于其他 Route。</li>\n<li>uri，路由指向的⽬的地 uri，即客户端请求最终被转发到的微服务。</li>\n<li>order，⽤于多个 Route 之间的排序，数值越⼩排序越靠前，匹配优先级越⾼。</li>\n<li>predicate，断⾔的作⽤是进⾏条件判断，只有断⾔都返回真，才会真正的执⾏路由。</li>\n<li>filter，过滤器⽤于修改请求和响应信息。</li>\n</ul>\n<h3 id=\"全网爆火的gateway执行流程图\"><a href=\"#全网爆火的gateway执行流程图\" class=\"headerlink\" title=\"全网爆火的gateway执行流程图\"></a>全网爆火的gateway执行流程图</h3><p><img src=\"/../images/springcloud-gateway%E5%88%9D%E4%BD%93%E9%AA%8C-1701757523867.png\" alt=\"11\"></p>\n<h4 id=\"其实还有一小部分gateway中的拦截器设置，俺觉得没啥必要不如去微服务中配就不过多阐述啦\"><a href=\"#其实还有一小部分gateway中的拦截器设置，俺觉得没啥必要不如去微服务中配就不过多阐述啦\" class=\"headerlink\" title=\"其实还有一小部分gateway中的拦截器设置，俺觉得没啥必要不如去微服务中配就不过多阐述啦\"></a>其实还有一小部分gateway中的拦截器设置，俺觉得没啥必要不如去微服务中配就不过多阐述啦</h4>","site":{"data":{"about":[{"class_name":"关于页","subtitle":"多一点努力，努力多一点✨","avatarImg":"https://avatars.githubusercontent.com/u/106024593?v=4","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱"]},"name":"xingxing","description":"是一名 后端工程师、学生、独立开发者","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"YNU,计算机科学与技术","color":"#357ef5"}]},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，昆明市","background":"/img/location.png","backgroundDark":"/img/locationDark.png"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2003,"selfInfoTips2":"云南大学","selfInfoContent2":"计算机科学与技术","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"xingxing的日常。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"/img/beautifulImg.jpg","essay_list":[{"content":"发现一个免费拿图的网站诶，还是bing好用，垃圾百度！但是好像要翻墙才可以下载原图，不过可以直接复制图片地址，然后用迅雷下载，也是可以的（图片大小翻五倍）。","date":"2023/11/31","image":["/img/essayImg/pixabay.png"],"link":"https://pixabay.com/zh/"},{"content":"寒假实习求职顺利（求神拜佛）","date":"2023/12/2"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}],"bangumis":{"wantWatch":[{"title":"百妖谱 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/5424062d0821f89ea549533d8a2c3cfff2076766.png","totalCount":"全12话","id":28230717,"follow":"527.1 万","view":"1.2 亿","danmaku":"47.2 万","coin":"42.5 万","score":9.2,"des":"桃都的灵医桃夭带着小和尚磨牙、第一季收服的小狐妖、桃都老邻居柳公子一起继续第一季的故事，为了寻找失踪的百妖谱而云游四方，在途中遇到应声、化蛇、媪姬、照海四个妖怪，为妖怪治疗各种疑难杂症。..."},{"title":"伍六七之玄武国篇","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/00843865ea13702eccc4efd64c313fd4c8029c6b.jpg","totalCount":"全10话","id":28232253,"follow":"1031.1 万","view":"4.7 亿","danmaku":"186.3 万","coin":"405.6 万","score":9.8,"des":"为了保护小鸡岛居民和这里平静的生活，伍六七和他的伙伴大保和小飞开启了去往玄武国的冒险旅程，去寻找身世的真相和解救小岛的办法，等待他们的又将是更多的未知与奇遇。..."},{"title":"伍六七之暗影宿命","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/6e5c5848ff8943fd6366e943a4f75b98598c50c6.png","totalCount":"全10话","id":28412536,"follow":"1250.4 万","view":"5.1 亿","danmaku":"110.7 万","coin":"410.9 万","score":9.2,"des":"随着伍六七回到玄武国寻找他的身世，亦引起了七大暗影刺客的追捕。然而每一位暗影刺客都带着不同的目的和不同的过去，青凤的阴谋也在此浮出了水面。而此时等待着小鸡岛上的人民，又将是另一个危机，伍六七将如何面对..."}],"watching":[{"title":"灵笼 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cf5f6595ece017215e7d61482f022094479dff37.png","totalCount":"-","id":21123554,"follow":"910.5 万","view":"1586.9 万","danmaku":"7.0 万","coin":"35.1 万","score":"-","des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."},{"title":"灵笼","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cfab7e0fbdb4786ff4e885d050b7cf37f8829486.png","totalCount":"全16话","id":23432,"follow":"903.9 万","view":"6.1 亿","danmaku":"674.4 万","coin":"677.7 万","score":9.6,"des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."}],"watched":[{"title":"时光代理人","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/1fe1cd0ec59b790fea83a5726cdc0fa3189c4394.png","totalCount":"全24话","id":28230742,"follow":"879.2 万","view":"5.0 亿","danmaku":"399.9 万","coin":"418.4 万","score":9.7,"des":"为了找到一系列罪案的操纵者，程小时求助于肖力，找寻一切藏匿于暗中的蛛丝马迹。但是拥有未知超能力的凶手在阴影之中，也从没有停止过阴谋的脚步。神秘能力者如影随形，身边伙伴接连遇害，程小时屡次身陷险境。随着..."},{"title":"元龙 第三季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/b3a9b5975059e074593b9381322ad8c423be7b89.png","totalCount":"全16话","id":28235400,"follow":"620.5 万","view":"1.5 亿","danmaku":"24.0 万","coin":"10.7 万","score":6.8,"des":"王胜于现代世界醒来，一切是如此真实而又如梦似幻。皇城遗女，戴家少主的出现更让局势扑朔迷离。而一场由小搏大的赌局，也让王胜渐渐意识到这不仅仅是他和戴家少主两个人的较量。恰时逢盛宴，天下汇集，王胜不得不再..."},{"title":"三体","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/9870f898b8a39bbb8048f34317f8d78a02cc1770.png","totalCount":"全15话","id":4315402,"follow":"690.6 万","view":"6.2 亿","danmaku":"179.3 万","coin":"230.7 万","score":8.2,"des":"无数细线横亘在星空之中，如同一把巨大的刷子。三体星舰队将于400年后抵达。遥远蝴蝶扇动着翅膀，也改变了罗辑的命运，轰然打开的门后是世界中心——面壁计划开启。同时，智子所创建的破壁室内，破壁人一一就位…..."},{"title":"狐妖小红娘","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/cbb20ee03e97a9f3ad2e1506a10fd1271f1c584a.jpg","totalCount":"全100话","id":2543,"follow":"691.5 万","view":"8.7 亿","danmaku":"1052.9 万","coin":"259.8 万","score":9.5,"des":"根据古典小说记载，世上有人有妖，妖会与人相恋，妖寿命千年，人的寿命有限，人死了，妖活着。人会投胎转世，但投胎以后不记得上辈子的爱。妖如果痴情的话，就去找狐妖“购买”一项服务，让投胎转世的人回忆起前世的..."}]}}},"cover_type":"img","excerpt":"","more":"<h3 id=\"在springcloud-alibaba中集成gateway\"><a href=\"#在springcloud-alibaba中集成gateway\" class=\"headerlink\" title=\"在springcloud alibaba中集成gateway\"></a>在springcloud alibaba中集成gateway</h3><h5 id=\"新建maven项目service-gateway并在pom文件中导入springcloud-gateway依赖\"><a href=\"#新建maven项目service-gateway并在pom文件中导入springcloud-gateway依赖\" class=\"headerlink\" title=\"新建maven项目service-gateway并在pom文件中导入springcloud gateway依赖\"></a>新建maven项目service-gateway并在pom文件中导入springcloud gateway依赖</h5><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--gateway⽹关--&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.cloud<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-cloud-starter-gateway<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"加入nacos服务发现依赖和nacos服务注册中心适配\"><a href=\"#加入nacos服务发现依赖和nacos服务注册中心适配\" class=\"headerlink\" title=\"加入nacos服务发现依赖和nacos服务注册中心适配\"></a>加入nacos服务发现依赖和nacos服务注册中心适配</h5><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.alibaba.cloud<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-cloud-starter-alibaba-nacos-discovery<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"在bootstrap-yml配置文件中进行相关配置\"><a href=\"#在bootstrap-yml配置文件中进行相关配置\" class=\"headerlink\" title=\"在bootstrap.yml配置文件中进行相关配置\"></a>在bootstrap.yml配置文件中进行相关配置</h4><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">  <span class=\"attr\">port:</span> <span class=\"number\">9000</span></span><br><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">application:</span></span><br><span class=\"line\">    <span class=\"attr\">name:</span> <span class=\"string\">service-gateway</span></span><br><span class=\"line\">  <span class=\"attr\">cloud:</span></span><br><span class=\"line\">    <span class=\"attr\">gateway:</span></span><br><span class=\"line\">      <span class=\"attr\">discovery:</span></span><br><span class=\"line\">        <span class=\"attr\">locator:</span></span><br><span class=\"line\">          <span class=\"comment\">#让gateway可以发现nacos中的微服务</span></span><br><span class=\"line\">          <span class=\"attr\">enabled:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">nacos:</span></span><br><span class=\"line\">      <span class=\"attr\">discovery:</span></span><br><span class=\"line\">        <span class=\"attr\">server-addr:</span> <span class=\"string\">localhost:8848</span></span><br></pre></td></tr></table></figure>\n<p><code>至此便完成了gateway路由的自动装配，通过访问9000端口完成请求的分发了</code></p>\n<h4 id=\"启动nacos\"><a href=\"#启动nacos\" class=\"headerlink\" title=\"启动nacos\"></a>启动nacos</h4><p><img src=\"/../images/springcloud-gateway%E5%88%9D%E4%BD%93%E9%AA%8C-1701757439810.png\" alt=\"1\"></p>\n<h4 id=\"书写测试接口controller\"><a href=\"#书写测试接口controller\" class=\"headerlink\" title=\"书写测试接口controller\"></a>书写测试接口controller</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> com.example.servicecontent.controller;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.cloud.context.config.annotation.RefreshScope;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.web.bind.annotation.CrossOrigin;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@author</span> star</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@date</span> 2023/1/28 12:05</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"meta\">@Slf4j</span></span><br><span class=\"line\"><span class=\"meta\">@RestController</span></span><br><span class=\"line\"><span class=\"meta\">@CrossOrigin</span></span><br><span class=\"line\"><span class=\"meta\">@RequestMapping(&quot;/content&quot;)</span></span><br><span class=\"line\"><span class=\"meta\">@RefreshScope</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">testController</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@GetMapping(&quot;/777&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">post</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;77777777777777777777777777777777777&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n<h4 id=\"启动果然报错\"><a href=\"#启动果然报错\" class=\"headerlink\" title=\"启动果然报错\"></a>启动果然报错</h4><p><img src=\"/../images/springcloud-gateway%E5%88%9D%E4%BD%93%E9%AA%8C-1701757449291.png\" alt=\"2\"></p>\n<p><code>好在全网搜寻找到了解决方案</code><br>原来是我继承了common工程，导致加入springweb依赖导致的报错，删除依赖，重新启动</p>\n<p><img src=\"/../images/springcloud-gateway%E5%88%9D%E4%BD%93%E9%AA%8C-1701757498800.png\" alt=\"7\"></p>\n<h4 id=\"输入9000端口测试\"><a href=\"#输入9000端口测试\" class=\"headerlink\" title=\"输入9000端口测试\"></a>输入9000端口测试</h4><p><code>再次报错</code></p>\n<p><img src=\"/../images/springcloud-gateway%E5%88%9D%E4%BD%93%E9%AA%8C-1701757506021.png\" alt=\"8\"><br>这下我发现了nacos的问题，springcloud gateway竟然在public分支里面，我的其他服务都在blog分支</p>\n<p><img src=\"/../images/springcloud-gateway%E5%88%9D%E4%BD%93%E9%AA%8C-1701757512055.png\" alt=\"9\"><br><code>修改bootstrap.yml文件后再次启动 -------successful</code></p>\n<p><img src=\"/../images/springcloud-gateway%E5%88%9D%E4%BD%93%E9%AA%8C-1701757517086.png\" alt=\"10\"></p>\n<h3 id=\"springcloud-gateway自定义配置详解\"><a href=\"#springcloud-gateway自定义配置详解\" class=\"headerlink\" title=\"springcloud gateway自定义配置详解\"></a>springcloud gateway自定义配置详解</h3><p><code>如果想要自定义路由加载的话会用到以下参数</code></p>\n<ul>\n<li>id，路由标识符，区别于其他 Route。</li>\n<li>uri，路由指向的⽬的地 uri，即客户端请求最终被转发到的微服务。</li>\n<li>order，⽤于多个 Route 之间的排序，数值越⼩排序越靠前，匹配优先级越⾼。</li>\n<li>predicate，断⾔的作⽤是进⾏条件判断，只有断⾔都返回真，才会真正的执⾏路由。</li>\n<li>filter，过滤器⽤于修改请求和响应信息。</li>\n</ul>\n<h3 id=\"全网爆火的gateway执行流程图\"><a href=\"#全网爆火的gateway执行流程图\" class=\"headerlink\" title=\"全网爆火的gateway执行流程图\"></a>全网爆火的gateway执行流程图</h3><p><img src=\"/../images/springcloud-gateway%E5%88%9D%E4%BD%93%E9%AA%8C-1701757523867.png\" alt=\"11\"></p>\n<h4 id=\"其实还有一小部分gateway中的拦截器设置，俺觉得没啥必要不如去微服务中配就不过多阐述啦\"><a href=\"#其实还有一小部分gateway中的拦截器设置，俺觉得没啥必要不如去微服务中配就不过多阐述啦\" class=\"headerlink\" title=\"其实还有一小部分gateway中的拦截器设置，俺觉得没啥必要不如去微服务中配就不过多阐述啦\"></a>其实还有一小部分gateway中的拦截器设置，俺觉得没啥必要不如去微服务中配就不过多阐述啦</h4>"},{"title":"前端http请求发送详解","keywords":"http，前端","description":"http，前端","top_img":"/img/qianduan.png","comments":1,"cover":"/img/qianduan.png","copyright_author":"xingxing","copyright_author_href":"www.staraway.asia","copyright_info":"可转载哦","date":"2023-06-22T06:15:54.000Z","_content":"\n\n## promise使用\n-   `Promise`(承诺)，给予调用者一个承诺，过一会返回数据给你，就可以创建一个promise对象\n\n-   当我们`new`一个`promise`，此时我们需要传递一个回调函数，这个函数为立即执行的，称之为（executor）\n\n-   这个回调函数，我们需要传入两个参数回调函数，`reslove`,`reject`(函数可以进行传参)\n\n    -   当执行了`reslove`函数，会回调promise对象的.then函数\n    -   当执行了`reject`函数，会回调promise对象的.catche函数\n```javascript\nnew Promise((resolve, reject) => {\n   //写入axios请求\n  console.log(`executor 立即执行`)\n})\n```\n如下代码为经典例\n\n```javascript\nfunction requestData(url) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (url === 'iceweb.io') {\n        //只能传递一个参数\n        resolve('我成功了,把获取到的数据传出去')\n      } else {\n        reject('url错误，请求失败')\n      }\n    }, 3000)    \n  })\n}\n\n//第一种写法\n//url错误，请求失败,此时会有rej的打印输出\nrequestData('iceweb.org').then(res => {},rej => console.log(rej))\n\n//第二种写法\n//url错误，请求失败 此时会有e的打印输出\nrequestData('iceweb.org').catch(e => console.log(e))\n```\n\n### promise中catch的使用\n在catch后仍可以调用then方法，因为catch返回的也是一个promise对象，且此时的promise中是resolve\n```javascript\nconst promise = new Promise((resolve, reject) => {\n  reject('ice error')\n})\n\npromise.catch(err => ({name:'ice', age: 22})).then(res => console.log(res))\n\n//{name:'ice', age: 22}\n```\n### promise中finally的使用\n-   finally，无论promise状态是fulfilled还是rejected都会执行一次`finally`方法\n```javascript\nconst promise = new Promise((resolve, reject) => {\n  resolve('hi ice')\n})\n\npromise.then(res => console.log(res)).finally(() => console.log('finally execute'))\n\n//finally execute\n\n```\n\n## promise回调地狱\n1. 当我发送网络请求的时候，需要拿到这次网络请求的数据，再发送网络请求，就这样重复三次，才能拿到我最终的结果。导致如下结果(`很不优雅！！！`)\n\n```javascript\nfunction requestData(url) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (url.includes('iceweb')) {\n        resolve(url)\n      } else {\n        reject('请求错误')\n      }\n    }, 1000);\n  })\n}\n\n\nrequestData('iceweb.io').then(res => {\n  requestData(`iceweb.org ${res}`).then(res => {\n    requestData(`iceweb.com ${res}`).then(res => {\n      console.log(res)\n    })\n  })\n})\n\n//iceweb.com iceweb.org iceweb.io\n\nor\n\nfunction requestData(url) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (url.includes('iceweb')) {\n        resolve(url)\n      } else {\n        reject('请求错误')\n      }\n    }, 1000);\n  })\n}\n\nrequestData('iceweb.io').then(res => {\n  return requestData(`iceweb.org ${res}`)\n}).then(res => {\n  return requestData(`iceweb.com ${res}`)\n}).then(res => {\n  console.log(res)\n})\n\n//iceweb.com iceweb.org iceweb.io\n```\n\n2.采用`async+await`解决回调地域现象\n\n`await特点`——只有await后面的方法成功执行才会执行下面的代码！\n```javascript\nfunction requestData(url) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (url.includes('iceweb')) {\n        resolve(url)\n      } else {\n        reject('请求错误')\n      }\n    }, 1000);\n  })\n}\n\nasync function getData() {\n  const res1 = await requestData('iceweb.io')\n  const res2 = await requestData(`iceweb.org ${res1}`)\n  const res3 = await requestData(`iceweb.com ${res2}`)\n\n  console.log(res3)\n}\n\ngetData()\n\n//iceweb.com iceweb.org iceweb.io\n```\n\n## promise的高级封装（umi为例）\n\numi框架封装的请求可以在全局配置文件`src/app.ts`中对request进行配置\n\n对于使用可以使用useRequest具体使用api\n```javascript\nimport type { RequestConfig } from 'umi';\n\nexport const request: RequestConfig = {\n  timeout: 1000,\n  // other axios options you want\n  errorConfig: {\n    errorHandler(){\n    },\n    errorThrower(){\n    }\n  },\n  requestInterceptors: [],\n  responseInterceptors: []\n};\n```\n也可以通过request直接使用api\n\n```javascript\nexport default () => {\n  const { data, error, loading } = useRequest(() => {\n    return services.getUserList('/api/test');\n  });\n  if (loading) {\n    return <div>loading...</div>;\n  }\n  if (error) {\n    return <div>{error.message}</div>;\n  }\n  return <div>{data.name}</div>;\n};\n```\n\n#思考与感悟\n\n*最终做项目还是封装好的好用*\n\n\n\n","source":"_posts/前端http请求发送详解.md","raw":"---\ntitle: 前端http请求发送详解\ntags:\n  - http\n  - 前端\ncategories: 前端\nkeywords: http，前端\ndescription: http，前端\ntop_img: /img/qianduan.png\ncomments: true\ncover: /img/qianduan.png\ncopyright_author: xingxing\ncopyright_author_href: www.staraway.asia\ncopyright_info: 可转载哦\ndate: 2023-6-22 14:15:54\n---\n\n\n## promise使用\n-   `Promise`(承诺)，给予调用者一个承诺，过一会返回数据给你，就可以创建一个promise对象\n\n-   当我们`new`一个`promise`，此时我们需要传递一个回调函数，这个函数为立即执行的，称之为（executor）\n\n-   这个回调函数，我们需要传入两个参数回调函数，`reslove`,`reject`(函数可以进行传参)\n\n    -   当执行了`reslove`函数，会回调promise对象的.then函数\n    -   当执行了`reject`函数，会回调promise对象的.catche函数\n```javascript\nnew Promise((resolve, reject) => {\n   //写入axios请求\n  console.log(`executor 立即执行`)\n})\n```\n如下代码为经典例\n\n```javascript\nfunction requestData(url) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (url === 'iceweb.io') {\n        //只能传递一个参数\n        resolve('我成功了,把获取到的数据传出去')\n      } else {\n        reject('url错误，请求失败')\n      }\n    }, 3000)    \n  })\n}\n\n//第一种写法\n//url错误，请求失败,此时会有rej的打印输出\nrequestData('iceweb.org').then(res => {},rej => console.log(rej))\n\n//第二种写法\n//url错误，请求失败 此时会有e的打印输出\nrequestData('iceweb.org').catch(e => console.log(e))\n```\n\n### promise中catch的使用\n在catch后仍可以调用then方法，因为catch返回的也是一个promise对象，且此时的promise中是resolve\n```javascript\nconst promise = new Promise((resolve, reject) => {\n  reject('ice error')\n})\n\npromise.catch(err => ({name:'ice', age: 22})).then(res => console.log(res))\n\n//{name:'ice', age: 22}\n```\n### promise中finally的使用\n-   finally，无论promise状态是fulfilled还是rejected都会执行一次`finally`方法\n```javascript\nconst promise = new Promise((resolve, reject) => {\n  resolve('hi ice')\n})\n\npromise.then(res => console.log(res)).finally(() => console.log('finally execute'))\n\n//finally execute\n\n```\n\n## promise回调地狱\n1. 当我发送网络请求的时候，需要拿到这次网络请求的数据，再发送网络请求，就这样重复三次，才能拿到我最终的结果。导致如下结果(`很不优雅！！！`)\n\n```javascript\nfunction requestData(url) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (url.includes('iceweb')) {\n        resolve(url)\n      } else {\n        reject('请求错误')\n      }\n    }, 1000);\n  })\n}\n\n\nrequestData('iceweb.io').then(res => {\n  requestData(`iceweb.org ${res}`).then(res => {\n    requestData(`iceweb.com ${res}`).then(res => {\n      console.log(res)\n    })\n  })\n})\n\n//iceweb.com iceweb.org iceweb.io\n\nor\n\nfunction requestData(url) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (url.includes('iceweb')) {\n        resolve(url)\n      } else {\n        reject('请求错误')\n      }\n    }, 1000);\n  })\n}\n\nrequestData('iceweb.io').then(res => {\n  return requestData(`iceweb.org ${res}`)\n}).then(res => {\n  return requestData(`iceweb.com ${res}`)\n}).then(res => {\n  console.log(res)\n})\n\n//iceweb.com iceweb.org iceweb.io\n```\n\n2.采用`async+await`解决回调地域现象\n\n`await特点`——只有await后面的方法成功执行才会执行下面的代码！\n```javascript\nfunction requestData(url) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (url.includes('iceweb')) {\n        resolve(url)\n      } else {\n        reject('请求错误')\n      }\n    }, 1000);\n  })\n}\n\nasync function getData() {\n  const res1 = await requestData('iceweb.io')\n  const res2 = await requestData(`iceweb.org ${res1}`)\n  const res3 = await requestData(`iceweb.com ${res2}`)\n\n  console.log(res3)\n}\n\ngetData()\n\n//iceweb.com iceweb.org iceweb.io\n```\n\n## promise的高级封装（umi为例）\n\numi框架封装的请求可以在全局配置文件`src/app.ts`中对request进行配置\n\n对于使用可以使用useRequest具体使用api\n```javascript\nimport type { RequestConfig } from 'umi';\n\nexport const request: RequestConfig = {\n  timeout: 1000,\n  // other axios options you want\n  errorConfig: {\n    errorHandler(){\n    },\n    errorThrower(){\n    }\n  },\n  requestInterceptors: [],\n  responseInterceptors: []\n};\n```\n也可以通过request直接使用api\n\n```javascript\nexport default () => {\n  const { data, error, loading } = useRequest(() => {\n    return services.getUserList('/api/test');\n  });\n  if (loading) {\n    return <div>loading...</div>;\n  }\n  if (error) {\n    return <div>{error.message}</div>;\n  }\n  return <div>{data.name}</div>;\n};\n```\n\n#思考与感悟\n\n*最终做项目还是封装好的好用*\n\n\n\n","slug":"前端http请求发送详解","published":1,"updated":"2023-12-06T02:57:32.156Z","_id":"clprymdkz000kh4pkcqje1dqo","layout":"post","photos":[],"link":"","content":"<h2 id=\"promise使用\"><a href=\"#promise使用\" class=\"headerlink\" title=\"promise使用\"></a>promise使用</h2><ul>\n<li><p><code>Promise</code>(承诺)，给予调用者一个承诺，过一会返回数据给你，就可以创建一个promise对象</p>\n</li>\n<li><p>当我们<code>new</code>一个<code>promise</code>，此时我们需要传递一个回调函数，这个函数为立即执行的，称之为（executor）</p>\n</li>\n<li><p>这个回调函数，我们需要传入两个参数回调函数，<code>reslove</code>,<code>reject</code>(函数可以进行传参)</p>\n<ul>\n<li>当执行了<code>reslove</code>函数，会回调promise对象的.then函数</li>\n<li>当执行了<code>reject</code>函数，会回调promise对象的.catche函数</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">   <span class=\"comment\">//写入axios请求</span></span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`executor 立即执行`</span>)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p>如下代码为经典例</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">requestData</span>(<span class=\"params\">url</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (url === <span class=\"string\">&#x27;iceweb.io&#x27;</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//只能传递一个参数</span></span><br><span class=\"line\">        <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;我成功了,把获取到的数据传出去&#x27;</span>)</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">reject</span>(<span class=\"string\">&#x27;url错误，请求失败&#x27;</span>)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;, <span class=\"number\">3000</span>)    </span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//第一种写法</span></span><br><span class=\"line\"><span class=\"comment\">//url错误，请求失败,此时会有rej的打印输出</span></span><br><span class=\"line\"><span class=\"title function_\">requestData</span>(<span class=\"string\">&#x27;iceweb.org&#x27;</span>).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;&#125;,<span class=\"function\"><span class=\"params\">rej</span> =&gt;</span> <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(rej))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//第二种写法</span></span><br><span class=\"line\"><span class=\"comment\">//url错误，请求失败 此时会有e的打印输出</span></span><br><span class=\"line\"><span class=\"title function_\">requestData</span>(<span class=\"string\">&#x27;iceweb.org&#x27;</span>).<span class=\"title function_\">catch</span>(<span class=\"function\"><span class=\"params\">e</span> =&gt;</span> <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(e))</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"promise中catch的使用\"><a href=\"#promise中catch的使用\" class=\"headerlink\" title=\"promise中catch的使用\"></a>promise中catch的使用</h3><p>在catch后仍可以调用then方法，因为catch返回的也是一个promise对象，且此时的promise中是resolve</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> promise = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">reject</span>(<span class=\"string\">&#x27;ice error&#x27;</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">promise.<span class=\"title function_\">catch</span>(<span class=\"function\"><span class=\"params\">err</span> =&gt;</span> (&#123;<span class=\"attr\">name</span>:<span class=\"string\">&#x27;ice&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">22</span>&#125;)).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(res))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//&#123;name:&#x27;ice&#x27;, age: 22&#125;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"promise中finally的使用\"><a href=\"#promise中finally的使用\" class=\"headerlink\" title=\"promise中finally的使用\"></a>promise中finally的使用</h3><ul>\n<li>finally，无论promise状态是fulfilled还是rejected都会执行一次<code>finally</code>方法<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> promise = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;hi ice&#x27;</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">promise.<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(res)).<span class=\"title function_\">finally</span>(<span class=\"function\">() =&gt;</span> <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;finally execute&#x27;</span>))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//finally execute</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n</ul>\n<h2 id=\"promise回调地狱\"><a href=\"#promise回调地狱\" class=\"headerlink\" title=\"promise回调地狱\"></a>promise回调地狱</h2><ol>\n<li>当我发送网络请求的时候，需要拿到这次网络请求的数据，再发送网络请求，就这样重复三次，才能拿到我最终的结果。导致如下结果(<code>很不优雅！！！</code>)</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">requestData</span>(<span class=\"params\">url</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (url.<span class=\"title function_\">includes</span>(<span class=\"string\">&#x27;iceweb&#x27;</span>)) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">resolve</span>(url)</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">reject</span>(<span class=\"string\">&#x27;请求错误&#x27;</span>)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">requestData</span>(<span class=\"string\">&#x27;iceweb.io&#x27;</span>).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">requestData</span>(<span class=\"string\">`iceweb.org <span class=\"subst\">$&#123;res&#125;</span>`</span>).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"title function_\">requestData</span>(<span class=\"string\">`iceweb.com <span class=\"subst\">$&#123;res&#125;</span>`</span>).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(res)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//iceweb.com iceweb.org iceweb.io</span></span><br><span class=\"line\"></span><br><span class=\"line\">or</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">requestData</span>(<span class=\"params\">url</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (url.<span class=\"title function_\">includes</span>(<span class=\"string\">&#x27;iceweb&#x27;</span>)) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">resolve</span>(url)</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">reject</span>(<span class=\"string\">&#x27;请求错误&#x27;</span>)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">requestData</span>(<span class=\"string\">&#x27;iceweb.io&#x27;</span>).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"title function_\">requestData</span>(<span class=\"string\">`iceweb.org <span class=\"subst\">$&#123;res&#125;</span>`</span>)</span><br><span class=\"line\">&#125;).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"title function_\">requestData</span>(<span class=\"string\">`iceweb.com <span class=\"subst\">$&#123;res&#125;</span>`</span>)</span><br><span class=\"line\">&#125;).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(res)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//iceweb.com iceweb.org iceweb.io</span></span><br></pre></td></tr></table></figure>\n\n<p>2.采用<code>async+await</code>解决回调地域现象</p>\n<p><code>await特点</code>——只有await后面的方法成功执行才会执行下面的代码！</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">requestData</span>(<span class=\"params\">url</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (url.<span class=\"title function_\">includes</span>(<span class=\"string\">&#x27;iceweb&#x27;</span>)) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">resolve</span>(url)</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">reject</span>(<span class=\"string\">&#x27;请求错误&#x27;</span>)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">getData</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> res1 = <span class=\"keyword\">await</span> <span class=\"title function_\">requestData</span>(<span class=\"string\">&#x27;iceweb.io&#x27;</span>)</span><br><span class=\"line\">  <span class=\"keyword\">const</span> res2 = <span class=\"keyword\">await</span> <span class=\"title function_\">requestData</span>(<span class=\"string\">`iceweb.org <span class=\"subst\">$&#123;res1&#125;</span>`</span>)</span><br><span class=\"line\">  <span class=\"keyword\">const</span> res3 = <span class=\"keyword\">await</span> <span class=\"title function_\">requestData</span>(<span class=\"string\">`iceweb.com <span class=\"subst\">$&#123;res2&#125;</span>`</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(res3)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">getData</span>()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//iceweb.com iceweb.org iceweb.io</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"promise的高级封装（umi为例）\"><a href=\"#promise的高级封装（umi为例）\" class=\"headerlink\" title=\"promise的高级封装（umi为例）\"></a>promise的高级封装（umi为例）</h2><p>umi框架封装的请求可以在全局配置文件<code>src/app.ts</code>中对request进行配置</p>\n<p>对于使用可以使用useRequest具体使用api</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> type &#123; <span class=\"title class_\">RequestConfig</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;umi&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"attr\">request</span>: <span class=\"title class_\">RequestConfig</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">timeout</span>: <span class=\"number\">1000</span>,</span><br><span class=\"line\">  <span class=\"comment\">// other axios options you want</span></span><br><span class=\"line\">  <span class=\"attr\">errorConfig</span>: &#123;</span><br><span class=\"line\">    <span class=\"title function_\">errorHandler</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"title function_\">errorThrower</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">requestInterceptors</span>: [],</span><br><span class=\"line\">  <span class=\"attr\">responseInterceptors</span>: []</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>也可以通过request直接使用api</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; data, error, loading &#125; = <span class=\"title function_\">useRequest</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> services.<span class=\"title function_\">getUserList</span>(<span class=\"string\">&#x27;/api/test&#x27;</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (loading) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span>loading...<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (error) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span>&#123;error.message&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span>&#123;data.name&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>#思考与感悟</p>\n<p><em>最终做项目还是封装好的好用</em></p>\n","site":{"data":{"about":[{"class_name":"关于页","subtitle":"多一点努力，努力多一点✨","avatarImg":"https://avatars.githubusercontent.com/u/106024593?v=4","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱"]},"name":"xingxing","description":"是一名 后端工程师、学生、独立开发者","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"YNU,计算机科学与技术","color":"#357ef5"}]},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，昆明市","background":"/img/location.png","backgroundDark":"/img/locationDark.png"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2003,"selfInfoTips2":"云南大学","selfInfoContent2":"计算机科学与技术","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"xingxing的日常。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"/img/beautifulImg.jpg","essay_list":[{"content":"发现一个免费拿图的网站诶，还是bing好用，垃圾百度！但是好像要翻墙才可以下载原图，不过可以直接复制图片地址，然后用迅雷下载，也是可以的（图片大小翻五倍）。","date":"2023/11/31","image":["/img/essayImg/pixabay.png"],"link":"https://pixabay.com/zh/"},{"content":"寒假实习求职顺利（求神拜佛）","date":"2023/12/2"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}],"bangumis":{"wantWatch":[{"title":"百妖谱 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/5424062d0821f89ea549533d8a2c3cfff2076766.png","totalCount":"全12话","id":28230717,"follow":"527.1 万","view":"1.2 亿","danmaku":"47.2 万","coin":"42.5 万","score":9.2,"des":"桃都的灵医桃夭带着小和尚磨牙、第一季收服的小狐妖、桃都老邻居柳公子一起继续第一季的故事，为了寻找失踪的百妖谱而云游四方，在途中遇到应声、化蛇、媪姬、照海四个妖怪，为妖怪治疗各种疑难杂症。..."},{"title":"伍六七之玄武国篇","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/00843865ea13702eccc4efd64c313fd4c8029c6b.jpg","totalCount":"全10话","id":28232253,"follow":"1031.1 万","view":"4.7 亿","danmaku":"186.3 万","coin":"405.6 万","score":9.8,"des":"为了保护小鸡岛居民和这里平静的生活，伍六七和他的伙伴大保和小飞开启了去往玄武国的冒险旅程，去寻找身世的真相和解救小岛的办法，等待他们的又将是更多的未知与奇遇。..."},{"title":"伍六七之暗影宿命","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/6e5c5848ff8943fd6366e943a4f75b98598c50c6.png","totalCount":"全10话","id":28412536,"follow":"1250.4 万","view":"5.1 亿","danmaku":"110.7 万","coin":"410.9 万","score":9.2,"des":"随着伍六七回到玄武国寻找他的身世，亦引起了七大暗影刺客的追捕。然而每一位暗影刺客都带着不同的目的和不同的过去，青凤的阴谋也在此浮出了水面。而此时等待着小鸡岛上的人民，又将是另一个危机，伍六七将如何面对..."}],"watching":[{"title":"灵笼 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cf5f6595ece017215e7d61482f022094479dff37.png","totalCount":"-","id":21123554,"follow":"910.5 万","view":"1586.9 万","danmaku":"7.0 万","coin":"35.1 万","score":"-","des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."},{"title":"灵笼","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cfab7e0fbdb4786ff4e885d050b7cf37f8829486.png","totalCount":"全16话","id":23432,"follow":"903.9 万","view":"6.1 亿","danmaku":"674.4 万","coin":"677.7 万","score":9.6,"des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."}],"watched":[{"title":"时光代理人","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/1fe1cd0ec59b790fea83a5726cdc0fa3189c4394.png","totalCount":"全24话","id":28230742,"follow":"879.2 万","view":"5.0 亿","danmaku":"399.9 万","coin":"418.4 万","score":9.7,"des":"为了找到一系列罪案的操纵者，程小时求助于肖力，找寻一切藏匿于暗中的蛛丝马迹。但是拥有未知超能力的凶手在阴影之中，也从没有停止过阴谋的脚步。神秘能力者如影随形，身边伙伴接连遇害，程小时屡次身陷险境。随着..."},{"title":"元龙 第三季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/b3a9b5975059e074593b9381322ad8c423be7b89.png","totalCount":"全16话","id":28235400,"follow":"620.5 万","view":"1.5 亿","danmaku":"24.0 万","coin":"10.7 万","score":6.8,"des":"王胜于现代世界醒来，一切是如此真实而又如梦似幻。皇城遗女，戴家少主的出现更让局势扑朔迷离。而一场由小搏大的赌局，也让王胜渐渐意识到这不仅仅是他和戴家少主两个人的较量。恰时逢盛宴，天下汇集，王胜不得不再..."},{"title":"三体","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/9870f898b8a39bbb8048f34317f8d78a02cc1770.png","totalCount":"全15话","id":4315402,"follow":"690.6 万","view":"6.2 亿","danmaku":"179.3 万","coin":"230.7 万","score":8.2,"des":"无数细线横亘在星空之中，如同一把巨大的刷子。三体星舰队将于400年后抵达。遥远蝴蝶扇动着翅膀，也改变了罗辑的命运，轰然打开的门后是世界中心——面壁计划开启。同时，智子所创建的破壁室内，破壁人一一就位…..."},{"title":"狐妖小红娘","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/cbb20ee03e97a9f3ad2e1506a10fd1271f1c584a.jpg","totalCount":"全100话","id":2543,"follow":"691.5 万","view":"8.7 亿","danmaku":"1052.9 万","coin":"259.8 万","score":9.5,"des":"根据古典小说记载，世上有人有妖，妖会与人相恋，妖寿命千年，人的寿命有限，人死了，妖活着。人会投胎转世，但投胎以后不记得上辈子的爱。妖如果痴情的话，就去找狐妖“购买”一项服务，让投胎转世的人回忆起前世的..."}]}}},"cover_type":"img","excerpt":"","more":"<h2 id=\"promise使用\"><a href=\"#promise使用\" class=\"headerlink\" title=\"promise使用\"></a>promise使用</h2><ul>\n<li><p><code>Promise</code>(承诺)，给予调用者一个承诺，过一会返回数据给你，就可以创建一个promise对象</p>\n</li>\n<li><p>当我们<code>new</code>一个<code>promise</code>，此时我们需要传递一个回调函数，这个函数为立即执行的，称之为（executor）</p>\n</li>\n<li><p>这个回调函数，我们需要传入两个参数回调函数，<code>reslove</code>,<code>reject</code>(函数可以进行传参)</p>\n<ul>\n<li>当执行了<code>reslove</code>函数，会回调promise对象的.then函数</li>\n<li>当执行了<code>reject</code>函数，会回调promise对象的.catche函数</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">   <span class=\"comment\">//写入axios请求</span></span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`executor 立即执行`</span>)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p>如下代码为经典例</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">requestData</span>(<span class=\"params\">url</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (url === <span class=\"string\">&#x27;iceweb.io&#x27;</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//只能传递一个参数</span></span><br><span class=\"line\">        <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;我成功了,把获取到的数据传出去&#x27;</span>)</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">reject</span>(<span class=\"string\">&#x27;url错误，请求失败&#x27;</span>)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;, <span class=\"number\">3000</span>)    </span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//第一种写法</span></span><br><span class=\"line\"><span class=\"comment\">//url错误，请求失败,此时会有rej的打印输出</span></span><br><span class=\"line\"><span class=\"title function_\">requestData</span>(<span class=\"string\">&#x27;iceweb.org&#x27;</span>).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;&#125;,<span class=\"function\"><span class=\"params\">rej</span> =&gt;</span> <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(rej))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//第二种写法</span></span><br><span class=\"line\"><span class=\"comment\">//url错误，请求失败 此时会有e的打印输出</span></span><br><span class=\"line\"><span class=\"title function_\">requestData</span>(<span class=\"string\">&#x27;iceweb.org&#x27;</span>).<span class=\"title function_\">catch</span>(<span class=\"function\"><span class=\"params\">e</span> =&gt;</span> <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(e))</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"promise中catch的使用\"><a href=\"#promise中catch的使用\" class=\"headerlink\" title=\"promise中catch的使用\"></a>promise中catch的使用</h3><p>在catch后仍可以调用then方法，因为catch返回的也是一个promise对象，且此时的promise中是resolve</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> promise = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">reject</span>(<span class=\"string\">&#x27;ice error&#x27;</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">promise.<span class=\"title function_\">catch</span>(<span class=\"function\"><span class=\"params\">err</span> =&gt;</span> (&#123;<span class=\"attr\">name</span>:<span class=\"string\">&#x27;ice&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">22</span>&#125;)).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(res))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//&#123;name:&#x27;ice&#x27;, age: 22&#125;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"promise中finally的使用\"><a href=\"#promise中finally的使用\" class=\"headerlink\" title=\"promise中finally的使用\"></a>promise中finally的使用</h3><ul>\n<li>finally，无论promise状态是fulfilled还是rejected都会执行一次<code>finally</code>方法<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> promise = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;hi ice&#x27;</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">promise.<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(res)).<span class=\"title function_\">finally</span>(<span class=\"function\">() =&gt;</span> <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;finally execute&#x27;</span>))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//finally execute</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n</ul>\n<h2 id=\"promise回调地狱\"><a href=\"#promise回调地狱\" class=\"headerlink\" title=\"promise回调地狱\"></a>promise回调地狱</h2><ol>\n<li>当我发送网络请求的时候，需要拿到这次网络请求的数据，再发送网络请求，就这样重复三次，才能拿到我最终的结果。导致如下结果(<code>很不优雅！！！</code>)</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">requestData</span>(<span class=\"params\">url</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (url.<span class=\"title function_\">includes</span>(<span class=\"string\">&#x27;iceweb&#x27;</span>)) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">resolve</span>(url)</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">reject</span>(<span class=\"string\">&#x27;请求错误&#x27;</span>)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">requestData</span>(<span class=\"string\">&#x27;iceweb.io&#x27;</span>).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">requestData</span>(<span class=\"string\">`iceweb.org <span class=\"subst\">$&#123;res&#125;</span>`</span>).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"title function_\">requestData</span>(<span class=\"string\">`iceweb.com <span class=\"subst\">$&#123;res&#125;</span>`</span>).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(res)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//iceweb.com iceweb.org iceweb.io</span></span><br><span class=\"line\"></span><br><span class=\"line\">or</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">requestData</span>(<span class=\"params\">url</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (url.<span class=\"title function_\">includes</span>(<span class=\"string\">&#x27;iceweb&#x27;</span>)) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">resolve</span>(url)</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">reject</span>(<span class=\"string\">&#x27;请求错误&#x27;</span>)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">requestData</span>(<span class=\"string\">&#x27;iceweb.io&#x27;</span>).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"title function_\">requestData</span>(<span class=\"string\">`iceweb.org <span class=\"subst\">$&#123;res&#125;</span>`</span>)</span><br><span class=\"line\">&#125;).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"title function_\">requestData</span>(<span class=\"string\">`iceweb.com <span class=\"subst\">$&#123;res&#125;</span>`</span>)</span><br><span class=\"line\">&#125;).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(res)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//iceweb.com iceweb.org iceweb.io</span></span><br></pre></td></tr></table></figure>\n\n<p>2.采用<code>async+await</code>解决回调地域现象</p>\n<p><code>await特点</code>——只有await后面的方法成功执行才会执行下面的代码！</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">requestData</span>(<span class=\"params\">url</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (url.<span class=\"title function_\">includes</span>(<span class=\"string\">&#x27;iceweb&#x27;</span>)) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">resolve</span>(url)</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">reject</span>(<span class=\"string\">&#x27;请求错误&#x27;</span>)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">getData</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> res1 = <span class=\"keyword\">await</span> <span class=\"title function_\">requestData</span>(<span class=\"string\">&#x27;iceweb.io&#x27;</span>)</span><br><span class=\"line\">  <span class=\"keyword\">const</span> res2 = <span class=\"keyword\">await</span> <span class=\"title function_\">requestData</span>(<span class=\"string\">`iceweb.org <span class=\"subst\">$&#123;res1&#125;</span>`</span>)</span><br><span class=\"line\">  <span class=\"keyword\">const</span> res3 = <span class=\"keyword\">await</span> <span class=\"title function_\">requestData</span>(<span class=\"string\">`iceweb.com <span class=\"subst\">$&#123;res2&#125;</span>`</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(res3)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">getData</span>()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//iceweb.com iceweb.org iceweb.io</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"promise的高级封装（umi为例）\"><a href=\"#promise的高级封装（umi为例）\" class=\"headerlink\" title=\"promise的高级封装（umi为例）\"></a>promise的高级封装（umi为例）</h2><p>umi框架封装的请求可以在全局配置文件<code>src/app.ts</code>中对request进行配置</p>\n<p>对于使用可以使用useRequest具体使用api</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> type &#123; <span class=\"title class_\">RequestConfig</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;umi&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"attr\">request</span>: <span class=\"title class_\">RequestConfig</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">timeout</span>: <span class=\"number\">1000</span>,</span><br><span class=\"line\">  <span class=\"comment\">// other axios options you want</span></span><br><span class=\"line\">  <span class=\"attr\">errorConfig</span>: &#123;</span><br><span class=\"line\">    <span class=\"title function_\">errorHandler</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"title function_\">errorThrower</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">requestInterceptors</span>: [],</span><br><span class=\"line\">  <span class=\"attr\">responseInterceptors</span>: []</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>也可以通过request直接使用api</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; data, error, loading &#125; = <span class=\"title function_\">useRequest</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> services.<span class=\"title function_\">getUserList</span>(<span class=\"string\">&#x27;/api/test&#x27;</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (loading) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span>loading...<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (error) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span>&#123;error.message&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span>&#123;data.name&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>#思考与感悟</p>\n<p><em>最终做项目还是封装好的好用</em></p>\n"},{"title":"名片创作","keywords":"前端","description":"前端","top_img":"/img/suanfa.png","comments":1,"cover":"/img/suanfa.png","copyright_author":"xingxing","copyright_author_href":"www.staraway.asia","copyright_info":"可转载哦","date":"2023-03-05T06:15:04.000Z","_content":"\n\n在今年暑期参加字节跳动青训营接触了golang,\n我个人热衷于it行业前沿科技领域的探索，乐于接触新的技术，\n也希望通过实习来丰富个人的阅历和实践经验\n\n### 创作目的\n- 进行前端开发这么久了，一直在做业务相关的需求，写组件样式的时候也是一种为了让组件不碍眼而写样式的心态，但是就我个人的看法，前端开发是和展示挂钩的，前端创作是能和用户产生共鸣的\n- 如今的互联⽹⾏业⼀直流传着⼀句话：“⽤户⾄上”，想要提升⽤户体验，Web前端的作⽤⾮常重要\n所以我选择了个人名片创作，我想写一份能和用户产生交互式体验，带给用户视觉冲击，表达用户个性的个人名片！\n\n\n\n### 作品展示\n- 由于掘金的md不让放视频，我截图做了展示\n\n\n\n![1](../images/名片创作-1701757096669.png)\n\n![2](../images/名片创作-1701757102187.png)\n\n\n![3](../images/名片创作-1701757110488.png)\n\n### 作品架构与设计\n#### 我将整个个人名片主要分为了三部分-----头像部分、个人说明部分、底部链接部分、背景部分\n- 头像\n\n\n![4](../images/名片创作-1701757118115.png)\n```less\n//html\n <div class=\"card-avatar\"></div>\n \n//css\n .card-avatar {\n --size: 60px;\n width: var(--size);\n height: var(--size);\n border-radius: 50%;\n transition: transform .2s ease;\n margin-bottom: 1rem;\n background-image: url('https://staraway.love/QQ%E5%9B%BE%E7%89%8720230107162416.jpg');\n background-size: cover;\n background-repeat: no-repeat;\n background-position: center center;\n}\n\n.card-avatar:hover {\n transform: scale(1.7);\n}\n\n```\n在这里主要通过\nbackground-size: cover;\nbackground-repeat: no-repeat;\nbackground-position: center center;三个属性让图片呈现正常的展示效果\n\n其次设置hover的时候图片放大1.7倍，至于tansition属性则是继承了父类，详情看最后的源码，也可以去作品处查看\n\n- 个人说明部分\n\n\n![5](../images/名片创作-1701757127095.png)\n\n```html\n//html\n <div class=\"card-title\">小星</div>\n      <div class=\"card-subtitle\">专注于前端开发的后端工程师</div>\n      <p class=\"text-body\">So far all life is written with failure, but this does not prevent me from moving forward</p>\n      \n//css\n.card-info {\n display: flex;\n flex-direction: column;\n justify-content: center;\n align-items: center;\n transition: transform .2s ease, opacity .2s ease;\n}\n.card-title {\n color: #333;\n font-size: 1.5em;\n font-weight: 600;\n line-height: 2rem;\n}\n\n.card-subtitle {\n color: #859ba8;\n font-size: 0.8em;\n margin-top: 5px;\n}\n.text-body {\n  margin-top: 10px;\n font-size: .8em;\n text-align: center;\n color: #6f6d78;\n font-weight: 400;\n font-style: italic;\n}\n.card:hover .card-info {\n transform: translateY(-5%);\n}\n```\n这里主要通过` flex-direction: column;`属性让所有元素呈纵向排布，同时在让不同元素的字体呈现不同的样式，设计中英文混合结构形成视觉差\n\n- 底部链接部分\n\n\n![6](../images/名片创作-1701757134734.png)\n```html\n.card-social {\n transform: translateY(200%);\n display: flex;\n justify-content: space-around;\n width: 100%;\n opacity: 0;\n transition: transform .2s ease, opacity .2s ease;\n\n\n}\n\n.card-social__item {\n list-style: none;\n}\n\n.card-social__item svg {\n display: block;\n height: 18px;\n width: 18px;\n fill: #515F65;\n cursor: pointer;\n transition: fill 0.2s ease ,transform 0.2s ease;\n}\n\n.card-social__item svg use{\n   transform: scaleX(-1);\n}\n\n```\n为了增加这里的交互式体验，我为三个图标均设立了hover样式，让其hover属性不生效时候不显示，并设立` transition: fill 0.2s ease ,transform 0.2s ease;`属性让其从下部弹出，在实际的开发中可以使用组件库所提供的affix标签为其提供鼠标hover时候展示说明的效果，\n\n- 背景部分\n\n![7](../images/名片创作-1701757141855.png)\n\n![8](../images/名片创作-1701757146672.png)\n\n```less\n.card {\n width: 220px;\n height: 200px;\n padding: 2rem 1.5rem;\n transition: box-shadow .3s ease, transform .2s ease;\n text-align: center;\n position: relative;\n background: linear-gradient(135deg, #ebadb6 0%, #aceae1 100%);\n border-radius: 7px;\n box-shadow: 20px 20px 60px #bebebe, -20px -20px 60px #ffffff;\n}\n.card:hover {\n box-shadow: 0px 0px 30px 1px rgba(0, 255, 117, 0.30);\n  transform: scale(0.98);\n border-radius: 20px;\n \n}\n\n```\n此处主要通过背景虚化形成一种朦胧感，利用` box-shadow: 20px 20px 60px #bebebe, -20px -20px 60px #ffffff;`和`background: linear-gradient(135deg, #ebadb6 0%, #aceae1 100%);`属性形成色彩的错差感，当hover属性触发的时候在变清晰，形成良好的交互式体验\n\n### 灵感源泉\n\n- 其实我觉得程序员真的很需要美感，特别是开发岗，前端设计是一件很有成就感很幸福的事情，无所谓灵感，都是激励，正所谓我名片中所展示的\n>  So far all life is written with failure, but this does not prevent me from moving forward","source":"_posts/名片创作.md","raw":"---\ntitle: 名片创作\ntags:\n  - react\n  - css\ncategories: 前端\nkeywords: 前端\ndescription: 前端\ntop_img: /img/suanfa.png\ncomments: true\ncover: /img/suanfa.png\ncopyright_author: xingxing\ncopyright_author_href: www.staraway.asia\ncopyright_info: 可转载哦\ndate: 2023-3-05 14:15:04\n---\n\n\n在今年暑期参加字节跳动青训营接触了golang,\n我个人热衷于it行业前沿科技领域的探索，乐于接触新的技术，\n也希望通过实习来丰富个人的阅历和实践经验\n\n### 创作目的\n- 进行前端开发这么久了，一直在做业务相关的需求，写组件样式的时候也是一种为了让组件不碍眼而写样式的心态，但是就我个人的看法，前端开发是和展示挂钩的，前端创作是能和用户产生共鸣的\n- 如今的互联⽹⾏业⼀直流传着⼀句话：“⽤户⾄上”，想要提升⽤户体验，Web前端的作⽤⾮常重要\n所以我选择了个人名片创作，我想写一份能和用户产生交互式体验，带给用户视觉冲击，表达用户个性的个人名片！\n\n\n\n### 作品展示\n- 由于掘金的md不让放视频，我截图做了展示\n\n\n\n![1](../images/名片创作-1701757096669.png)\n\n![2](../images/名片创作-1701757102187.png)\n\n\n![3](../images/名片创作-1701757110488.png)\n\n### 作品架构与设计\n#### 我将整个个人名片主要分为了三部分-----头像部分、个人说明部分、底部链接部分、背景部分\n- 头像\n\n\n![4](../images/名片创作-1701757118115.png)\n```less\n//html\n <div class=\"card-avatar\"></div>\n \n//css\n .card-avatar {\n --size: 60px;\n width: var(--size);\n height: var(--size);\n border-radius: 50%;\n transition: transform .2s ease;\n margin-bottom: 1rem;\n background-image: url('https://staraway.love/QQ%E5%9B%BE%E7%89%8720230107162416.jpg');\n background-size: cover;\n background-repeat: no-repeat;\n background-position: center center;\n}\n\n.card-avatar:hover {\n transform: scale(1.7);\n}\n\n```\n在这里主要通过\nbackground-size: cover;\nbackground-repeat: no-repeat;\nbackground-position: center center;三个属性让图片呈现正常的展示效果\n\n其次设置hover的时候图片放大1.7倍，至于tansition属性则是继承了父类，详情看最后的源码，也可以去作品处查看\n\n- 个人说明部分\n\n\n![5](../images/名片创作-1701757127095.png)\n\n```html\n//html\n <div class=\"card-title\">小星</div>\n      <div class=\"card-subtitle\">专注于前端开发的后端工程师</div>\n      <p class=\"text-body\">So far all life is written with failure, but this does not prevent me from moving forward</p>\n      \n//css\n.card-info {\n display: flex;\n flex-direction: column;\n justify-content: center;\n align-items: center;\n transition: transform .2s ease, opacity .2s ease;\n}\n.card-title {\n color: #333;\n font-size: 1.5em;\n font-weight: 600;\n line-height: 2rem;\n}\n\n.card-subtitle {\n color: #859ba8;\n font-size: 0.8em;\n margin-top: 5px;\n}\n.text-body {\n  margin-top: 10px;\n font-size: .8em;\n text-align: center;\n color: #6f6d78;\n font-weight: 400;\n font-style: italic;\n}\n.card:hover .card-info {\n transform: translateY(-5%);\n}\n```\n这里主要通过` flex-direction: column;`属性让所有元素呈纵向排布，同时在让不同元素的字体呈现不同的样式，设计中英文混合结构形成视觉差\n\n- 底部链接部分\n\n\n![6](../images/名片创作-1701757134734.png)\n```html\n.card-social {\n transform: translateY(200%);\n display: flex;\n justify-content: space-around;\n width: 100%;\n opacity: 0;\n transition: transform .2s ease, opacity .2s ease;\n\n\n}\n\n.card-social__item {\n list-style: none;\n}\n\n.card-social__item svg {\n display: block;\n height: 18px;\n width: 18px;\n fill: #515F65;\n cursor: pointer;\n transition: fill 0.2s ease ,transform 0.2s ease;\n}\n\n.card-social__item svg use{\n   transform: scaleX(-1);\n}\n\n```\n为了增加这里的交互式体验，我为三个图标均设立了hover样式，让其hover属性不生效时候不显示，并设立` transition: fill 0.2s ease ,transform 0.2s ease;`属性让其从下部弹出，在实际的开发中可以使用组件库所提供的affix标签为其提供鼠标hover时候展示说明的效果，\n\n- 背景部分\n\n![7](../images/名片创作-1701757141855.png)\n\n![8](../images/名片创作-1701757146672.png)\n\n```less\n.card {\n width: 220px;\n height: 200px;\n padding: 2rem 1.5rem;\n transition: box-shadow .3s ease, transform .2s ease;\n text-align: center;\n position: relative;\n background: linear-gradient(135deg, #ebadb6 0%, #aceae1 100%);\n border-radius: 7px;\n box-shadow: 20px 20px 60px #bebebe, -20px -20px 60px #ffffff;\n}\n.card:hover {\n box-shadow: 0px 0px 30px 1px rgba(0, 255, 117, 0.30);\n  transform: scale(0.98);\n border-radius: 20px;\n \n}\n\n```\n此处主要通过背景虚化形成一种朦胧感，利用` box-shadow: 20px 20px 60px #bebebe, -20px -20px 60px #ffffff;`和`background: linear-gradient(135deg, #ebadb6 0%, #aceae1 100%);`属性形成色彩的错差感，当hover属性触发的时候在变清晰，形成良好的交互式体验\n\n### 灵感源泉\n\n- 其实我觉得程序员真的很需要美感，特别是开发岗，前端设计是一件很有成就感很幸福的事情，无所谓灵感，都是激励，正所谓我名片中所展示的\n>  So far all life is written with failure, but this does not prevent me from moving forward","slug":"名片创作","published":1,"updated":"2023-12-18T06:00:59.287Z","_id":"clprymdl0000mh4pkfkva0pho","layout":"post","photos":[],"link":"","content":"<p>在今年暑期参加字节跳动青训营接触了golang,<br>我个人热衷于it行业前沿科技领域的探索，乐于接触新的技术，<br>也希望通过实习来丰富个人的阅历和实践经验</p>\n<h3 id=\"创作目的\"><a href=\"#创作目的\" class=\"headerlink\" title=\"创作目的\"></a>创作目的</h3><ul>\n<li>进行前端开发这么久了，一直在做业务相关的需求，写组件样式的时候也是一种为了让组件不碍眼而写样式的心态，但是就我个人的看法，前端开发是和展示挂钩的，前端创作是能和用户产生共鸣的</li>\n<li>如今的互联⽹⾏业⼀直流传着⼀句话：“⽤户⾄上”，想要提升⽤户体验，Web前端的作⽤⾮常重要<br>所以我选择了个人名片创作，我想写一份能和用户产生交互式体验，带给用户视觉冲击，表达用户个性的个人名片！</li>\n</ul>\n<h3 id=\"作品展示\"><a href=\"#作品展示\" class=\"headerlink\" title=\"作品展示\"></a>作品展示</h3><ul>\n<li>由于掘金的md不让放视频，我截图做了展示</li>\n</ul>\n<p><img src=\"/../images/%E5%90%8D%E7%89%87%E5%88%9B%E4%BD%9C-1701757096669.png\" alt=\"1\"></p>\n<p><img src=\"/../images/%E5%90%8D%E7%89%87%E5%88%9B%E4%BD%9C-1701757102187.png\" alt=\"2\"></p>\n<p><img src=\"/../images/%E5%90%8D%E7%89%87%E5%88%9B%E4%BD%9C-1701757110488.png\" alt=\"3\"></p>\n<h3 id=\"作品架构与设计\"><a href=\"#作品架构与设计\" class=\"headerlink\" title=\"作品架构与设计\"></a>作品架构与设计</h3><h4 id=\"我将整个个人名片主要分为了三部分—–头像部分、个人说明部分、底部链接部分、背景部分\"><a href=\"#我将整个个人名片主要分为了三部分—–头像部分、个人说明部分、底部链接部分、背景部分\" class=\"headerlink\" title=\"我将整个个人名片主要分为了三部分—–头像部分、个人说明部分、底部链接部分、背景部分\"></a>我将整个个人名片主要分为了三部分—–头像部分、个人说明部分、底部链接部分、背景部分</h4><ul>\n<li>头像</li>\n</ul>\n<p><img src=\"/../images/%E5%90%8D%E7%89%87%E5%88%9B%E4%BD%9C-1701757118115.png\" alt=\"4\"></p>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//html</span></span><br><span class=\"line\"> &lt;<span class=\"selector-tag\">div</span> <span class=\"selector-tag\">class</span>=&quot;<span class=\"selector-tag\">card-avatar</span>&quot;&gt;&lt;/<span class=\"selector-tag\">div</span>&gt;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//css</span></span><br><span class=\"line\"> <span class=\"selector-class\">.card-avatar</span> &#123;</span><br><span class=\"line\"> <span class=\"attr\">--size</span>: 60px;</span><br><span class=\"line\"> <span class=\"attribute\">width</span>: <span class=\"built_in\">var</span>(--size);</span><br><span class=\"line\"> <span class=\"attribute\">height</span>: <span class=\"built_in\">var</span>(--size);</span><br><span class=\"line\"> <span class=\"attribute\">border-radius</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\"> <span class=\"attribute\">transition</span>: transform .<span class=\"number\">2s</span> ease;</span><br><span class=\"line\"> <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">1rem</span>;</span><br><span class=\"line\"> <span class=\"attribute\">background-image</span>: url(<span class=\"string\">&#x27;https://staraway.love/QQ%E5%9B%BE%E7%89%8720230107162416.jpg&#x27;</span>);</span><br><span class=\"line\"> <span class=\"attribute\">background-size</span>: cover;</span><br><span class=\"line\"> <span class=\"attribute\">background-repeat</span>: no-repeat;</span><br><span class=\"line\"> <span class=\"attribute\">background-position</span>: center center;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.card-avatar</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\"> <span class=\"attribute\">transform</span>: <span class=\"built_in\">scale</span>(<span class=\"number\">1.7</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>在这里主要通过<br>background-size: cover;<br>background-repeat: no-repeat;<br>background-position: center center;三个属性让图片呈现正常的展示效果</p>\n<p>其次设置hover的时候图片放大1.7倍，至于tansition属性则是继承了父类，详情看最后的源码，也可以去作品处查看</p>\n<ul>\n<li>个人说明部分</li>\n</ul>\n<p><img src=\"/../images/%E5%90%8D%E7%89%87%E5%88%9B%E4%BD%9C-1701757127095.png\" alt=\"5\"></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//html</span><br><span class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;card-title&quot;</span>&gt;</span>小星<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;card-subtitle&quot;</span>&gt;</span>专注于前端开发的后端工程师<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;text-body&quot;</span>&gt;</span>So far all life is written with failure, but this does not prevent me from moving forward<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">      </span><br><span class=\"line\">//css</span><br><span class=\"line\">.card-info &#123;</span><br><span class=\"line\"> display: flex;</span><br><span class=\"line\"> flex-direction: column;</span><br><span class=\"line\"> justify-content: center;</span><br><span class=\"line\"> align-items: center;</span><br><span class=\"line\"> transition: transform .2s ease, opacity .2s ease;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.card-title &#123;</span><br><span class=\"line\"> color: #333;</span><br><span class=\"line\"> font-size: 1.5em;</span><br><span class=\"line\"> font-weight: 600;</span><br><span class=\"line\"> line-height: 2rem;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">.card-subtitle &#123;</span><br><span class=\"line\"> color: #859ba8;</span><br><span class=\"line\"> font-size: 0.8em;</span><br><span class=\"line\"> margin-top: 5px;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.text-body &#123;</span><br><span class=\"line\">  margin-top: 10px;</span><br><span class=\"line\"> font-size: .8em;</span><br><span class=\"line\"> text-align: center;</span><br><span class=\"line\"> color: #6f6d78;</span><br><span class=\"line\"> font-weight: 400;</span><br><span class=\"line\"> font-style: italic;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.card:hover .card-info &#123;</span><br><span class=\"line\"> transform: translateY(-5%);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>这里主要通过<code> flex-direction: column;</code>属性让所有元素呈纵向排布，同时在让不同元素的字体呈现不同的样式，设计中英文混合结构形成视觉差</p>\n<ul>\n<li>底部链接部分</li>\n</ul>\n<p><img src=\"/../images/%E5%90%8D%E7%89%87%E5%88%9B%E4%BD%9C-1701757134734.png\" alt=\"6\"></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.card-social &#123;</span><br><span class=\"line\"> transform: translateY(200%);</span><br><span class=\"line\"> display: flex;</span><br><span class=\"line\"> justify-content: space-around;</span><br><span class=\"line\"> width: 100%;</span><br><span class=\"line\"> opacity: 0;</span><br><span class=\"line\"> transition: transform .2s ease, opacity .2s ease;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">.card-social__item &#123;</span><br><span class=\"line\"> list-style: none;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">.card-social__item svg &#123;</span><br><span class=\"line\"> display: block;</span><br><span class=\"line\"> height: 18px;</span><br><span class=\"line\"> width: 18px;</span><br><span class=\"line\"> fill: #515F65;</span><br><span class=\"line\"> cursor: pointer;</span><br><span class=\"line\"> transition: fill 0.2s ease ,transform 0.2s ease;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">.card-social__item svg use&#123;</span><br><span class=\"line\">   transform: scaleX(-1);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>为了增加这里的交互式体验，我为三个图标均设立了hover样式，让其hover属性不生效时候不显示，并设立<code> transition: fill 0.2s ease ,transform 0.2s ease;</code>属性让其从下部弹出，在实际的开发中可以使用组件库所提供的affix标签为其提供鼠标hover时候展示说明的效果，</p>\n<ul>\n<li>背景部分</li>\n</ul>\n<p><img src=\"/../images/%E5%90%8D%E7%89%87%E5%88%9B%E4%BD%9C-1701757141855.png\" alt=\"7\"></p>\n<p><img src=\"/../images/%E5%90%8D%E7%89%87%E5%88%9B%E4%BD%9C-1701757146672.png\" alt=\"8\"></p>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.card</span> &#123;</span><br><span class=\"line\"> <span class=\"attribute\">width</span>: <span class=\"number\">220px</span>;</span><br><span class=\"line\"> <span class=\"attribute\">height</span>: <span class=\"number\">200px</span>;</span><br><span class=\"line\"> <span class=\"attribute\">padding</span>: <span class=\"number\">2rem</span> <span class=\"number\">1.5rem</span>;</span><br><span class=\"line\"> <span class=\"attribute\">transition</span>: box-shadow .<span class=\"number\">3s</span> ease, transform .<span class=\"number\">2s</span> ease;</span><br><span class=\"line\"> <span class=\"attribute\">text-align</span>: center;</span><br><span class=\"line\"> <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\"> <span class=\"attribute\">background</span>: <span class=\"built_in\">linear-gradient</span>(<span class=\"number\">135deg</span>, <span class=\"number\">#ebadb6</span> <span class=\"number\">0%</span>, <span class=\"number\">#aceae1</span> <span class=\"number\">100%</span>);</span><br><span class=\"line\"> <span class=\"attribute\">border-radius</span>: <span class=\"number\">7px</span>;</span><br><span class=\"line\"> <span class=\"attribute\">box-shadow</span>: <span class=\"number\">20px</span> <span class=\"number\">20px</span> <span class=\"number\">60px</span> <span class=\"number\">#bebebe</span>, -<span class=\"number\">20px</span> -<span class=\"number\">20px</span> <span class=\"number\">60px</span> <span class=\"number\">#ffffff</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.card</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\"> <span class=\"attribute\">box-shadow</span>: <span class=\"number\">0px</span> <span class=\"number\">0px</span> <span class=\"number\">30px</span> <span class=\"number\">1px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>, <span class=\"number\">255</span>, <span class=\"number\">117</span>, <span class=\"number\">0.30</span>);</span><br><span class=\"line\">  <span class=\"attribute\">transform</span>: <span class=\"built_in\">scale</span>(<span class=\"number\">0.98</span>);</span><br><span class=\"line\"> <span class=\"attribute\">border-radius</span>: <span class=\"number\">20px</span>;</span><br><span class=\"line\"> </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>此处主要通过背景虚化形成一种朦胧感，利用<code> box-shadow: 20px 20px 60px #bebebe, -20px -20px 60px #ffffff;</code>和<code>background: linear-gradient(135deg, #ebadb6 0%, #aceae1 100%);</code>属性形成色彩的错差感，当hover属性触发的时候在变清晰，形成良好的交互式体验</p>\n<h3 id=\"灵感源泉\"><a href=\"#灵感源泉\" class=\"headerlink\" title=\"灵感源泉\"></a>灵感源泉</h3><ul>\n<li>其实我觉得程序员真的很需要美感，特别是开发岗，前端设计是一件很有成就感很幸福的事情，无所谓灵感，都是激励，正所谓我名片中所展示的<blockquote>\n<p> So far all life is written with failure, but this does not prevent me from moving forward</p>\n</blockquote>\n</li>\n</ul>\n","site":{"data":{"about":[{"class_name":"关于页","subtitle":"多一点努力，努力多一点✨","avatarImg":"https://avatars.githubusercontent.com/u/106024593?v=4","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱"]},"name":"xingxing","description":"是一名 后端工程师、学生、独立开发者","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"YNU,计算机科学与技术","color":"#357ef5"}]},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，昆明市","background":"/img/location.png","backgroundDark":"/img/locationDark.png"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2003,"selfInfoTips2":"云南大学","selfInfoContent2":"计算机科学与技术","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"xingxing的日常。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"/img/beautifulImg.jpg","essay_list":[{"content":"发现一个免费拿图的网站诶，还是bing好用，垃圾百度！但是好像要翻墙才可以下载原图，不过可以直接复制图片地址，然后用迅雷下载，也是可以的（图片大小翻五倍）。","date":"2023/11/31","image":["/img/essayImg/pixabay.png"],"link":"https://pixabay.com/zh/"},{"content":"寒假实习求职顺利（求神拜佛）","date":"2023/12/2"},{"content":"bilibili给个机会！！！","date":"2023/12/7"},{"content":"许愿oc！！！","date":"2023/12/19"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}],"bangumis":{"wantWatch":[{"title":"百妖谱 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/5424062d0821f89ea549533d8a2c3cfff2076766.png","totalCount":"全12话","id":28230717,"follow":"527.1 万","view":"1.2 亿","danmaku":"47.2 万","coin":"42.5 万","score":9.2,"des":"桃都的灵医桃夭带着小和尚磨牙、第一季收服的小狐妖、桃都老邻居柳公子一起继续第一季的故事，为了寻找失踪的百妖谱而云游四方，在途中遇到应声、化蛇、媪姬、照海四个妖怪，为妖怪治疗各种疑难杂症。..."},{"title":"伍六七之玄武国篇","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/00843865ea13702eccc4efd64c313fd4c8029c6b.jpg","totalCount":"全10话","id":28232253,"follow":"1031.1 万","view":"4.7 亿","danmaku":"186.3 万","coin":"405.6 万","score":9.8,"des":"为了保护小鸡岛居民和这里平静的生活，伍六七和他的伙伴大保和小飞开启了去往玄武国的冒险旅程，去寻找身世的真相和解救小岛的办法，等待他们的又将是更多的未知与奇遇。..."},{"title":"伍六七之暗影宿命","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/6e5c5848ff8943fd6366e943a4f75b98598c50c6.png","totalCount":"全10话","id":28412536,"follow":"1250.4 万","view":"5.1 亿","danmaku":"110.7 万","coin":"410.9 万","score":9.2,"des":"随着伍六七回到玄武国寻找他的身世，亦引起了七大暗影刺客的追捕。然而每一位暗影刺客都带着不同的目的和不同的过去，青凤的阴谋也在此浮出了水面。而此时等待着小鸡岛上的人民，又将是另一个危机，伍六七将如何面对..."}],"watching":[{"title":"灵笼 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cf5f6595ece017215e7d61482f022094479dff37.png","totalCount":"-","id":21123554,"follow":"910.5 万","view":"1586.9 万","danmaku":"7.0 万","coin":"35.1 万","score":"-","des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."},{"title":"灵笼","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cfab7e0fbdb4786ff4e885d050b7cf37f8829486.png","totalCount":"全16话","id":23432,"follow":"903.9 万","view":"6.1 亿","danmaku":"674.4 万","coin":"677.7 万","score":9.6,"des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."}],"watched":[{"title":"时光代理人","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/1fe1cd0ec59b790fea83a5726cdc0fa3189c4394.png","totalCount":"全24话","id":28230742,"follow":"879.2 万","view":"5.0 亿","danmaku":"399.9 万","coin":"418.4 万","score":9.7,"des":"为了找到一系列罪案的操纵者，程小时求助于肖力，找寻一切藏匿于暗中的蛛丝马迹。但是拥有未知超能力的凶手在阴影之中，也从没有停止过阴谋的脚步。神秘能力者如影随形，身边伙伴接连遇害，程小时屡次身陷险境。随着..."},{"title":"元龙 第三季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/b3a9b5975059e074593b9381322ad8c423be7b89.png","totalCount":"全16话","id":28235400,"follow":"620.5 万","view":"1.5 亿","danmaku":"24.0 万","coin":"10.7 万","score":6.8,"des":"王胜于现代世界醒来，一切是如此真实而又如梦似幻。皇城遗女，戴家少主的出现更让局势扑朔迷离。而一场由小搏大的赌局，也让王胜渐渐意识到这不仅仅是他和戴家少主两个人的较量。恰时逢盛宴，天下汇集，王胜不得不再..."},{"title":"三体","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/9870f898b8a39bbb8048f34317f8d78a02cc1770.png","totalCount":"全15话","id":4315402,"follow":"690.6 万","view":"6.2 亿","danmaku":"179.3 万","coin":"230.7 万","score":8.2,"des":"无数细线横亘在星空之中，如同一把巨大的刷子。三体星舰队将于400年后抵达。遥远蝴蝶扇动着翅膀，也改变了罗辑的命运，轰然打开的门后是世界中心——面壁计划开启。同时，智子所创建的破壁室内，破壁人一一就位…..."},{"title":"狐妖小红娘","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/cbb20ee03e97a9f3ad2e1506a10fd1271f1c584a.jpg","totalCount":"全100话","id":2543,"follow":"691.5 万","view":"8.7 亿","danmaku":"1052.9 万","coin":"259.8 万","score":9.5,"des":"根据古典小说记载，世上有人有妖，妖会与人相恋，妖寿命千年，人的寿命有限，人死了，妖活着。人会投胎转世，但投胎以后不记得上辈子的爱。妖如果痴情的话，就去找狐妖“购买”一项服务，让投胎转世的人回忆起前世的..."}]}}},"cover_type":"img","excerpt":"","more":"<p>在今年暑期参加字节跳动青训营接触了golang,<br>我个人热衷于it行业前沿科技领域的探索，乐于接触新的技术，<br>也希望通过实习来丰富个人的阅历和实践经验</p>\n<h3 id=\"创作目的\"><a href=\"#创作目的\" class=\"headerlink\" title=\"创作目的\"></a>创作目的</h3><ul>\n<li>进行前端开发这么久了，一直在做业务相关的需求，写组件样式的时候也是一种为了让组件不碍眼而写样式的心态，但是就我个人的看法，前端开发是和展示挂钩的，前端创作是能和用户产生共鸣的</li>\n<li>如今的互联⽹⾏业⼀直流传着⼀句话：“⽤户⾄上”，想要提升⽤户体验，Web前端的作⽤⾮常重要<br>所以我选择了个人名片创作，我想写一份能和用户产生交互式体验，带给用户视觉冲击，表达用户个性的个人名片！</li>\n</ul>\n<h3 id=\"作品展示\"><a href=\"#作品展示\" class=\"headerlink\" title=\"作品展示\"></a>作品展示</h3><ul>\n<li>由于掘金的md不让放视频，我截图做了展示</li>\n</ul>\n<p><img src=\"/../images/%E5%90%8D%E7%89%87%E5%88%9B%E4%BD%9C-1701757096669.png\" alt=\"1\"></p>\n<p><img src=\"/../images/%E5%90%8D%E7%89%87%E5%88%9B%E4%BD%9C-1701757102187.png\" alt=\"2\"></p>\n<p><img src=\"/../images/%E5%90%8D%E7%89%87%E5%88%9B%E4%BD%9C-1701757110488.png\" alt=\"3\"></p>\n<h3 id=\"作品架构与设计\"><a href=\"#作品架构与设计\" class=\"headerlink\" title=\"作品架构与设计\"></a>作品架构与设计</h3><h4 id=\"我将整个个人名片主要分为了三部分—–头像部分、个人说明部分、底部链接部分、背景部分\"><a href=\"#我将整个个人名片主要分为了三部分—–头像部分、个人说明部分、底部链接部分、背景部分\" class=\"headerlink\" title=\"我将整个个人名片主要分为了三部分—–头像部分、个人说明部分、底部链接部分、背景部分\"></a>我将整个个人名片主要分为了三部分—–头像部分、个人说明部分、底部链接部分、背景部分</h4><ul>\n<li>头像</li>\n</ul>\n<p><img src=\"/../images/%E5%90%8D%E7%89%87%E5%88%9B%E4%BD%9C-1701757118115.png\" alt=\"4\"></p>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//html</span></span><br><span class=\"line\"> &lt;<span class=\"selector-tag\">div</span> <span class=\"selector-tag\">class</span>=&quot;<span class=\"selector-tag\">card-avatar</span>&quot;&gt;&lt;/<span class=\"selector-tag\">div</span>&gt;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//css</span></span><br><span class=\"line\"> <span class=\"selector-class\">.card-avatar</span> &#123;</span><br><span class=\"line\"> <span class=\"attr\">--size</span>: 60px;</span><br><span class=\"line\"> <span class=\"attribute\">width</span>: <span class=\"built_in\">var</span>(--size);</span><br><span class=\"line\"> <span class=\"attribute\">height</span>: <span class=\"built_in\">var</span>(--size);</span><br><span class=\"line\"> <span class=\"attribute\">border-radius</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\"> <span class=\"attribute\">transition</span>: transform .<span class=\"number\">2s</span> ease;</span><br><span class=\"line\"> <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">1rem</span>;</span><br><span class=\"line\"> <span class=\"attribute\">background-image</span>: url(<span class=\"string\">&#x27;https://staraway.love/QQ%E5%9B%BE%E7%89%8720230107162416.jpg&#x27;</span>);</span><br><span class=\"line\"> <span class=\"attribute\">background-size</span>: cover;</span><br><span class=\"line\"> <span class=\"attribute\">background-repeat</span>: no-repeat;</span><br><span class=\"line\"> <span class=\"attribute\">background-position</span>: center center;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.card-avatar</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\"> <span class=\"attribute\">transform</span>: <span class=\"built_in\">scale</span>(<span class=\"number\">1.7</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>在这里主要通过<br>background-size: cover;<br>background-repeat: no-repeat;<br>background-position: center center;三个属性让图片呈现正常的展示效果</p>\n<p>其次设置hover的时候图片放大1.7倍，至于tansition属性则是继承了父类，详情看最后的源码，也可以去作品处查看</p>\n<ul>\n<li>个人说明部分</li>\n</ul>\n<p><img src=\"/../images/%E5%90%8D%E7%89%87%E5%88%9B%E4%BD%9C-1701757127095.png\" alt=\"5\"></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//html</span><br><span class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;card-title&quot;</span>&gt;</span>小星<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;card-subtitle&quot;</span>&gt;</span>专注于前端开发的后端工程师<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;text-body&quot;</span>&gt;</span>So far all life is written with failure, but this does not prevent me from moving forward<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">      </span><br><span class=\"line\">//css</span><br><span class=\"line\">.card-info &#123;</span><br><span class=\"line\"> display: flex;</span><br><span class=\"line\"> flex-direction: column;</span><br><span class=\"line\"> justify-content: center;</span><br><span class=\"line\"> align-items: center;</span><br><span class=\"line\"> transition: transform .2s ease, opacity .2s ease;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.card-title &#123;</span><br><span class=\"line\"> color: #333;</span><br><span class=\"line\"> font-size: 1.5em;</span><br><span class=\"line\"> font-weight: 600;</span><br><span class=\"line\"> line-height: 2rem;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">.card-subtitle &#123;</span><br><span class=\"line\"> color: #859ba8;</span><br><span class=\"line\"> font-size: 0.8em;</span><br><span class=\"line\"> margin-top: 5px;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.text-body &#123;</span><br><span class=\"line\">  margin-top: 10px;</span><br><span class=\"line\"> font-size: .8em;</span><br><span class=\"line\"> text-align: center;</span><br><span class=\"line\"> color: #6f6d78;</span><br><span class=\"line\"> font-weight: 400;</span><br><span class=\"line\"> font-style: italic;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.card:hover .card-info &#123;</span><br><span class=\"line\"> transform: translateY(-5%);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>这里主要通过<code> flex-direction: column;</code>属性让所有元素呈纵向排布，同时在让不同元素的字体呈现不同的样式，设计中英文混合结构形成视觉差</p>\n<ul>\n<li>底部链接部分</li>\n</ul>\n<p><img src=\"/../images/%E5%90%8D%E7%89%87%E5%88%9B%E4%BD%9C-1701757134734.png\" alt=\"6\"></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.card-social &#123;</span><br><span class=\"line\"> transform: translateY(200%);</span><br><span class=\"line\"> display: flex;</span><br><span class=\"line\"> justify-content: space-around;</span><br><span class=\"line\"> width: 100%;</span><br><span class=\"line\"> opacity: 0;</span><br><span class=\"line\"> transition: transform .2s ease, opacity .2s ease;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">.card-social__item &#123;</span><br><span class=\"line\"> list-style: none;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">.card-social__item svg &#123;</span><br><span class=\"line\"> display: block;</span><br><span class=\"line\"> height: 18px;</span><br><span class=\"line\"> width: 18px;</span><br><span class=\"line\"> fill: #515F65;</span><br><span class=\"line\"> cursor: pointer;</span><br><span class=\"line\"> transition: fill 0.2s ease ,transform 0.2s ease;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">.card-social__item svg use&#123;</span><br><span class=\"line\">   transform: scaleX(-1);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>为了增加这里的交互式体验，我为三个图标均设立了hover样式，让其hover属性不生效时候不显示，并设立<code> transition: fill 0.2s ease ,transform 0.2s ease;</code>属性让其从下部弹出，在实际的开发中可以使用组件库所提供的affix标签为其提供鼠标hover时候展示说明的效果，</p>\n<ul>\n<li>背景部分</li>\n</ul>\n<p><img src=\"/../images/%E5%90%8D%E7%89%87%E5%88%9B%E4%BD%9C-1701757141855.png\" alt=\"7\"></p>\n<p><img src=\"/../images/%E5%90%8D%E7%89%87%E5%88%9B%E4%BD%9C-1701757146672.png\" alt=\"8\"></p>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.card</span> &#123;</span><br><span class=\"line\"> <span class=\"attribute\">width</span>: <span class=\"number\">220px</span>;</span><br><span class=\"line\"> <span class=\"attribute\">height</span>: <span class=\"number\">200px</span>;</span><br><span class=\"line\"> <span class=\"attribute\">padding</span>: <span class=\"number\">2rem</span> <span class=\"number\">1.5rem</span>;</span><br><span class=\"line\"> <span class=\"attribute\">transition</span>: box-shadow .<span class=\"number\">3s</span> ease, transform .<span class=\"number\">2s</span> ease;</span><br><span class=\"line\"> <span class=\"attribute\">text-align</span>: center;</span><br><span class=\"line\"> <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\"> <span class=\"attribute\">background</span>: <span class=\"built_in\">linear-gradient</span>(<span class=\"number\">135deg</span>, <span class=\"number\">#ebadb6</span> <span class=\"number\">0%</span>, <span class=\"number\">#aceae1</span> <span class=\"number\">100%</span>);</span><br><span class=\"line\"> <span class=\"attribute\">border-radius</span>: <span class=\"number\">7px</span>;</span><br><span class=\"line\"> <span class=\"attribute\">box-shadow</span>: <span class=\"number\">20px</span> <span class=\"number\">20px</span> <span class=\"number\">60px</span> <span class=\"number\">#bebebe</span>, -<span class=\"number\">20px</span> -<span class=\"number\">20px</span> <span class=\"number\">60px</span> <span class=\"number\">#ffffff</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.card</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\"> <span class=\"attribute\">box-shadow</span>: <span class=\"number\">0px</span> <span class=\"number\">0px</span> <span class=\"number\">30px</span> <span class=\"number\">1px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>, <span class=\"number\">255</span>, <span class=\"number\">117</span>, <span class=\"number\">0.30</span>);</span><br><span class=\"line\">  <span class=\"attribute\">transform</span>: <span class=\"built_in\">scale</span>(<span class=\"number\">0.98</span>);</span><br><span class=\"line\"> <span class=\"attribute\">border-radius</span>: <span class=\"number\">20px</span>;</span><br><span class=\"line\"> </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>此处主要通过背景虚化形成一种朦胧感，利用<code> box-shadow: 20px 20px 60px #bebebe, -20px -20px 60px #ffffff;</code>和<code>background: linear-gradient(135deg, #ebadb6 0%, #aceae1 100%);</code>属性形成色彩的错差感，当hover属性触发的时候在变清晰，形成良好的交互式体验</p>\n<h3 id=\"灵感源泉\"><a href=\"#灵感源泉\" class=\"headerlink\" title=\"灵感源泉\"></a>灵感源泉</h3><ul>\n<li>其实我觉得程序员真的很需要美感，特别是开发岗，前端设计是一件很有成就感很幸福的事情，无所谓灵感，都是激励，正所谓我名片中所展示的<blockquote>\n<p> So far all life is written with failure, but this does not prevent me from moving forward</p>\n</blockquote>\n</li>\n</ul>\n"},{"title":"dp总结篇————背包问题","keywords":"背包问题","description":"背包问题","top_img":"/img/suanfa.png","comments":1,"cover":"/img/suanfa.png","copyright_author":"xingxing","copyright_author_href":"www.staraway.asia","copyright_info":"可转载哦","date":"2023-12-06T01:51:46.000Z","_content":"\n\n\n\n\n## 做题步骤\n1. 确定dp数组（dp table）以及下标的含义\n2. 确定递推公式\n3. dp数组如何初始化\n4. 确定遍历顺序\n5. 举例推导dp数组\n\n\n## 背包递推公式\n\n问能否能装满背包（或者最多装多少）：dp[j] = max(dp[j], dp[j - nums[i]] + nums[i]); ，对应题目如下：\n* [动态规划：416.分割等和子集](https://programmercarl.com/0416.分割等和子集.html)\n* [动态规划：1049.最后一块石头的重量 II](https://programmercarl.com/1049.最后一块石头的重量II.html)\n\n问装满背包有几种方法：dp[j] += dp[j - nums[i]] ，对应题目如下：\n* [动态规划：494.目标和](https://programmercarl.com/0494.目标和.html)\n* [动态规划：518. 零钱兑换 II](https://programmercarl.com/0518.零钱兑换II.html)\n* [动态规划：377.组合总和Ⅳ](https://programmercarl.com/0377.组合总和Ⅳ.html)\n* [动态规划：70. 爬楼梯进阶版（完全背包）](https://programmercarl.com/0070.爬楼梯完全背包版本.html)\n\n问背包装满最大价值：dp[j] = max(dp[j], dp[j - weight[i]] + value[i]); ，对应题目如下：\n* [动态规划：474.一和零](https://programmercarl.com/0474.一和零.html)\n\n问装满背包所有物品的最小个数：dp[j] =  min(dp[j - coins[i]] + 1, dp[j]); ，对应题目如下：\n* [动态规划：322.零钱兑换](https://programmercarl.com/0322.零钱兑换.html)\n* [动态规划：279.完全平方数](https://programmercarl.com/0279.完全平方数.html)\n\n\n## 遍历顺序\n\n### 01背包\n\n- 二维dp数组01背包先遍历物品还是先遍历背包都是可以的，且第二层for循环是从小到大遍历。\n\n一维dp数组01背包只能先遍历物品再遍历背包容量，且第二层for循环是从大到小遍历。\n\n### 完全背包\n\n但是仅仅是纯完全背包的遍历顺序是这样的，题目稍有变化，两个for循环的先后顺序就不一样了。\n\n**如果求组合数就是外层for循环遍历物品，内层for遍历背包**。\n\n**如果求排列数就是外层for遍历背包，内层for循环遍历物品**。\n\n相关题目如下：\n\n* 求组合数：[动态规划：518.零钱兑换II](https://programmercarl.com/0518.零钱兑换II.html)\n* 求排列数：[动态规划：377. 组合总和 Ⅳ](https://mp.weixin.qq.com/s/Iixw0nahJWQgbqVNk8k6gA)、[动态规划：70. 爬楼梯进阶版（完全背包）](https://programmercarl.com/0070.爬楼梯完全背包版本.html)\n\n如果求最小数，那么两层for循环的先后顺序就无所谓了，相关题目如下：\n\n* 求最小数：[动态规划：322. 零钱兑换](https://programmercarl.com/0322.零钱兑换.html)、[动态规划：279.完全平方数](https://programmercarl.com/0279.完全平方数.html)\n","source":"_posts/dp总结篇.md","raw":"---\ntitle: dp总结篇————背包问题\ntags:\n  - 就业\n  - 背包问题\ncategories: 算法\nkeywords: 背包问题\ndescription: 背包问题          \ntop_img: /img/suanfa.png\ncomments: true\ncover: /img/suanfa.png\ncopyright_author: xingxing\ncopyright_author_href: www.staraway.asia\ncopyright_info: 可转载哦\ndate: 2023-12-06 09:51:46\n---\n\n\n\n\n\n## 做题步骤\n1. 确定dp数组（dp table）以及下标的含义\n2. 确定递推公式\n3. dp数组如何初始化\n4. 确定遍历顺序\n5. 举例推导dp数组\n\n\n## 背包递推公式\n\n问能否能装满背包（或者最多装多少）：dp[j] = max(dp[j], dp[j - nums[i]] + nums[i]); ，对应题目如下：\n* [动态规划：416.分割等和子集](https://programmercarl.com/0416.分割等和子集.html)\n* [动态规划：1049.最后一块石头的重量 II](https://programmercarl.com/1049.最后一块石头的重量II.html)\n\n问装满背包有几种方法：dp[j] += dp[j - nums[i]] ，对应题目如下：\n* [动态规划：494.目标和](https://programmercarl.com/0494.目标和.html)\n* [动态规划：518. 零钱兑换 II](https://programmercarl.com/0518.零钱兑换II.html)\n* [动态规划：377.组合总和Ⅳ](https://programmercarl.com/0377.组合总和Ⅳ.html)\n* [动态规划：70. 爬楼梯进阶版（完全背包）](https://programmercarl.com/0070.爬楼梯完全背包版本.html)\n\n问背包装满最大价值：dp[j] = max(dp[j], dp[j - weight[i]] + value[i]); ，对应题目如下：\n* [动态规划：474.一和零](https://programmercarl.com/0474.一和零.html)\n\n问装满背包所有物品的最小个数：dp[j] =  min(dp[j - coins[i]] + 1, dp[j]); ，对应题目如下：\n* [动态规划：322.零钱兑换](https://programmercarl.com/0322.零钱兑换.html)\n* [动态规划：279.完全平方数](https://programmercarl.com/0279.完全平方数.html)\n\n\n## 遍历顺序\n\n### 01背包\n\n- 二维dp数组01背包先遍历物品还是先遍历背包都是可以的，且第二层for循环是从小到大遍历。\n\n一维dp数组01背包只能先遍历物品再遍历背包容量，且第二层for循环是从大到小遍历。\n\n### 完全背包\n\n但是仅仅是纯完全背包的遍历顺序是这样的，题目稍有变化，两个for循环的先后顺序就不一样了。\n\n**如果求组合数就是外层for循环遍历物品，内层for遍历背包**。\n\n**如果求排列数就是外层for遍历背包，内层for循环遍历物品**。\n\n相关题目如下：\n\n* 求组合数：[动态规划：518.零钱兑换II](https://programmercarl.com/0518.零钱兑换II.html)\n* 求排列数：[动态规划：377. 组合总和 Ⅳ](https://mp.weixin.qq.com/s/Iixw0nahJWQgbqVNk8k6gA)、[动态规划：70. 爬楼梯进阶版（完全背包）](https://programmercarl.com/0070.爬楼梯完全背包版本.html)\n\n如果求最小数，那么两层for循环的先后顺序就无所谓了，相关题目如下：\n\n* 求最小数：[动态规划：322. 零钱兑换](https://programmercarl.com/0322.零钱兑换.html)、[动态规划：279.完全平方数](https://programmercarl.com/0279.完全平方数.html)\n","slug":"dp总结篇","published":1,"updated":"2023-12-07T13:19:45.964Z","_id":"clpt6ierc000020pk0aac0hrg","layout":"post","photos":[],"link":"","content":"<h2 id=\"做题步骤\"><a href=\"#做题步骤\" class=\"headerlink\" title=\"做题步骤\"></a>做题步骤</h2><ol>\n<li>确定dp数组（dp table）以及下标的含义</li>\n<li>确定递推公式</li>\n<li>dp数组如何初始化</li>\n<li>确定遍历顺序</li>\n<li>举例推导dp数组</li>\n</ol>\n<h2 id=\"背包递推公式\"><a href=\"#背包递推公式\" class=\"headerlink\" title=\"背包递推公式\"></a>背包递推公式</h2><p>问能否能装满背包（或者最多装多少）：dp[j] &#x3D; max(dp[j], dp[j - nums[i]] + nums[i]); ，对应题目如下：</p>\n<ul>\n<li><a href=\"https://programmercarl.com/0416.%E5%88%86%E5%89%B2%E7%AD%89%E5%92%8C%E5%AD%90%E9%9B%86.html\">动态规划：416.分割等和子集</a></li>\n<li><a href=\"https://programmercarl.com/1049.%E6%9C%80%E5%90%8E%E4%B8%80%E5%9D%97%E7%9F%B3%E5%A4%B4%E7%9A%84%E9%87%8D%E9%87%8FII.html\">动态规划：1049.最后一块石头的重量 II</a></li>\n</ul>\n<p>问装满背包有几种方法：dp[j] +&#x3D; dp[j - nums[i]] ，对应题目如下：</p>\n<ul>\n<li><a href=\"https://programmercarl.com/0494.%E7%9B%AE%E6%A0%87%E5%92%8C.html\">动态规划：494.目标和</a></li>\n<li><a href=\"https://programmercarl.com/0518.%E9%9B%B6%E9%92%B1%E5%85%91%E6%8D%A2II.html\">动态规划：518. 零钱兑换 II</a></li>\n<li><a href=\"https://programmercarl.com/0377.%E7%BB%84%E5%90%88%E6%80%BB%E5%92%8C%E2%85%A3.html\">动态规划：377.组合总和Ⅳ</a></li>\n<li><a href=\"https://programmercarl.com/0070.%E7%88%AC%E6%A5%BC%E6%A2%AF%E5%AE%8C%E5%85%A8%E8%83%8C%E5%8C%85%E7%89%88%E6%9C%AC.html\">动态规划：70. 爬楼梯进阶版（完全背包）</a></li>\n</ul>\n<p>问背包装满最大价值：dp[j] &#x3D; max(dp[j], dp[j - weight[i]] + value[i]); ，对应题目如下：</p>\n<ul>\n<li><a href=\"https://programmercarl.com/0474.%E4%B8%80%E5%92%8C%E9%9B%B6.html\">动态规划：474.一和零</a></li>\n</ul>\n<p>问装满背包所有物品的最小个数：dp[j] &#x3D;  min(dp[j - coins[i]] + 1, dp[j]); ，对应题目如下：</p>\n<ul>\n<li><a href=\"https://programmercarl.com/0322.%E9%9B%B6%E9%92%B1%E5%85%91%E6%8D%A2.html\">动态规划：322.零钱兑换</a></li>\n<li><a href=\"https://programmercarl.com/0279.%E5%AE%8C%E5%85%A8%E5%B9%B3%E6%96%B9%E6%95%B0.html\">动态规划：279.完全平方数</a></li>\n</ul>\n<h2 id=\"遍历顺序\"><a href=\"#遍历顺序\" class=\"headerlink\" title=\"遍历顺序\"></a>遍历顺序</h2><h3 id=\"01背包\"><a href=\"#01背包\" class=\"headerlink\" title=\"01背包\"></a>01背包</h3><ul>\n<li>二维dp数组01背包先遍历物品还是先遍历背包都是可以的，且第二层for循环是从小到大遍历。</li>\n</ul>\n<p>一维dp数组01背包只能先遍历物品再遍历背包容量，且第二层for循环是从大到小遍历。</p>\n<h3 id=\"完全背包\"><a href=\"#完全背包\" class=\"headerlink\" title=\"完全背包\"></a>完全背包</h3><p>但是仅仅是纯完全背包的遍历顺序是这样的，题目稍有变化，两个for循环的先后顺序就不一样了。</p>\n<p><strong>如果求组合数就是外层for循环遍历物品，内层for遍历背包</strong>。</p>\n<p><strong>如果求排列数就是外层for遍历背包，内层for循环遍历物品</strong>。</p>\n<p>相关题目如下：</p>\n<ul>\n<li>求组合数：<a href=\"https://programmercarl.com/0518.%E9%9B%B6%E9%92%B1%E5%85%91%E6%8D%A2II.html\">动态规划：518.零钱兑换II</a></li>\n<li>求排列数：<a href=\"https://mp.weixin.qq.com/s/Iixw0nahJWQgbqVNk8k6gA\">动态规划：377. 组合总和 Ⅳ</a>、<a href=\"https://programmercarl.com/0070.%E7%88%AC%E6%A5%BC%E6%A2%AF%E5%AE%8C%E5%85%A8%E8%83%8C%E5%8C%85%E7%89%88%E6%9C%AC.html\">动态规划：70. 爬楼梯进阶版（完全背包）</a></li>\n</ul>\n<p>如果求最小数，那么两层for循环的先后顺序就无所谓了，相关题目如下：</p>\n<ul>\n<li>求最小数：<a href=\"https://programmercarl.com/0322.%E9%9B%B6%E9%92%B1%E5%85%91%E6%8D%A2.html\">动态规划：322. 零钱兑换</a>、<a href=\"https://programmercarl.com/0279.%E5%AE%8C%E5%85%A8%E5%B9%B3%E6%96%B9%E6%95%B0.html\">动态规划：279.完全平方数</a></li>\n</ul>\n","site":{"data":{"about":[{"class_name":"关于页","subtitle":"多一点努力，努力多一点✨","avatarImg":"https://avatars.githubusercontent.com/u/106024593?v=4","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱"]},"name":"xingxing","description":"是一名 后端工程师、学生、独立开发者","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"YNU,计算机科学与技术","color":"#357ef5"}]},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，昆明市","background":"/img/location.png","backgroundDark":"/img/locationDark.png"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2003,"selfInfoTips2":"云南大学","selfInfoContent2":"计算机科学与技术","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"xingxing的日常。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"/img/beautifulImg.jpg","essay_list":[{"content":"发现一个免费拿图的网站诶，还是bing好用，垃圾百度！但是好像要翻墙才可以下载原图，不过可以直接复制图片地址，然后用迅雷下载，也是可以的（图片大小翻五倍）。","date":"2023/11/31","image":["/img/essayImg/pixabay.png"],"link":"https://pixabay.com/zh/"},{"content":"寒假实习求职顺利（求神拜佛）","date":"2023/12/2"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}],"bangumis":{"wantWatch":[{"title":"百妖谱 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/5424062d0821f89ea549533d8a2c3cfff2076766.png","totalCount":"全12话","id":28230717,"follow":"527.1 万","view":"1.2 亿","danmaku":"47.2 万","coin":"42.5 万","score":9.2,"des":"桃都的灵医桃夭带着小和尚磨牙、第一季收服的小狐妖、桃都老邻居柳公子一起继续第一季的故事，为了寻找失踪的百妖谱而云游四方，在途中遇到应声、化蛇、媪姬、照海四个妖怪，为妖怪治疗各种疑难杂症。..."},{"title":"伍六七之玄武国篇","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/00843865ea13702eccc4efd64c313fd4c8029c6b.jpg","totalCount":"全10话","id":28232253,"follow":"1031.1 万","view":"4.7 亿","danmaku":"186.3 万","coin":"405.6 万","score":9.8,"des":"为了保护小鸡岛居民和这里平静的生活，伍六七和他的伙伴大保和小飞开启了去往玄武国的冒险旅程，去寻找身世的真相和解救小岛的办法，等待他们的又将是更多的未知与奇遇。..."},{"title":"伍六七之暗影宿命","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/6e5c5848ff8943fd6366e943a4f75b98598c50c6.png","totalCount":"全10话","id":28412536,"follow":"1250.4 万","view":"5.1 亿","danmaku":"110.7 万","coin":"410.9 万","score":9.2,"des":"随着伍六七回到玄武国寻找他的身世，亦引起了七大暗影刺客的追捕。然而每一位暗影刺客都带着不同的目的和不同的过去，青凤的阴谋也在此浮出了水面。而此时等待着小鸡岛上的人民，又将是另一个危机，伍六七将如何面对..."}],"watching":[{"title":"灵笼 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cf5f6595ece017215e7d61482f022094479dff37.png","totalCount":"-","id":21123554,"follow":"910.5 万","view":"1586.9 万","danmaku":"7.0 万","coin":"35.1 万","score":"-","des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."},{"title":"灵笼","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cfab7e0fbdb4786ff4e885d050b7cf37f8829486.png","totalCount":"全16话","id":23432,"follow":"903.9 万","view":"6.1 亿","danmaku":"674.4 万","coin":"677.7 万","score":9.6,"des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."}],"watched":[{"title":"时光代理人","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/1fe1cd0ec59b790fea83a5726cdc0fa3189c4394.png","totalCount":"全24话","id":28230742,"follow":"879.2 万","view":"5.0 亿","danmaku":"399.9 万","coin":"418.4 万","score":9.7,"des":"为了找到一系列罪案的操纵者，程小时求助于肖力，找寻一切藏匿于暗中的蛛丝马迹。但是拥有未知超能力的凶手在阴影之中，也从没有停止过阴谋的脚步。神秘能力者如影随形，身边伙伴接连遇害，程小时屡次身陷险境。随着..."},{"title":"元龙 第三季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/b3a9b5975059e074593b9381322ad8c423be7b89.png","totalCount":"全16话","id":28235400,"follow":"620.5 万","view":"1.5 亿","danmaku":"24.0 万","coin":"10.7 万","score":6.8,"des":"王胜于现代世界醒来，一切是如此真实而又如梦似幻。皇城遗女，戴家少主的出现更让局势扑朔迷离。而一场由小搏大的赌局，也让王胜渐渐意识到这不仅仅是他和戴家少主两个人的较量。恰时逢盛宴，天下汇集，王胜不得不再..."},{"title":"三体","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/9870f898b8a39bbb8048f34317f8d78a02cc1770.png","totalCount":"全15话","id":4315402,"follow":"690.6 万","view":"6.2 亿","danmaku":"179.3 万","coin":"230.7 万","score":8.2,"des":"无数细线横亘在星空之中，如同一把巨大的刷子。三体星舰队将于400年后抵达。遥远蝴蝶扇动着翅膀，也改变了罗辑的命运，轰然打开的门后是世界中心——面壁计划开启。同时，智子所创建的破壁室内，破壁人一一就位…..."},{"title":"狐妖小红娘","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/cbb20ee03e97a9f3ad2e1506a10fd1271f1c584a.jpg","totalCount":"全100话","id":2543,"follow":"691.5 万","view":"8.7 亿","danmaku":"1052.9 万","coin":"259.8 万","score":9.5,"des":"根据古典小说记载，世上有人有妖，妖会与人相恋，妖寿命千年，人的寿命有限，人死了，妖活着。人会投胎转世，但投胎以后不记得上辈子的爱。妖如果痴情的话，就去找狐妖“购买”一项服务，让投胎转世的人回忆起前世的..."}]}}},"cover_type":"img","excerpt":"","more":"<h2 id=\"做题步骤\"><a href=\"#做题步骤\" class=\"headerlink\" title=\"做题步骤\"></a>做题步骤</h2><ol>\n<li>确定dp数组（dp table）以及下标的含义</li>\n<li>确定递推公式</li>\n<li>dp数组如何初始化</li>\n<li>确定遍历顺序</li>\n<li>举例推导dp数组</li>\n</ol>\n<h2 id=\"背包递推公式\"><a href=\"#背包递推公式\" class=\"headerlink\" title=\"背包递推公式\"></a>背包递推公式</h2><p>问能否能装满背包（或者最多装多少）：dp[j] &#x3D; max(dp[j], dp[j - nums[i]] + nums[i]); ，对应题目如下：</p>\n<ul>\n<li><a href=\"https://programmercarl.com/0416.%E5%88%86%E5%89%B2%E7%AD%89%E5%92%8C%E5%AD%90%E9%9B%86.html\">动态规划：416.分割等和子集</a></li>\n<li><a href=\"https://programmercarl.com/1049.%E6%9C%80%E5%90%8E%E4%B8%80%E5%9D%97%E7%9F%B3%E5%A4%B4%E7%9A%84%E9%87%8D%E9%87%8FII.html\">动态规划：1049.最后一块石头的重量 II</a></li>\n</ul>\n<p>问装满背包有几种方法：dp[j] +&#x3D; dp[j - nums[i]] ，对应题目如下：</p>\n<ul>\n<li><a href=\"https://programmercarl.com/0494.%E7%9B%AE%E6%A0%87%E5%92%8C.html\">动态规划：494.目标和</a></li>\n<li><a href=\"https://programmercarl.com/0518.%E9%9B%B6%E9%92%B1%E5%85%91%E6%8D%A2II.html\">动态规划：518. 零钱兑换 II</a></li>\n<li><a href=\"https://programmercarl.com/0377.%E7%BB%84%E5%90%88%E6%80%BB%E5%92%8C%E2%85%A3.html\">动态规划：377.组合总和Ⅳ</a></li>\n<li><a href=\"https://programmercarl.com/0070.%E7%88%AC%E6%A5%BC%E6%A2%AF%E5%AE%8C%E5%85%A8%E8%83%8C%E5%8C%85%E7%89%88%E6%9C%AC.html\">动态规划：70. 爬楼梯进阶版（完全背包）</a></li>\n</ul>\n<p>问背包装满最大价值：dp[j] &#x3D; max(dp[j], dp[j - weight[i]] + value[i]); ，对应题目如下：</p>\n<ul>\n<li><a href=\"https://programmercarl.com/0474.%E4%B8%80%E5%92%8C%E9%9B%B6.html\">动态规划：474.一和零</a></li>\n</ul>\n<p>问装满背包所有物品的最小个数：dp[j] &#x3D;  min(dp[j - coins[i]] + 1, dp[j]); ，对应题目如下：</p>\n<ul>\n<li><a href=\"https://programmercarl.com/0322.%E9%9B%B6%E9%92%B1%E5%85%91%E6%8D%A2.html\">动态规划：322.零钱兑换</a></li>\n<li><a href=\"https://programmercarl.com/0279.%E5%AE%8C%E5%85%A8%E5%B9%B3%E6%96%B9%E6%95%B0.html\">动态规划：279.完全平方数</a></li>\n</ul>\n<h2 id=\"遍历顺序\"><a href=\"#遍历顺序\" class=\"headerlink\" title=\"遍历顺序\"></a>遍历顺序</h2><h3 id=\"01背包\"><a href=\"#01背包\" class=\"headerlink\" title=\"01背包\"></a>01背包</h3><ul>\n<li>二维dp数组01背包先遍历物品还是先遍历背包都是可以的，且第二层for循环是从小到大遍历。</li>\n</ul>\n<p>一维dp数组01背包只能先遍历物品再遍历背包容量，且第二层for循环是从大到小遍历。</p>\n<h3 id=\"完全背包\"><a href=\"#完全背包\" class=\"headerlink\" title=\"完全背包\"></a>完全背包</h3><p>但是仅仅是纯完全背包的遍历顺序是这样的，题目稍有变化，两个for循环的先后顺序就不一样了。</p>\n<p><strong>如果求组合数就是外层for循环遍历物品，内层for遍历背包</strong>。</p>\n<p><strong>如果求排列数就是外层for遍历背包，内层for循环遍历物品</strong>。</p>\n<p>相关题目如下：</p>\n<ul>\n<li>求组合数：<a href=\"https://programmercarl.com/0518.%E9%9B%B6%E9%92%B1%E5%85%91%E6%8D%A2II.html\">动态规划：518.零钱兑换II</a></li>\n<li>求排列数：<a href=\"https://mp.weixin.qq.com/s/Iixw0nahJWQgbqVNk8k6gA\">动态规划：377. 组合总和 Ⅳ</a>、<a href=\"https://programmercarl.com/0070.%E7%88%AC%E6%A5%BC%E6%A2%AF%E5%AE%8C%E5%85%A8%E8%83%8C%E5%8C%85%E7%89%88%E6%9C%AC.html\">动态规划：70. 爬楼梯进阶版（完全背包）</a></li>\n</ul>\n<p>如果求最小数，那么两层for循环的先后顺序就无所谓了，相关题目如下：</p>\n<ul>\n<li>求最小数：<a href=\"https://programmercarl.com/0322.%E9%9B%B6%E9%92%B1%E5%85%91%E6%8D%A2.html\">动态规划：322. 零钱兑换</a>、<a href=\"https://programmercarl.com/0279.%E5%AE%8C%E5%85%A8%E5%B9%B3%E6%96%B9%E6%95%B0.html\">动态规划：279.完全平方数</a></li>\n</ul>\n"},{"title":"redis小记","keywords":"回溯，二刷","description":"回溯，二刷","top_img":"/img/houduan.png","comments":1,"cover":"/img/houduan.png","copyright_author":"xingxing","copyright_author_href":"www.staraway.asia","copyright_info":"可转载哦","date":"2023-12-07T14:48:35.000Z","_content":"\n### RDB和AOF\n\n#### RDB触发机制\n\n![1](../images/redis小记-1701961207310.png)\n\n#### RDB 的优点\n\n- 适合大规模的数据恢复场景，如备份，全量复制等\n\n#### RDB缺点\n\n- 没办法做到实时持久化/秒级持久化。\n- 新老版本存在RDB格式兼容问题\n- 如果是save指令，会阻塞，因为是主线程执行的。\n- 如果是bgsave指令，是fork一个子进程来写入RDB文件的，快照持久化完全交给子进程来处理，父进程则可以继续处理客户端的请求。\n\n#### AOF的优点\n\n- 数据的一致性和完整性更高\n\n#### AOF的缺点\n\n- AOF记录的内容越多，文件越大，数据恢复变慢。\n\n### redis分布式锁的最终方案\n\n- set ex px nx + 校验唯一随机值,再删除\n  `此处使用lua脚本，保证原子性`\n\n```lua\nif redis.call('get',KEYS[1]) == ARGV[1] then return redis.call('del',KEYS[1]) else return 0 end;\n```\n\n弊端： 存在锁过期释放了，业务还没执行完的问题\n\n- 加入Redisson看门狗机制解决锁过期释放，业务没执行完的问题\n\n> 开启一个定时守护线程，每隔一段时间检查锁是否还存在，存在则对锁的过期时间延长，防止锁过期提前释放。\n`工作流程：`\n![3](../images/redis小记-1701961883013.png)\n\n### MySQL与Redis 如何保证双写一致性\n\n- 缓存延时双删\n- 删除缓存重试机制（用消息队列确保延时的第二次删除成功，即失败了就继续删）\n- 读取binlog异步删除缓存（mysql的binlog放消息队列）\n\n","source":"_posts/redis小记.md","raw":"---\ntitle: redis小记\ntags:\n  - redis\ncategories: 后端\nkeywords: 回溯，二刷\ndescription: 回溯，二刷\ntop_img: /img/houduan.png\ncomments: true\ncover: /img/houduan.png\ncopyright_author: xingxing\ncopyright_author_href: www.staraway.asia\ncopyright_info: 可转载哦\ndate: 2023-12-07 22:48:35\n---\n\n### RDB和AOF\n\n#### RDB触发机制\n\n![1](../images/redis小记-1701961207310.png)\n\n#### RDB 的优点\n\n- 适合大规模的数据恢复场景，如备份，全量复制等\n\n#### RDB缺点\n\n- 没办法做到实时持久化/秒级持久化。\n- 新老版本存在RDB格式兼容问题\n- 如果是save指令，会阻塞，因为是主线程执行的。\n- 如果是bgsave指令，是fork一个子进程来写入RDB文件的，快照持久化完全交给子进程来处理，父进程则可以继续处理客户端的请求。\n\n#### AOF的优点\n\n- 数据的一致性和完整性更高\n\n#### AOF的缺点\n\n- AOF记录的内容越多，文件越大，数据恢复变慢。\n\n### redis分布式锁的最终方案\n\n- set ex px nx + 校验唯一随机值,再删除\n  `此处使用lua脚本，保证原子性`\n\n```lua\nif redis.call('get',KEYS[1]) == ARGV[1] then return redis.call('del',KEYS[1]) else return 0 end;\n```\n\n弊端： 存在锁过期释放了，业务还没执行完的问题\n\n- 加入Redisson看门狗机制解决锁过期释放，业务没执行完的问题\n\n> 开启一个定时守护线程，每隔一段时间检查锁是否还存在，存在则对锁的过期时间延长，防止锁过期提前释放。\n`工作流程：`\n![3](../images/redis小记-1701961883013.png)\n\n### MySQL与Redis 如何保证双写一致性\n\n- 缓存延时双删\n- 删除缓存重试机制（用消息队列确保延时的第二次删除成功，即失败了就继续删）\n- 读取binlog异步删除缓存（mysql的binlog放消息队列）\n\n","slug":"redis小记","published":1,"updated":"2023-12-07T15:25:34.638Z","_id":"clpvcmgwr0000mkpk7xjn1bdj","layout":"post","photos":[],"link":"","content":"<h3 id=\"RDB和AOF\"><a href=\"#RDB和AOF\" class=\"headerlink\" title=\"RDB和AOF\"></a>RDB和AOF</h3><h4 id=\"RDB触发机制\"><a href=\"#RDB触发机制\" class=\"headerlink\" title=\"RDB触发机制\"></a>RDB触发机制</h4><p><img src=\"/../images/redis%E5%B0%8F%E8%AE%B0-1701961207310.png\" alt=\"1\"></p>\n<h4 id=\"RDB-的优点\"><a href=\"#RDB-的优点\" class=\"headerlink\" title=\"RDB 的优点\"></a>RDB 的优点</h4><ul>\n<li>适合大规模的数据恢复场景，如备份，全量复制等</li>\n</ul>\n<h4 id=\"RDB缺点\"><a href=\"#RDB缺点\" class=\"headerlink\" title=\"RDB缺点\"></a>RDB缺点</h4><ul>\n<li>没办法做到实时持久化&#x2F;秒级持久化。</li>\n<li>新老版本存在RDB格式兼容问题</li>\n<li>如果是save指令，会阻塞，因为是主线程执行的。</li>\n<li>如果是bgsave指令，是fork一个子进程来写入RDB文件的，快照持久化完全交给子进程来处理，父进程则可以继续处理客户端的请求。</li>\n</ul>\n<h4 id=\"AOF的优点\"><a href=\"#AOF的优点\" class=\"headerlink\" title=\"AOF的优点\"></a>AOF的优点</h4><ul>\n<li>数据的一致性和完整性更高</li>\n</ul>\n<h4 id=\"AOF的缺点\"><a href=\"#AOF的缺点\" class=\"headerlink\" title=\"AOF的缺点\"></a>AOF的缺点</h4><ul>\n<li>AOF记录的内容越多，文件越大，数据恢复变慢。</li>\n</ul>\n<h3 id=\"redis分布式锁的最终方案\"><a href=\"#redis分布式锁的最终方案\" class=\"headerlink\" title=\"redis分布式锁的最终方案\"></a>redis分布式锁的最终方案</h3><ul>\n<li>set ex px nx + 校验唯一随机值,再删除<br><code>此处使用lua脚本，保证原子性</code></li>\n</ul>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> redis.call(<span class=\"string\">&#x27;get&#x27;</span>,KEYS[<span class=\"number\">1</span>]) == ARGV[<span class=\"number\">1</span>] <span class=\"keyword\">then</span> <span class=\"keyword\">return</span> redis.call(<span class=\"string\">&#x27;del&#x27;</span>,KEYS[<span class=\"number\">1</span>]) <span class=\"keyword\">else</span> <span class=\"keyword\">return</span> <span class=\"number\">0</span> <span class=\"keyword\">end</span>;</span><br></pre></td></tr></table></figure>\n\n<p>弊端： 存在锁过期释放了，业务还没执行完的问题</p>\n<ul>\n<li>加入Redisson看门狗机制解决锁过期释放，业务没执行完的问题</li>\n</ul>\n<blockquote>\n<p>开启一个定时守护线程，每隔一段时间检查锁是否还存在，存在则对锁的过期时间延长，防止锁过期提前释放。<br><code>工作流程：</code><br><img src=\"/../images/redis%E5%B0%8F%E8%AE%B0-1701961883013.png\" alt=\"3\"></p>\n</blockquote>\n<h3 id=\"MySQL与Redis-如何保证双写一致性\"><a href=\"#MySQL与Redis-如何保证双写一致性\" class=\"headerlink\" title=\"MySQL与Redis 如何保证双写一致性\"></a>MySQL与Redis 如何保证双写一致性</h3><ul>\n<li>缓存延时双删</li>\n<li>删除缓存重试机制（用消息队列确保延时的第二次删除成功，即失败了就继续删）</li>\n<li>读取binlog异步删除缓存（mysql的binlog放消息队列）</li>\n</ul>\n","site":{"data":{"about":[{"class_name":"关于页","subtitle":"多一点努力，努力多一点✨","avatarImg":"https://avatars.githubusercontent.com/u/106024593?v=4","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱"]},"name":"xingxing","description":"是一名 后端工程师、学生、独立开发者","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"YNU,计算机科学与技术","color":"#357ef5"}]},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，昆明市","background":"/img/location.png","backgroundDark":"/img/locationDark.png"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2003,"selfInfoTips2":"云南大学","selfInfoContent2":"计算机科学与技术","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"xingxing的日常。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"/img/beautifulImg.jpg","essay_list":[{"content":"发现一个免费拿图的网站诶，还是bing好用，垃圾百度！但是好像要翻墙才可以下载原图，不过可以直接复制图片地址，然后用迅雷下载，也是可以的（图片大小翻五倍）。","date":"2023/11/31","image":["/img/essayImg/pixabay.png"],"link":"https://pixabay.com/zh/"},{"content":"寒假实习求职顺利（求神拜佛）","date":"2023/12/2"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}],"bangumis":{"wantWatch":[{"title":"百妖谱 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/5424062d0821f89ea549533d8a2c3cfff2076766.png","totalCount":"全12话","id":28230717,"follow":"527.1 万","view":"1.2 亿","danmaku":"47.2 万","coin":"42.5 万","score":9.2,"des":"桃都的灵医桃夭带着小和尚磨牙、第一季收服的小狐妖、桃都老邻居柳公子一起继续第一季的故事，为了寻找失踪的百妖谱而云游四方，在途中遇到应声、化蛇、媪姬、照海四个妖怪，为妖怪治疗各种疑难杂症。..."},{"title":"伍六七之玄武国篇","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/00843865ea13702eccc4efd64c313fd4c8029c6b.jpg","totalCount":"全10话","id":28232253,"follow":"1031.1 万","view":"4.7 亿","danmaku":"186.3 万","coin":"405.6 万","score":9.8,"des":"为了保护小鸡岛居民和这里平静的生活，伍六七和他的伙伴大保和小飞开启了去往玄武国的冒险旅程，去寻找身世的真相和解救小岛的办法，等待他们的又将是更多的未知与奇遇。..."},{"title":"伍六七之暗影宿命","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/6e5c5848ff8943fd6366e943a4f75b98598c50c6.png","totalCount":"全10话","id":28412536,"follow":"1250.4 万","view":"5.1 亿","danmaku":"110.7 万","coin":"410.9 万","score":9.2,"des":"随着伍六七回到玄武国寻找他的身世，亦引起了七大暗影刺客的追捕。然而每一位暗影刺客都带着不同的目的和不同的过去，青凤的阴谋也在此浮出了水面。而此时等待着小鸡岛上的人民，又将是另一个危机，伍六七将如何面对..."}],"watching":[{"title":"灵笼 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cf5f6595ece017215e7d61482f022094479dff37.png","totalCount":"-","id":21123554,"follow":"910.5 万","view":"1586.9 万","danmaku":"7.0 万","coin":"35.1 万","score":"-","des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."},{"title":"灵笼","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cfab7e0fbdb4786ff4e885d050b7cf37f8829486.png","totalCount":"全16话","id":23432,"follow":"903.9 万","view":"6.1 亿","danmaku":"674.4 万","coin":"677.7 万","score":9.6,"des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."}],"watched":[{"title":"时光代理人","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/1fe1cd0ec59b790fea83a5726cdc0fa3189c4394.png","totalCount":"全24话","id":28230742,"follow":"879.2 万","view":"5.0 亿","danmaku":"399.9 万","coin":"418.4 万","score":9.7,"des":"为了找到一系列罪案的操纵者，程小时求助于肖力，找寻一切藏匿于暗中的蛛丝马迹。但是拥有未知超能力的凶手在阴影之中，也从没有停止过阴谋的脚步。神秘能力者如影随形，身边伙伴接连遇害，程小时屡次身陷险境。随着..."},{"title":"元龙 第三季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/b3a9b5975059e074593b9381322ad8c423be7b89.png","totalCount":"全16话","id":28235400,"follow":"620.5 万","view":"1.5 亿","danmaku":"24.0 万","coin":"10.7 万","score":6.8,"des":"王胜于现代世界醒来，一切是如此真实而又如梦似幻。皇城遗女，戴家少主的出现更让局势扑朔迷离。而一场由小搏大的赌局，也让王胜渐渐意识到这不仅仅是他和戴家少主两个人的较量。恰时逢盛宴，天下汇集，王胜不得不再..."},{"title":"三体","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/9870f898b8a39bbb8048f34317f8d78a02cc1770.png","totalCount":"全15话","id":4315402,"follow":"690.6 万","view":"6.2 亿","danmaku":"179.3 万","coin":"230.7 万","score":8.2,"des":"无数细线横亘在星空之中，如同一把巨大的刷子。三体星舰队将于400年后抵达。遥远蝴蝶扇动着翅膀，也改变了罗辑的命运，轰然打开的门后是世界中心——面壁计划开启。同时，智子所创建的破壁室内，破壁人一一就位…..."},{"title":"狐妖小红娘","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/cbb20ee03e97a9f3ad2e1506a10fd1271f1c584a.jpg","totalCount":"全100话","id":2543,"follow":"691.5 万","view":"8.7 亿","danmaku":"1052.9 万","coin":"259.8 万","score":9.5,"des":"根据古典小说记载，世上有人有妖，妖会与人相恋，妖寿命千年，人的寿命有限，人死了，妖活着。人会投胎转世，但投胎以后不记得上辈子的爱。妖如果痴情的话，就去找狐妖“购买”一项服务，让投胎转世的人回忆起前世的..."}]}}},"cover_type":"img","excerpt":"","more":"<h3 id=\"RDB和AOF\"><a href=\"#RDB和AOF\" class=\"headerlink\" title=\"RDB和AOF\"></a>RDB和AOF</h3><h4 id=\"RDB触发机制\"><a href=\"#RDB触发机制\" class=\"headerlink\" title=\"RDB触发机制\"></a>RDB触发机制</h4><p><img src=\"/../images/redis%E5%B0%8F%E8%AE%B0-1701961207310.png\" alt=\"1\"></p>\n<h4 id=\"RDB-的优点\"><a href=\"#RDB-的优点\" class=\"headerlink\" title=\"RDB 的优点\"></a>RDB 的优点</h4><ul>\n<li>适合大规模的数据恢复场景，如备份，全量复制等</li>\n</ul>\n<h4 id=\"RDB缺点\"><a href=\"#RDB缺点\" class=\"headerlink\" title=\"RDB缺点\"></a>RDB缺点</h4><ul>\n<li>没办法做到实时持久化&#x2F;秒级持久化。</li>\n<li>新老版本存在RDB格式兼容问题</li>\n<li>如果是save指令，会阻塞，因为是主线程执行的。</li>\n<li>如果是bgsave指令，是fork一个子进程来写入RDB文件的，快照持久化完全交给子进程来处理，父进程则可以继续处理客户端的请求。</li>\n</ul>\n<h4 id=\"AOF的优点\"><a href=\"#AOF的优点\" class=\"headerlink\" title=\"AOF的优点\"></a>AOF的优点</h4><ul>\n<li>数据的一致性和完整性更高</li>\n</ul>\n<h4 id=\"AOF的缺点\"><a href=\"#AOF的缺点\" class=\"headerlink\" title=\"AOF的缺点\"></a>AOF的缺点</h4><ul>\n<li>AOF记录的内容越多，文件越大，数据恢复变慢。</li>\n</ul>\n<h3 id=\"redis分布式锁的最终方案\"><a href=\"#redis分布式锁的最终方案\" class=\"headerlink\" title=\"redis分布式锁的最终方案\"></a>redis分布式锁的最终方案</h3><ul>\n<li>set ex px nx + 校验唯一随机值,再删除<br><code>此处使用lua脚本，保证原子性</code></li>\n</ul>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> redis.call(<span class=\"string\">&#x27;get&#x27;</span>,KEYS[<span class=\"number\">1</span>]) == ARGV[<span class=\"number\">1</span>] <span class=\"keyword\">then</span> <span class=\"keyword\">return</span> redis.call(<span class=\"string\">&#x27;del&#x27;</span>,KEYS[<span class=\"number\">1</span>]) <span class=\"keyword\">else</span> <span class=\"keyword\">return</span> <span class=\"number\">0</span> <span class=\"keyword\">end</span>;</span><br></pre></td></tr></table></figure>\n\n<p>弊端： 存在锁过期释放了，业务还没执行完的问题</p>\n<ul>\n<li>加入Redisson看门狗机制解决锁过期释放，业务没执行完的问题</li>\n</ul>\n<blockquote>\n<p>开启一个定时守护线程，每隔一段时间检查锁是否还存在，存在则对锁的过期时间延长，防止锁过期提前释放。<br><code>工作流程：</code><br><img src=\"/../images/redis%E5%B0%8F%E8%AE%B0-1701961883013.png\" alt=\"3\"></p>\n</blockquote>\n<h3 id=\"MySQL与Redis-如何保证双写一致性\"><a href=\"#MySQL与Redis-如何保证双写一致性\" class=\"headerlink\" title=\"MySQL与Redis 如何保证双写一致性\"></a>MySQL与Redis 如何保证双写一致性</h3><ul>\n<li>缓存延时双删</li>\n<li>删除缓存重试机制（用消息队列确保延时的第二次删除成功，即失败了就继续删）</li>\n<li>读取binlog异步删除缓存（mysql的binlog放消息队列）</li>\n</ul>\n"},{"title":"手写sql复习篇","keywords":"sql,就业","description":"sql复习篇","top_img":"/img/suanfa.png","comments":1,"cover":"/img/suanfa.png","copyright_author":"xingxing","copyright_author_href":"www.staraway.asia","copyright_info":"可转载哦","date":"2023-12-04T11:20:17.000Z","_content":"\n### sql模板\n\n```sql\nselect 查询结果[学号]\nfrom 从哪张表中查找数据[成绩表：score]————此处进行left、inner、right join\nwhere 查询条件[成绩 < 60]——————此处可进行括号内嵌查询sql\ngroup by 分组[没有] \nhaving 对分组结果指定条件[没有]  ————对结果进行分组\norder by 对查询结果排序[没有]\nlimit 从查询结果中取出指定行[没有];\n```\n\n#### having和where 的区别\n\n- where在查询结果之前进行过滤，having在查询结果之后进行过滤\n\n> 例如以下情况\n\n```sql\n-- having\nselect name, count(*) from student group by name having count(*) > 1;\n\n-- where\nselect name, count(*) from student where id > 1 group by name;\n```\n\n1. 这里的count(*) > 1就是having的过滤条件，如果写在where后面，会报错，因为where是在查询结果之前进行过滤，而这里的count(*)\n2. 是在查询结果之后才会出现的，所以要用having进行过滤\n3. where是对表中的数据进行过滤，而having是对查询结果进行过滤\n4. where后面不能跟聚合函数，having后面可以跟聚合函数\n5. where后面不能跟别名，having后面可以跟别名(此处因为别名还没有生成，所以不能用别名)\n6. where后面不能跟分组函数，having后面可以跟分组函数\n\n#### group by 和 distinct 的区别\n\n- group by是分组，distinct是去重\n\n```sql\n-- group by\nselect name, count(*) from student group by name;\n\nselect 课程号,max(成绩) as 最大成绩\nfrom score \ngroup by 课程号;\n\n-- distinct\nselect distinct name from student;\n\n```\n\n1. group by是分组，distinct是去重\n2. GROUP BY操作中，除了需要取出每组中的一条记录外，还需要为其他聚集函数做准备工作\n\n#### topN问题\n\n- 求最大（小）的？\n\n> 使用max或者min函数\n\n```sql\n-- 求最大的\nselect * \nfrom score as a \nwhere 成绩 = (\nselect max(成绩) \nfrom score as b \nwhere b.课程号 = a.课程号);\n\n\n-- 求最小的\nselect * \nfrom score as a \nwhere 成绩 = (\nselect min(成绩) \nfrom score as b \nwhere b.课程号 = a.课程号);\n\n```\n\n- 求最大的N条记录\n\n> 使用limit\n\n```sql\n-- 求最大的N条记录\nselect * \nfrom score \nwhere 课程号 = '1'\norder by 成绩  desc \nlimit 2;","source":"_posts/手写sql复习篇.md","raw":"---\ntitle: 手写sql复习篇\ntags:\n  - sql\n  - 面试\ncategories: 算法\nkeywords: sql,就业\ndescription: sql复习篇\ntop_img: /img/suanfa.png\ncomments: true\ncover: /img/suanfa.png\ncopyright_author: xingxing\ncopyright_author_href: www.staraway.asia\ncopyright_info: 可转载哦\ndate: 2023-12-04 19:20:17\n---\n\n### sql模板\n\n```sql\nselect 查询结果[学号]\nfrom 从哪张表中查找数据[成绩表：score]————此处进行left、inner、right join\nwhere 查询条件[成绩 < 60]——————此处可进行括号内嵌查询sql\ngroup by 分组[没有] \nhaving 对分组结果指定条件[没有]  ————对结果进行分组\norder by 对查询结果排序[没有]\nlimit 从查询结果中取出指定行[没有];\n```\n\n#### having和where 的区别\n\n- where在查询结果之前进行过滤，having在查询结果之后进行过滤\n\n> 例如以下情况\n\n```sql\n-- having\nselect name, count(*) from student group by name having count(*) > 1;\n\n-- where\nselect name, count(*) from student where id > 1 group by name;\n```\n\n1. 这里的count(*) > 1就是having的过滤条件，如果写在where后面，会报错，因为where是在查询结果之前进行过滤，而这里的count(*)\n2. 是在查询结果之后才会出现的，所以要用having进行过滤\n3. where是对表中的数据进行过滤，而having是对查询结果进行过滤\n4. where后面不能跟聚合函数，having后面可以跟聚合函数\n5. where后面不能跟别名，having后面可以跟别名(此处因为别名还没有生成，所以不能用别名)\n6. where后面不能跟分组函数，having后面可以跟分组函数\n\n#### group by 和 distinct 的区别\n\n- group by是分组，distinct是去重\n\n```sql\n-- group by\nselect name, count(*) from student group by name;\n\nselect 课程号,max(成绩) as 最大成绩\nfrom score \ngroup by 课程号;\n\n-- distinct\nselect distinct name from student;\n\n```\n\n1. group by是分组，distinct是去重\n2. GROUP BY操作中，除了需要取出每组中的一条记录外，还需要为其他聚集函数做准备工作\n\n#### topN问题\n\n- 求最大（小）的？\n\n> 使用max或者min函数\n\n```sql\n-- 求最大的\nselect * \nfrom score as a \nwhere 成绩 = (\nselect max(成绩) \nfrom score as b \nwhere b.课程号 = a.课程号);\n\n\n-- 求最小的\nselect * \nfrom score as a \nwhere 成绩 = (\nselect min(成绩) \nfrom score as b \nwhere b.课程号 = a.课程号);\n\n```\n\n- 求最大的N条记录\n\n> 使用limit\n\n```sql\n-- 求最大的N条记录\nselect * \nfrom score \nwhere 课程号 = '1'\norder by 成绩  desc \nlimit 2;","slug":"手写sql复习篇","published":1,"updated":"2023-12-07T15:33:11.486Z","_id":"clpvcmgww0002mkpk3vlecgc2","layout":"post","photos":[],"link":"","content":"<h3 id=\"sql模板\"><a href=\"#sql模板\" class=\"headerlink\" title=\"sql模板\"></a>sql模板</h3><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> 查询结果[学号]</span><br><span class=\"line\"><span class=\"keyword\">from</span> 从哪张表中查找数据[成绩表：score]————此处进行<span class=\"keyword\">left</span>、<span class=\"keyword\">inner</span>、<span class=\"keyword\">right</span> <span class=\"keyword\">join</span></span><br><span class=\"line\"><span class=\"keyword\">where</span> 查询条件[成绩 <span class=\"operator\">&lt;</span> <span class=\"number\">60</span>]——————此处可进行括号内嵌查询<span class=\"keyword\">sql</span></span><br><span class=\"line\"><span class=\"keyword\">group</span> <span class=\"keyword\">by</span> 分组[没有] </span><br><span class=\"line\"><span class=\"keyword\">having</span> 对分组结果指定条件[没有]  ————对结果进行分组</span><br><span class=\"line\"><span class=\"keyword\">order</span> <span class=\"keyword\">by</span> 对查询结果排序[没有]</span><br><span class=\"line\">limit 从查询结果中取出指定行[没有];</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"having和where-的区别\"><a href=\"#having和where-的区别\" class=\"headerlink\" title=\"having和where 的区别\"></a>having和where 的区别</h4><ul>\n<li>where在查询结果之前进行过滤，having在查询结果之后进行过滤</li>\n</ul>\n<blockquote>\n<p>例如以下情况</p>\n</blockquote>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- having</span></span><br><span class=\"line\"><span class=\"keyword\">select</span> name, <span class=\"built_in\">count</span>(<span class=\"operator\">*</span>) <span class=\"keyword\">from</span> student <span class=\"keyword\">group</span> <span class=\"keyword\">by</span> name <span class=\"keyword\">having</span> <span class=\"built_in\">count</span>(<span class=\"operator\">*</span>) <span class=\"operator\">&gt;</span> <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- where</span></span><br><span class=\"line\"><span class=\"keyword\">select</span> name, <span class=\"built_in\">count</span>(<span class=\"operator\">*</span>) <span class=\"keyword\">from</span> student <span class=\"keyword\">where</span> id <span class=\"operator\">&gt;</span> <span class=\"number\">1</span> <span class=\"keyword\">group</span> <span class=\"keyword\">by</span> name;</span><br></pre></td></tr></table></figure>\n\n<ol>\n<li>这里的count(<em>) &gt; 1就是having的过滤条件，如果写在where后面，会报错，因为where是在查询结果之前进行过滤，而这里的count(</em>)</li>\n<li>是在查询结果之后才会出现的，所以要用having进行过滤</li>\n<li>where是对表中的数据进行过滤，而having是对查询结果进行过滤</li>\n<li>where后面不能跟聚合函数，having后面可以跟聚合函数</li>\n<li>where后面不能跟别名，having后面可以跟别名(此处因为别名还没有生成，所以不能用别名)</li>\n<li>where后面不能跟分组函数，having后面可以跟分组函数</li>\n</ol>\n<h4 id=\"group-by-和-distinct-的区别\"><a href=\"#group-by-和-distinct-的区别\" class=\"headerlink\" title=\"group by 和 distinct 的区别\"></a>group by 和 distinct 的区别</h4><ul>\n<li>group by是分组，distinct是去重</li>\n</ul>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- group by</span></span><br><span class=\"line\"><span class=\"keyword\">select</span> name, <span class=\"built_in\">count</span>(<span class=\"operator\">*</span>) <span class=\"keyword\">from</span> student <span class=\"keyword\">group</span> <span class=\"keyword\">by</span> name;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">select</span> 课程号,<span class=\"built_in\">max</span>(成绩) <span class=\"keyword\">as</span> 最大成绩</span><br><span class=\"line\"><span class=\"keyword\">from</span> score </span><br><span class=\"line\"><span class=\"keyword\">group</span> <span class=\"keyword\">by</span> 课程号;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- distinct</span></span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"keyword\">distinct</span> name <span class=\"keyword\">from</span> student;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<ol>\n<li>group by是分组，distinct是去重</li>\n<li>GROUP BY操作中，除了需要取出每组中的一条记录外，还需要为其他聚集函数做准备工作</li>\n</ol>\n<h4 id=\"topN问题\"><a href=\"#topN问题\" class=\"headerlink\" title=\"topN问题\"></a>topN问题</h4><ul>\n<li>求最大（小）的？</li>\n</ul>\n<blockquote>\n<p>使用max或者min函数</p>\n</blockquote>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 求最大的</span></span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> </span><br><span class=\"line\"><span class=\"keyword\">from</span> score <span class=\"keyword\">as</span> a </span><br><span class=\"line\"><span class=\"keyword\">where</span> 成绩 <span class=\"operator\">=</span> (</span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"built_in\">max</span>(成绩) </span><br><span class=\"line\"><span class=\"keyword\">from</span> score <span class=\"keyword\">as</span> b </span><br><span class=\"line\"><span class=\"keyword\">where</span> b.课程号 <span class=\"operator\">=</span> a.课程号);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 求最小的</span></span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> </span><br><span class=\"line\"><span class=\"keyword\">from</span> score <span class=\"keyword\">as</span> a </span><br><span class=\"line\"><span class=\"keyword\">where</span> 成绩 <span class=\"operator\">=</span> (</span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"built_in\">min</span>(成绩) </span><br><span class=\"line\"><span class=\"keyword\">from</span> score <span class=\"keyword\">as</span> b </span><br><span class=\"line\"><span class=\"keyword\">where</span> b.课程号 <span class=\"operator\">=</span> a.课程号);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>求最大的N条记录</li>\n</ul>\n<blockquote>\n<p>使用limit</p>\n</blockquote>\n<pre><code class=\"sql\">-- 求最大的N条记录\nselect * \nfrom score \nwhere 课程号 = &#39;1&#39;\norder by 成绩  desc \nlimit 2;\n</code></pre>\n","site":{"data":{"about":[{"class_name":"关于页","subtitle":"多一点努力，努力多一点✨","avatarImg":"https://avatars.githubusercontent.com/u/106024593?v=4","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱"]},"name":"xingxing","description":"是一名 后端工程师、学生、独立开发者","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"YNU,计算机科学与技术","color":"#357ef5"}]},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，昆明市","background":"/img/location.png","backgroundDark":"/img/locationDark.png"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2003,"selfInfoTips2":"云南大学","selfInfoContent2":"计算机科学与技术","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"xingxing的日常。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"/img/beautifulImg.jpg","essay_list":[{"content":"发现一个免费拿图的网站诶，还是bing好用，垃圾百度！但是好像要翻墙才可以下载原图，不过可以直接复制图片地址，然后用迅雷下载，也是可以的（图片大小翻五倍）。","date":"2023/11/31","image":["/img/essayImg/pixabay.png"],"link":"https://pixabay.com/zh/"},{"content":"寒假实习求职顺利（求神拜佛）","date":"2023/12/2"},{"content":"bilibili给个机会！！！","date":"2023/12/7"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}],"bangumis":{"wantWatch":[{"title":"百妖谱 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/5424062d0821f89ea549533d8a2c3cfff2076766.png","totalCount":"全12话","id":28230717,"follow":"527.1 万","view":"1.2 亿","danmaku":"47.2 万","coin":"42.5 万","score":9.2,"des":"桃都的灵医桃夭带着小和尚磨牙、第一季收服的小狐妖、桃都老邻居柳公子一起继续第一季的故事，为了寻找失踪的百妖谱而云游四方，在途中遇到应声、化蛇、媪姬、照海四个妖怪，为妖怪治疗各种疑难杂症。..."},{"title":"伍六七之玄武国篇","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/00843865ea13702eccc4efd64c313fd4c8029c6b.jpg","totalCount":"全10话","id":28232253,"follow":"1031.1 万","view":"4.7 亿","danmaku":"186.3 万","coin":"405.6 万","score":9.8,"des":"为了保护小鸡岛居民和这里平静的生活，伍六七和他的伙伴大保和小飞开启了去往玄武国的冒险旅程，去寻找身世的真相和解救小岛的办法，等待他们的又将是更多的未知与奇遇。..."},{"title":"伍六七之暗影宿命","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/6e5c5848ff8943fd6366e943a4f75b98598c50c6.png","totalCount":"全10话","id":28412536,"follow":"1250.4 万","view":"5.1 亿","danmaku":"110.7 万","coin":"410.9 万","score":9.2,"des":"随着伍六七回到玄武国寻找他的身世，亦引起了七大暗影刺客的追捕。然而每一位暗影刺客都带着不同的目的和不同的过去，青凤的阴谋也在此浮出了水面。而此时等待着小鸡岛上的人民，又将是另一个危机，伍六七将如何面对..."}],"watching":[{"title":"灵笼 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cf5f6595ece017215e7d61482f022094479dff37.png","totalCount":"-","id":21123554,"follow":"910.5 万","view":"1586.9 万","danmaku":"7.0 万","coin":"35.1 万","score":"-","des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."},{"title":"灵笼","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cfab7e0fbdb4786ff4e885d050b7cf37f8829486.png","totalCount":"全16话","id":23432,"follow":"903.9 万","view":"6.1 亿","danmaku":"674.4 万","coin":"677.7 万","score":9.6,"des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."}],"watched":[{"title":"时光代理人","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/1fe1cd0ec59b790fea83a5726cdc0fa3189c4394.png","totalCount":"全24话","id":28230742,"follow":"879.2 万","view":"5.0 亿","danmaku":"399.9 万","coin":"418.4 万","score":9.7,"des":"为了找到一系列罪案的操纵者，程小时求助于肖力，找寻一切藏匿于暗中的蛛丝马迹。但是拥有未知超能力的凶手在阴影之中，也从没有停止过阴谋的脚步。神秘能力者如影随形，身边伙伴接连遇害，程小时屡次身陷险境。随着..."},{"title":"元龙 第三季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/b3a9b5975059e074593b9381322ad8c423be7b89.png","totalCount":"全16话","id":28235400,"follow":"620.5 万","view":"1.5 亿","danmaku":"24.0 万","coin":"10.7 万","score":6.8,"des":"王胜于现代世界醒来，一切是如此真实而又如梦似幻。皇城遗女，戴家少主的出现更让局势扑朔迷离。而一场由小搏大的赌局，也让王胜渐渐意识到这不仅仅是他和戴家少主两个人的较量。恰时逢盛宴，天下汇集，王胜不得不再..."},{"title":"三体","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/9870f898b8a39bbb8048f34317f8d78a02cc1770.png","totalCount":"全15话","id":4315402,"follow":"690.6 万","view":"6.2 亿","danmaku":"179.3 万","coin":"230.7 万","score":8.2,"des":"无数细线横亘在星空之中，如同一把巨大的刷子。三体星舰队将于400年后抵达。遥远蝴蝶扇动着翅膀，也改变了罗辑的命运，轰然打开的门后是世界中心——面壁计划开启。同时，智子所创建的破壁室内，破壁人一一就位…..."},{"title":"狐妖小红娘","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/cbb20ee03e97a9f3ad2e1506a10fd1271f1c584a.jpg","totalCount":"全100话","id":2543,"follow":"691.5 万","view":"8.7 亿","danmaku":"1052.9 万","coin":"259.8 万","score":9.5,"des":"根据古典小说记载，世上有人有妖，妖会与人相恋，妖寿命千年，人的寿命有限，人死了，妖活着。人会投胎转世，但投胎以后不记得上辈子的爱。妖如果痴情的话，就去找狐妖“购买”一项服务，让投胎转世的人回忆起前世的..."}]}}},"cover_type":"img","excerpt":"","more":"<h3 id=\"sql模板\"><a href=\"#sql模板\" class=\"headerlink\" title=\"sql模板\"></a>sql模板</h3><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> 查询结果[学号]</span><br><span class=\"line\"><span class=\"keyword\">from</span> 从哪张表中查找数据[成绩表：score]————此处进行<span class=\"keyword\">left</span>、<span class=\"keyword\">inner</span>、<span class=\"keyword\">right</span> <span class=\"keyword\">join</span></span><br><span class=\"line\"><span class=\"keyword\">where</span> 查询条件[成绩 <span class=\"operator\">&lt;</span> <span class=\"number\">60</span>]——————此处可进行括号内嵌查询<span class=\"keyword\">sql</span></span><br><span class=\"line\"><span class=\"keyword\">group</span> <span class=\"keyword\">by</span> 分组[没有] </span><br><span class=\"line\"><span class=\"keyword\">having</span> 对分组结果指定条件[没有]  ————对结果进行分组</span><br><span class=\"line\"><span class=\"keyword\">order</span> <span class=\"keyword\">by</span> 对查询结果排序[没有]</span><br><span class=\"line\">limit 从查询结果中取出指定行[没有];</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"having和where-的区别\"><a href=\"#having和where-的区别\" class=\"headerlink\" title=\"having和where 的区别\"></a>having和where 的区别</h4><ul>\n<li>where在查询结果之前进行过滤，having在查询结果之后进行过滤</li>\n</ul>\n<blockquote>\n<p>例如以下情况</p>\n</blockquote>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- having</span></span><br><span class=\"line\"><span class=\"keyword\">select</span> name, <span class=\"built_in\">count</span>(<span class=\"operator\">*</span>) <span class=\"keyword\">from</span> student <span class=\"keyword\">group</span> <span class=\"keyword\">by</span> name <span class=\"keyword\">having</span> <span class=\"built_in\">count</span>(<span class=\"operator\">*</span>) <span class=\"operator\">&gt;</span> <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- where</span></span><br><span class=\"line\"><span class=\"keyword\">select</span> name, <span class=\"built_in\">count</span>(<span class=\"operator\">*</span>) <span class=\"keyword\">from</span> student <span class=\"keyword\">where</span> id <span class=\"operator\">&gt;</span> <span class=\"number\">1</span> <span class=\"keyword\">group</span> <span class=\"keyword\">by</span> name;</span><br></pre></td></tr></table></figure>\n\n<ol>\n<li>这里的count(<em>) &gt; 1就是having的过滤条件，如果写在where后面，会报错，因为where是在查询结果之前进行过滤，而这里的count(</em>)</li>\n<li>是在查询结果之后才会出现的，所以要用having进行过滤</li>\n<li>where是对表中的数据进行过滤，而having是对查询结果进行过滤</li>\n<li>where后面不能跟聚合函数，having后面可以跟聚合函数</li>\n<li>where后面不能跟别名，having后面可以跟别名(此处因为别名还没有生成，所以不能用别名)</li>\n<li>where后面不能跟分组函数，having后面可以跟分组函数</li>\n</ol>\n<h4 id=\"group-by-和-distinct-的区别\"><a href=\"#group-by-和-distinct-的区别\" class=\"headerlink\" title=\"group by 和 distinct 的区别\"></a>group by 和 distinct 的区别</h4><ul>\n<li>group by是分组，distinct是去重</li>\n</ul>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- group by</span></span><br><span class=\"line\"><span class=\"keyword\">select</span> name, <span class=\"built_in\">count</span>(<span class=\"operator\">*</span>) <span class=\"keyword\">from</span> student <span class=\"keyword\">group</span> <span class=\"keyword\">by</span> name;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">select</span> 课程号,<span class=\"built_in\">max</span>(成绩) <span class=\"keyword\">as</span> 最大成绩</span><br><span class=\"line\"><span class=\"keyword\">from</span> score </span><br><span class=\"line\"><span class=\"keyword\">group</span> <span class=\"keyword\">by</span> 课程号;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- distinct</span></span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"keyword\">distinct</span> name <span class=\"keyword\">from</span> student;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<ol>\n<li>group by是分组，distinct是去重</li>\n<li>GROUP BY操作中，除了需要取出每组中的一条记录外，还需要为其他聚集函数做准备工作</li>\n</ol>\n<h4 id=\"topN问题\"><a href=\"#topN问题\" class=\"headerlink\" title=\"topN问题\"></a>topN问题</h4><ul>\n<li>求最大（小）的？</li>\n</ul>\n<blockquote>\n<p>使用max或者min函数</p>\n</blockquote>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 求最大的</span></span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> </span><br><span class=\"line\"><span class=\"keyword\">from</span> score <span class=\"keyword\">as</span> a </span><br><span class=\"line\"><span class=\"keyword\">where</span> 成绩 <span class=\"operator\">=</span> (</span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"built_in\">max</span>(成绩) </span><br><span class=\"line\"><span class=\"keyword\">from</span> score <span class=\"keyword\">as</span> b </span><br><span class=\"line\"><span class=\"keyword\">where</span> b.课程号 <span class=\"operator\">=</span> a.课程号);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 求最小的</span></span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> </span><br><span class=\"line\"><span class=\"keyword\">from</span> score <span class=\"keyword\">as</span> a </span><br><span class=\"line\"><span class=\"keyword\">where</span> 成绩 <span class=\"operator\">=</span> (</span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"built_in\">min</span>(成绩) </span><br><span class=\"line\"><span class=\"keyword\">from</span> score <span class=\"keyword\">as</span> b </span><br><span class=\"line\"><span class=\"keyword\">where</span> b.课程号 <span class=\"operator\">=</span> a.课程号);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>求最大的N条记录</li>\n</ul>\n<blockquote>\n<p>使用limit</p>\n</blockquote>\n<pre><code class=\"sql\">-- 求最大的N条记录\nselect * \nfrom score \nwhere 课程号 = &#39;1&#39;\norder by 成绩  desc \nlimit 2;\n</code></pre>\n"},{"title":"借贷宝一面凉经","keywords":"就业，面经","description":"就业，面经，redis分布式锁","top_img":"/img/jiuye.jpg","comments":1,"cover":"/img/jiuye.jpg","copyright_author":"xingxing","copyright_author_href":"www.staraway.asia","copyright_info":"可转载哦","date":"2023-12-13T06:53:09.000Z","_content":"\n#### 字节青训营项目介绍\n\n#### java线程池参数\n\n> 参照以下代码\n\n```java\nimport java.util.concurrent.*;\nimport java.util.concurrent.atomic.AtomicInteger;\n \n/**\n * 线程池工厂工具\n *\n * @author 向振华\n * @date 2021/04/11 10:24\n */\npublic class ThreadPoolFactory {\n \n    /**\n     * 生成固定大小的线程池\n     *\n     * @param threadName 线程名称\n     * @return 线程池\n     */\n    public static ExecutorService createFixedThreadPool(String threadName) {\n        AtomicInteger threadNumber = new AtomicInteger(0);\n        return new ThreadPoolExecutor(\n                // 核心线程数\n                desiredThreadNum(),\n                // 最大线程数\n                desiredThreadNum(),\n                // 空闲线程存活时间\n                60L,\n                // 空闲线程存活时间单位\n                TimeUnit.SECONDS,\n                // 工作队列\n                new ArrayBlockingQueue<>(1024),\n                // 线程工厂\n                new ThreadFactory() {\n                    @Override\n                    public Thread newThread(Runnable r) {\n                        return new Thread(r, threadName + \"-\" + threadNumber.getAndIncrement());\n                    }\n                },\n                // 拒绝策略\n                new RejectedExecutionHandler() {\n                    @Override\n                    public void rejectedExecution(Runnable r, ThreadPoolExecutor executor) {\n                        if (!executor.isShutdown()) {\n                            try {\n                                //尝试阻塞式加入任务队列\n                                executor.getQueue().put(r);\n                            } catch (Exception e) {\n                                //保持线程的中断状态\n                                Thread.currentThread().interrupt();\n                            }\n                        }\n                    }\n                });\n    }\n \n    /**\n     * 理想的线程数，使用 2倍cpu核心数\n     */\n    public static int desiredThreadNum() {\n        return Runtime.getRuntime().availableProcessors() * 2;\n    }\n}\n```\n\n#### 最大线程数8个，核心线程数4个，用LinkedBlockingQueue，前四个线程执行时间无限长，会怎么样\n\n> 脑子抽了，答成会后面四个线程会在队列中阻塞等待\n\n`正确理解应该为救急线程为4个（8-4），前四个线程执行时间无限长，后面四个线程会被救急线程执行`\n\n#### 讲一讲对称加密和非对称加密\n\n- 对称加密算法： DES（56长度密钥，分块加密）,AES（128长度或更长的密钥，分块加密）,3DES（进行3此DES）\n- 非对称加密算法：RSA,DSA,ECDSA（基于椭圆密码学）,DIFFIE-HELLMAN（ssl和tls使用）\n\n#### http和https的区别\n\n#### redis分布式锁\n\n- 为什么要设置过期时间\n  1. 防止死锁，如果没有设置过期时间，如果业务执行时间过长，锁就会一直存在，其他线程就会一直等待，造成死锁\n  2. `防止业务没有执行完，锁过期`，加锁之后会设置监听器（定时任务以小于过期时间的循环更新过期时间）`\n  3. `当前机器如果宕机了，定时任务也就没了`，锁过期后释放，该请求也直接报错且数据回滚\n- 为什么要在锁里面加上线程id\n  1. 确保`可重入性`，让锁的值加一\n  2. 防止其他线程就可以`随意释放锁`\n> 锁长啥样\n\n\n![1](../images/借贷宝一面凉经-1702454372646.png)\n> 加锁流程\n\n\n![2](../images/借贷宝一面凉经-1702454737068.png)\n> 解锁流程\n\n\n![3](../images/借贷宝一面凉经-1702454757991.png)\n\n\n#### Linux 中查看进程占用的端口号\n\n> netstat -tunlp | grep 端口号\n（一脸问号。。。。。。。。。。。）\n\n","source":"_posts/借贷宝一面凉经.md","raw":"---\ntitle: 借贷宝一面凉经\ntags:\n  - 就业\n  - 面经\ncategories: 就业\nkeywords: 就业，面经\ndescription: 就业，面经，redis分布式锁\ntop_img: /img/jiuye.jpg\ncomments: true\ncover: /img/jiuye.jpg\ncopyright_author: xingxing\ncopyright_author_href: www.staraway.asia\ncopyright_info: 可转载哦\ndate: 2023-12-13 14:53:09\n---\n\n#### 字节青训营项目介绍\n\n#### java线程池参数\n\n> 参照以下代码\n\n```java\nimport java.util.concurrent.*;\nimport java.util.concurrent.atomic.AtomicInteger;\n \n/**\n * 线程池工厂工具\n *\n * @author 向振华\n * @date 2021/04/11 10:24\n */\npublic class ThreadPoolFactory {\n \n    /**\n     * 生成固定大小的线程池\n     *\n     * @param threadName 线程名称\n     * @return 线程池\n     */\n    public static ExecutorService createFixedThreadPool(String threadName) {\n        AtomicInteger threadNumber = new AtomicInteger(0);\n        return new ThreadPoolExecutor(\n                // 核心线程数\n                desiredThreadNum(),\n                // 最大线程数\n                desiredThreadNum(),\n                // 空闲线程存活时间\n                60L,\n                // 空闲线程存活时间单位\n                TimeUnit.SECONDS,\n                // 工作队列\n                new ArrayBlockingQueue<>(1024),\n                // 线程工厂\n                new ThreadFactory() {\n                    @Override\n                    public Thread newThread(Runnable r) {\n                        return new Thread(r, threadName + \"-\" + threadNumber.getAndIncrement());\n                    }\n                },\n                // 拒绝策略\n                new RejectedExecutionHandler() {\n                    @Override\n                    public void rejectedExecution(Runnable r, ThreadPoolExecutor executor) {\n                        if (!executor.isShutdown()) {\n                            try {\n                                //尝试阻塞式加入任务队列\n                                executor.getQueue().put(r);\n                            } catch (Exception e) {\n                                //保持线程的中断状态\n                                Thread.currentThread().interrupt();\n                            }\n                        }\n                    }\n                });\n    }\n \n    /**\n     * 理想的线程数，使用 2倍cpu核心数\n     */\n    public static int desiredThreadNum() {\n        return Runtime.getRuntime().availableProcessors() * 2;\n    }\n}\n```\n\n#### 最大线程数8个，核心线程数4个，用LinkedBlockingQueue，前四个线程执行时间无限长，会怎么样\n\n> 脑子抽了，答成会后面四个线程会在队列中阻塞等待\n\n`正确理解应该为救急线程为4个（8-4），前四个线程执行时间无限长，后面四个线程会被救急线程执行`\n\n#### 讲一讲对称加密和非对称加密\n\n- 对称加密算法： DES（56长度密钥，分块加密）,AES（128长度或更长的密钥，分块加密）,3DES（进行3此DES）\n- 非对称加密算法：RSA,DSA,ECDSA（基于椭圆密码学）,DIFFIE-HELLMAN（ssl和tls使用）\n\n#### http和https的区别\n\n#### redis分布式锁\n\n- 为什么要设置过期时间\n  1. 防止死锁，如果没有设置过期时间，如果业务执行时间过长，锁就会一直存在，其他线程就会一直等待，造成死锁\n  2. `防止业务没有执行完，锁过期`，加锁之后会设置监听器（定时任务以小于过期时间的循环更新过期时间）`\n  3. `当前机器如果宕机了，定时任务也就没了`，锁过期后释放，该请求也直接报错且数据回滚\n- 为什么要在锁里面加上线程id\n  1. 确保`可重入性`，让锁的值加一\n  2. 防止其他线程就可以`随意释放锁`\n> 锁长啥样\n\n\n![1](../images/借贷宝一面凉经-1702454372646.png)\n> 加锁流程\n\n\n![2](../images/借贷宝一面凉经-1702454737068.png)\n> 解锁流程\n\n\n![3](../images/借贷宝一面凉经-1702454757991.png)\n\n\n#### Linux 中查看进程占用的端口号\n\n> netstat -tunlp | grep 端口号\n（一脸问号。。。。。。。。。。。）\n\n","slug":"借贷宝一面凉经","published":1,"updated":"2023-12-19T08:12:22.517Z","_id":"clqc2fb4v00005spk458y8xg6","layout":"post","photos":[],"link":"","content":"<h4 id=\"字节青训营项目介绍\"><a href=\"#字节青训营项目介绍\" class=\"headerlink\" title=\"字节青训营项目介绍\"></a>字节青训营项目介绍</h4><h4 id=\"java线程池参数\"><a href=\"#java线程池参数\" class=\"headerlink\" title=\"java线程池参数\"></a>java线程池参数</h4><blockquote>\n<p>参照以下代码</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.util.concurrent.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.concurrent.atomic.AtomicInteger;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 线程池工厂工具</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@author</span> 向振华</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@date</span> 2021/04/11 10:24</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ThreadPoolFactory</span> &#123;</span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 生成固定大小的线程池</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> threadName 线程名称</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span> 线程池</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> ExecutorService <span class=\"title function_\">createFixedThreadPool</span><span class=\"params\">(String threadName)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">AtomicInteger</span> <span class=\"variable\">threadNumber</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">AtomicInteger</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ThreadPoolExecutor</span>(</span><br><span class=\"line\">                <span class=\"comment\">// 核心线程数</span></span><br><span class=\"line\">                desiredThreadNum(),</span><br><span class=\"line\">                <span class=\"comment\">// 最大线程数</span></span><br><span class=\"line\">                desiredThreadNum(),</span><br><span class=\"line\">                <span class=\"comment\">// 空闲线程存活时间</span></span><br><span class=\"line\">                <span class=\"number\">60L</span>,</span><br><span class=\"line\">                <span class=\"comment\">// 空闲线程存活时间单位</span></span><br><span class=\"line\">                TimeUnit.SECONDS,</span><br><span class=\"line\">                <span class=\"comment\">// 工作队列</span></span><br><span class=\"line\">                <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayBlockingQueue</span>&lt;&gt;(<span class=\"number\">1024</span>),</span><br><span class=\"line\">                <span class=\"comment\">// 线程工厂</span></span><br><span class=\"line\">                <span class=\"keyword\">new</span> <span class=\"title class_\">ThreadFactory</span>() &#123;</span><br><span class=\"line\">                    <span class=\"meta\">@Override</span></span><br><span class=\"line\">                    <span class=\"keyword\">public</span> Thread <span class=\"title function_\">newThread</span><span class=\"params\">(Runnable r)</span> &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(r, threadName + <span class=\"string\">&quot;-&quot;</span> + threadNumber.getAndIncrement());</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;,</span><br><span class=\"line\">                <span class=\"comment\">// 拒绝策略</span></span><br><span class=\"line\">                <span class=\"keyword\">new</span> <span class=\"title class_\">RejectedExecutionHandler</span>() &#123;</span><br><span class=\"line\">                    <span class=\"meta\">@Override</span></span><br><span class=\"line\">                    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">rejectedExecution</span><span class=\"params\">(Runnable r, ThreadPoolExecutor executor)</span> &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">if</span> (!executor.isShutdown()) &#123;</span><br><span class=\"line\">                            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                                <span class=\"comment\">//尝试阻塞式加入任务队列</span></span><br><span class=\"line\">                                executor.getQueue().put(r);</span><br><span class=\"line\">                            &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">                                <span class=\"comment\">//保持线程的中断状态</span></span><br><span class=\"line\">                                Thread.currentThread().interrupt();</span><br><span class=\"line\">                            &#125;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 理想的线程数，使用 2倍cpu核心数</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"type\">int</span> <span class=\"title function_\">desiredThreadNum</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Runtime.getRuntime().availableProcessors() * <span class=\"number\">2</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"最大线程数8个，核心线程数4个，用LinkedBlockingQueue，前四个线程执行时间无限长，会怎么样\"><a href=\"#最大线程数8个，核心线程数4个，用LinkedBlockingQueue，前四个线程执行时间无限长，会怎么样\" class=\"headerlink\" title=\"最大线程数8个，核心线程数4个，用LinkedBlockingQueue，前四个线程执行时间无限长，会怎么样\"></a>最大线程数8个，核心线程数4个，用LinkedBlockingQueue，前四个线程执行时间无限长，会怎么样</h4><blockquote>\n<p>脑子抽了，答成会后面四个线程会在队列中阻塞等待</p>\n</blockquote>\n<p><code>正确理解应该为救急线程为4个（8-4），前四个线程执行时间无限长，后面四个线程会被救急线程执行</code></p>\n<h4 id=\"讲一讲对称加密和非对称加密\"><a href=\"#讲一讲对称加密和非对称加密\" class=\"headerlink\" title=\"讲一讲对称加密和非对称加密\"></a>讲一讲对称加密和非对称加密</h4><ul>\n<li>对称加密算法： DES（56长度密钥，分块加密）,AES（128长度或更长的密钥，分块加密）,3DES（进行3此DES）</li>\n<li>非对称加密算法：RSA,DSA,ECDSA（基于椭圆密码学）,DIFFIE-HELLMAN（ssl和tls使用）</li>\n</ul>\n<h4 id=\"http和https的区别\"><a href=\"#http和https的区别\" class=\"headerlink\" title=\"http和https的区别\"></a>http和https的区别</h4><h4 id=\"redis分布式锁\"><a href=\"#redis分布式锁\" class=\"headerlink\" title=\"redis分布式锁\"></a>redis分布式锁</h4><ul>\n<li>为什么要设置过期时间<ol>\n<li>防止死锁，如果没有设置过期时间，如果业务执行时间过长，锁就会一直存在，其他线程就会一直等待，造成死锁</li>\n<li><code>防止业务没有执行完，锁过期</code>，加锁之后会设置监听器（定时任务以小于过期时间的循环更新过期时间）&#96;</li>\n<li><code>当前机器如果宕机了，定时任务也就没了</code>，锁过期后释放，该请求也直接报错且数据回滚</li>\n</ol>\n</li>\n<li>为什么要在锁里面加上线程id<ol>\n<li>确保<code>可重入性</code>，让锁的值加一</li>\n<li>防止其他线程就可以<code>随意释放锁</code><blockquote>\n<p>锁长啥样</p>\n</blockquote>\n</li>\n</ol>\n</li>\n</ul>\n<p><img src=\"/../images/%E5%80%9F%E8%B4%B7%E5%AE%9D%E4%B8%80%E9%9D%A2%E5%87%89%E7%BB%8F-1702454372646.png\" alt=\"1\"></p>\n<blockquote>\n<p>加锁流程</p>\n</blockquote>\n<p><img src=\"/../images/%E5%80%9F%E8%B4%B7%E5%AE%9D%E4%B8%80%E9%9D%A2%E5%87%89%E7%BB%8F-1702454737068.png\" alt=\"2\"></p>\n<blockquote>\n<p>解锁流程</p>\n</blockquote>\n<p><img src=\"/../images/%E5%80%9F%E8%B4%B7%E5%AE%9D%E4%B8%80%E9%9D%A2%E5%87%89%E7%BB%8F-1702454757991.png\" alt=\"3\"></p>\n<h4 id=\"Linux-中查看进程占用的端口号\"><a href=\"#Linux-中查看进程占用的端口号\" class=\"headerlink\" title=\"Linux 中查看进程占用的端口号\"></a>Linux 中查看进程占用的端口号</h4><blockquote>\n<p>netstat -tunlp | grep 端口号<br>（一脸问号。。。。。。。。。。。）</p>\n</blockquote>\n","site":{"data":{"about":[{"class_name":"关于页","subtitle":"多一点努力，努力多一点✨","avatarImg":"https://avatars.githubusercontent.com/u/106024593?v=4","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱"]},"name":"xingxing","description":"是一名 后端工程师、学生、独立开发者","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"YNU,计算机科学与技术","color":"#357ef5"}]},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，昆明市","background":"/img/location.png","backgroundDark":"/img/locationDark.png"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2003,"selfInfoTips2":"云南大学","selfInfoContent2":"计算机科学与技术","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"xingxing的日常。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"/img/beautifulImg.jpg","essay_list":[{"content":"发现一个免费拿图的网站诶，还是bing好用，垃圾百度！但是好像要翻墙才可以下载原图，不过可以直接复制图片地址，然后用迅雷下载，也是可以的（图片大小翻五倍）。","date":"2023/11/31","image":["/img/essayImg/pixabay.png"],"link":"https://pixabay.com/zh/"},{"content":"寒假实习求职顺利（求神拜佛）","date":"2023/12/2"},{"content":"bilibili给个机会！！！","date":"2023/12/7"},{"content":"许愿oc！！！","date":"2023/12/19"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}],"bangumis":{"wantWatch":[{"title":"百妖谱 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/5424062d0821f89ea549533d8a2c3cfff2076766.png","totalCount":"全12话","id":28230717,"follow":"527.1 万","view":"1.2 亿","danmaku":"47.2 万","coin":"42.5 万","score":9.2,"des":"桃都的灵医桃夭带着小和尚磨牙、第一季收服的小狐妖、桃都老邻居柳公子一起继续第一季的故事，为了寻找失踪的百妖谱而云游四方，在途中遇到应声、化蛇、媪姬、照海四个妖怪，为妖怪治疗各种疑难杂症。..."},{"title":"伍六七之玄武国篇","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/00843865ea13702eccc4efd64c313fd4c8029c6b.jpg","totalCount":"全10话","id":28232253,"follow":"1031.1 万","view":"4.7 亿","danmaku":"186.3 万","coin":"405.6 万","score":9.8,"des":"为了保护小鸡岛居民和这里平静的生活，伍六七和他的伙伴大保和小飞开启了去往玄武国的冒险旅程，去寻找身世的真相和解救小岛的办法，等待他们的又将是更多的未知与奇遇。..."},{"title":"伍六七之暗影宿命","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/6e5c5848ff8943fd6366e943a4f75b98598c50c6.png","totalCount":"全10话","id":28412536,"follow":"1250.4 万","view":"5.1 亿","danmaku":"110.7 万","coin":"410.9 万","score":9.2,"des":"随着伍六七回到玄武国寻找他的身世，亦引起了七大暗影刺客的追捕。然而每一位暗影刺客都带着不同的目的和不同的过去，青凤的阴谋也在此浮出了水面。而此时等待着小鸡岛上的人民，又将是另一个危机，伍六七将如何面对..."}],"watching":[{"title":"灵笼 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cf5f6595ece017215e7d61482f022094479dff37.png","totalCount":"-","id":21123554,"follow":"910.5 万","view":"1586.9 万","danmaku":"7.0 万","coin":"35.1 万","score":"-","des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."},{"title":"灵笼","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cfab7e0fbdb4786ff4e885d050b7cf37f8829486.png","totalCount":"全16话","id":23432,"follow":"903.9 万","view":"6.1 亿","danmaku":"674.4 万","coin":"677.7 万","score":9.6,"des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."}],"watched":[{"title":"时光代理人","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/1fe1cd0ec59b790fea83a5726cdc0fa3189c4394.png","totalCount":"全24话","id":28230742,"follow":"879.2 万","view":"5.0 亿","danmaku":"399.9 万","coin":"418.4 万","score":9.7,"des":"为了找到一系列罪案的操纵者，程小时求助于肖力，找寻一切藏匿于暗中的蛛丝马迹。但是拥有未知超能力的凶手在阴影之中，也从没有停止过阴谋的脚步。神秘能力者如影随形，身边伙伴接连遇害，程小时屡次身陷险境。随着..."},{"title":"元龙 第三季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/b3a9b5975059e074593b9381322ad8c423be7b89.png","totalCount":"全16话","id":28235400,"follow":"620.5 万","view":"1.5 亿","danmaku":"24.0 万","coin":"10.7 万","score":6.8,"des":"王胜于现代世界醒来，一切是如此真实而又如梦似幻。皇城遗女，戴家少主的出现更让局势扑朔迷离。而一场由小搏大的赌局，也让王胜渐渐意识到这不仅仅是他和戴家少主两个人的较量。恰时逢盛宴，天下汇集，王胜不得不再..."},{"title":"三体","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/9870f898b8a39bbb8048f34317f8d78a02cc1770.png","totalCount":"全15话","id":4315402,"follow":"690.6 万","view":"6.2 亿","danmaku":"179.3 万","coin":"230.7 万","score":8.2,"des":"无数细线横亘在星空之中，如同一把巨大的刷子。三体星舰队将于400年后抵达。遥远蝴蝶扇动着翅膀，也改变了罗辑的命运，轰然打开的门后是世界中心——面壁计划开启。同时，智子所创建的破壁室内，破壁人一一就位…..."},{"title":"狐妖小红娘","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/cbb20ee03e97a9f3ad2e1506a10fd1271f1c584a.jpg","totalCount":"全100话","id":2543,"follow":"691.5 万","view":"8.7 亿","danmaku":"1052.9 万","coin":"259.8 万","score":9.5,"des":"根据古典小说记载，世上有人有妖，妖会与人相恋，妖寿命千年，人的寿命有限，人死了，妖活着。人会投胎转世，但投胎以后不记得上辈子的爱。妖如果痴情的话，就去找狐妖“购买”一项服务，让投胎转世的人回忆起前世的..."}]}}},"cover_type":"img","excerpt":"","more":"<h4 id=\"字节青训营项目介绍\"><a href=\"#字节青训营项目介绍\" class=\"headerlink\" title=\"字节青训营项目介绍\"></a>字节青训营项目介绍</h4><h4 id=\"java线程池参数\"><a href=\"#java线程池参数\" class=\"headerlink\" title=\"java线程池参数\"></a>java线程池参数</h4><blockquote>\n<p>参照以下代码</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.util.concurrent.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.concurrent.atomic.AtomicInteger;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 线程池工厂工具</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@author</span> 向振华</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@date</span> 2021/04/11 10:24</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ThreadPoolFactory</span> &#123;</span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 生成固定大小的线程池</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> threadName 线程名称</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span> 线程池</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> ExecutorService <span class=\"title function_\">createFixedThreadPool</span><span class=\"params\">(String threadName)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">AtomicInteger</span> <span class=\"variable\">threadNumber</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">AtomicInteger</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ThreadPoolExecutor</span>(</span><br><span class=\"line\">                <span class=\"comment\">// 核心线程数</span></span><br><span class=\"line\">                desiredThreadNum(),</span><br><span class=\"line\">                <span class=\"comment\">// 最大线程数</span></span><br><span class=\"line\">                desiredThreadNum(),</span><br><span class=\"line\">                <span class=\"comment\">// 空闲线程存活时间</span></span><br><span class=\"line\">                <span class=\"number\">60L</span>,</span><br><span class=\"line\">                <span class=\"comment\">// 空闲线程存活时间单位</span></span><br><span class=\"line\">                TimeUnit.SECONDS,</span><br><span class=\"line\">                <span class=\"comment\">// 工作队列</span></span><br><span class=\"line\">                <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayBlockingQueue</span>&lt;&gt;(<span class=\"number\">1024</span>),</span><br><span class=\"line\">                <span class=\"comment\">// 线程工厂</span></span><br><span class=\"line\">                <span class=\"keyword\">new</span> <span class=\"title class_\">ThreadFactory</span>() &#123;</span><br><span class=\"line\">                    <span class=\"meta\">@Override</span></span><br><span class=\"line\">                    <span class=\"keyword\">public</span> Thread <span class=\"title function_\">newThread</span><span class=\"params\">(Runnable r)</span> &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(r, threadName + <span class=\"string\">&quot;-&quot;</span> + threadNumber.getAndIncrement());</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;,</span><br><span class=\"line\">                <span class=\"comment\">// 拒绝策略</span></span><br><span class=\"line\">                <span class=\"keyword\">new</span> <span class=\"title class_\">RejectedExecutionHandler</span>() &#123;</span><br><span class=\"line\">                    <span class=\"meta\">@Override</span></span><br><span class=\"line\">                    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">rejectedExecution</span><span class=\"params\">(Runnable r, ThreadPoolExecutor executor)</span> &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">if</span> (!executor.isShutdown()) &#123;</span><br><span class=\"line\">                            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                                <span class=\"comment\">//尝试阻塞式加入任务队列</span></span><br><span class=\"line\">                                executor.getQueue().put(r);</span><br><span class=\"line\">                            &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">                                <span class=\"comment\">//保持线程的中断状态</span></span><br><span class=\"line\">                                Thread.currentThread().interrupt();</span><br><span class=\"line\">                            &#125;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 理想的线程数，使用 2倍cpu核心数</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"type\">int</span> <span class=\"title function_\">desiredThreadNum</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Runtime.getRuntime().availableProcessors() * <span class=\"number\">2</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"最大线程数8个，核心线程数4个，用LinkedBlockingQueue，前四个线程执行时间无限长，会怎么样\"><a href=\"#最大线程数8个，核心线程数4个，用LinkedBlockingQueue，前四个线程执行时间无限长，会怎么样\" class=\"headerlink\" title=\"最大线程数8个，核心线程数4个，用LinkedBlockingQueue，前四个线程执行时间无限长，会怎么样\"></a>最大线程数8个，核心线程数4个，用LinkedBlockingQueue，前四个线程执行时间无限长，会怎么样</h4><blockquote>\n<p>脑子抽了，答成会后面四个线程会在队列中阻塞等待</p>\n</blockquote>\n<p><code>正确理解应该为救急线程为4个（8-4），前四个线程执行时间无限长，后面四个线程会被救急线程执行</code></p>\n<h4 id=\"讲一讲对称加密和非对称加密\"><a href=\"#讲一讲对称加密和非对称加密\" class=\"headerlink\" title=\"讲一讲对称加密和非对称加密\"></a>讲一讲对称加密和非对称加密</h4><ul>\n<li>对称加密算法： DES（56长度密钥，分块加密）,AES（128长度或更长的密钥，分块加密）,3DES（进行3此DES）</li>\n<li>非对称加密算法：RSA,DSA,ECDSA（基于椭圆密码学）,DIFFIE-HELLMAN（ssl和tls使用）</li>\n</ul>\n<h4 id=\"http和https的区别\"><a href=\"#http和https的区别\" class=\"headerlink\" title=\"http和https的区别\"></a>http和https的区别</h4><h4 id=\"redis分布式锁\"><a href=\"#redis分布式锁\" class=\"headerlink\" title=\"redis分布式锁\"></a>redis分布式锁</h4><ul>\n<li>为什么要设置过期时间<ol>\n<li>防止死锁，如果没有设置过期时间，如果业务执行时间过长，锁就会一直存在，其他线程就会一直等待，造成死锁</li>\n<li><code>防止业务没有执行完，锁过期</code>，加锁之后会设置监听器（定时任务以小于过期时间的循环更新过期时间）&#96;</li>\n<li><code>当前机器如果宕机了，定时任务也就没了</code>，锁过期后释放，该请求也直接报错且数据回滚</li>\n</ol>\n</li>\n<li>为什么要在锁里面加上线程id<ol>\n<li>确保<code>可重入性</code>，让锁的值加一</li>\n<li>防止其他线程就可以<code>随意释放锁</code><blockquote>\n<p>锁长啥样</p>\n</blockquote>\n</li>\n</ol>\n</li>\n</ul>\n<p><img src=\"/../images/%E5%80%9F%E8%B4%B7%E5%AE%9D%E4%B8%80%E9%9D%A2%E5%87%89%E7%BB%8F-1702454372646.png\" alt=\"1\"></p>\n<blockquote>\n<p>加锁流程</p>\n</blockquote>\n<p><img src=\"/../images/%E5%80%9F%E8%B4%B7%E5%AE%9D%E4%B8%80%E9%9D%A2%E5%87%89%E7%BB%8F-1702454737068.png\" alt=\"2\"></p>\n<blockquote>\n<p>解锁流程</p>\n</blockquote>\n<p><img src=\"/../images/%E5%80%9F%E8%B4%B7%E5%AE%9D%E4%B8%80%E9%9D%A2%E5%87%89%E7%BB%8F-1702454757991.png\" alt=\"3\"></p>\n<h4 id=\"Linux-中查看进程占用的端口号\"><a href=\"#Linux-中查看进程占用的端口号\" class=\"headerlink\" title=\"Linux 中查看进程占用的端口号\"></a>Linux 中查看进程占用的端口号</h4><blockquote>\n<p>netstat -tunlp | grep 端口号<br>（一脸问号。。。。。。。。。。。）</p>\n</blockquote>\n"},{"title":"万物心选一面","keywords":"面经、就业","description":"面经、就业","top_img":"/img/jiuye.jpg","comments":1,"cover":"/img/jiuye.jpg","copyright_author":"xingxing","copyright_author_href":"www.staraway.asia","copyright_info":"可转载哦","date":"2023-12-15T00:55:20.000Z","_content":"\n\n#### 开发语言为php和go，对此是否有什么考虑\n\n#### 在校期间比较有成就感的一件事情\n\n#### 在校期间参加什么比赛\n\n#### 在校期间的社团或者实验室经历\n\n#### java的特性\n\n#### java的多态及体现\n\n##### 多态实现的必要条件\n- 子类必须继承父类\n- 必须有重写\n- 父类引用指向子类对象\n##### 多态实现的具体途径\n- 重写\n- 重载\n- 接口实现（spring中的service和serviceImpl是很好的体现）\n##### 动态绑定\n- 静态绑定（早绑定 编译器绑定）\n  - 在程序执行前方法已经被绑定，此时由编译器或其它连接程序实现。例如：C。针对java可以理解为程序编译期的绑定；特别说明一点，java当中的方法只有final，static，private和构造方法是前期绑定\n- 动态绑定（迟绑定 运行期绑定）\n  - 后期绑定：在运行时根据具体对象的类型进行绑定\n    若一种语言实现了后期绑定，同时必须提供一些机制在运行期间判断对象的类型，并分别调用适当的方法。也就是说编译器此时依然不知道对象的类型，但方法调用机制能自己去调查，找到正确的方法主体。不同的语言对后期绑定的实现方法是有所区别的。可以这样认为：它们都要在对象中安插某些特殊类型的信息\n- 总结\n  - 在java中，几乎所有的方法都是后期绑定，在运行时动态绑定方法属于子类还是基类。但也有特殊，针对static方法和final方法由于不能被继承，因此在编译时就可以确定他们的值，他们是属于前期绑定。特别说明的一点，private声明的方法和成员变量不能被子类继承，所有的private方法都被隐式的指定为final的(由此我们知道：将方法声明为final类型的\n    一是为了防止方法被覆盖，二是为了有效的关闭java中的动态绑定)\n    java当中的向上转型或者说多态是借助于动态绑定实现的，所以理解动态绑定，也就搞定向上转型和多态\n#### 介绍go\n\n\n#### 协程在青训营项目的使用\n\n#### go有没有静态变量\nGo 语言本身没有直接提供传统意义上的静态变量。在Go中，变量的存储类型由其作用域和声明方式决定。Go语言中的变量可以被声明为全局变量、局部变量、方法中的 receiver 变量等，但没有显式的静态变量声明方式。\n然而，Go 中的某些特性可以实现类似静态变量的效果：\n- 全局变量：在Go中，如果需要在包的范围内持久化变量的值，可以使用全局变量。这些变量在程序的整个运行期间都是存在的，并且可以通过包内的所有函数访问。\n- 闭包：Go 的匿名函数（即闭包）可以捕获其周围作用域的变量。即使外部函数执行完毕，这些变量仍然可以在闭包内部被访问和修改，从而实现了类似静态变量的效果。\n- 值接收者：在Go的方法中，可以通过值接收者传递变量的副本。如果这个变量是struct类型，那么它的字段（即使是在底层字段中的指针或引用）也将在方法调用期间保持持久化状态，这也可以被看作是一种静态存储状态。\n总的来说，尽管Go没有直接提供静态变量的概念，但通过全局变量、闭包和值接收者等机制，可以在不同场景下实现类似静态变量的功能。\n\n\n#### 青训营项目用的哪些数据库\n\n#### mysql8和mysql5的区别\n`看看gpt怎么说`\n- 性能提升：MySQL8的性能比MySQL5提高了约2倍，主要体现在查询速度和并发处理能力上。\n- 数据库默认编码：MySQL8的默认字符编码为utf8mb4，包含了所有emoji字符，而MySQL5的默认编码为latin1，可能会导致中文字符乱码。\n- 索引隐藏：MySQL8支持创建隐式索引，当索引被隐藏时，查询优化器不会使用该索引。这样可以测试索引效率，如果查询效率一样，可以考虑删除索引。\n- 窗口函数：MySQL8提供了窗口函数，可以在满足某种条件的记录集合上执行特殊函数。窗口函数可以用来实现多种查询方式，提高分析型场景的效率。\n- JSON处理：MySQL8相比MySQL5，对JSON数据类型的支持更加完善，可以直接在JSON数据中进行搜索、排序和过滤，并支持JSON表达式索引，大大提高了处理JSON数据的效率和性能。\n\n#### 一条sql在mysql内部的执行流程\n##### 查询sql\n1. 客户端通过TCP连接发送连接请求到mysql连接器，连接器会对该请求进行权限验证及连接资源分配（max_connections，8小时超时）\n2. 建立连接后客户端发送一条语句，mysql收到该语句后，通过命令分发器判断其是否是一条select语句，如果是，在开启查询缓存的情况下，先在查询缓存中查找该SQL是否完全匹配，如果完全匹配，验证当前用户是否具备查询权限，如果权限验证通过，直接返回结果集给客户端，该查询也就完成了。如果不匹配继续向下执行。（注意：此步并不做词法及语法分析，也就是用不到分析器，这块原来我也很疑惑，如果不做分析mysql怎么知道我要查什么？解释如下：{MySQL将缓存存放在一个引用表中，通过一个哈希值引用，这个哈希值包括了以下因素，即查询本身、当前要查询的数据库、客户端协议的版本等一些其他可能影响返回结果的信息。  当判断缓存是否命中时，MySQL不会进行解析查询语句，而是直接使用SQL语句和客户端发送过来的其他原始信息。所以，任何字符上的不同，例如空格、注解等都会导致缓存的不命中。} 其实说白了大概就是拿着你的SQL和原始缓存的SQL比对）\n\n3. 如果在查询缓存中未匹配成功，则将语句交给分析器作语法分析，MySQL需要知道到底要查哪些东西，如果语法不对，就会返回语法错误中断查询。\n\n4. 分析器的工作完成后，将语句传递给预处理器，检查数据表和数据列是否存在，解析别名看是否存在歧义等\n\n5. 语句解析完成后，MySQL就知道要查什么了，之后会将语句传递给优化器进行优化（通过索引选择最快的查找方式），并生成执行计划。\n\n6. 之后交给执行器去具体执行该语句，在执行之前，会先检查该用户是否具有查询权限，如果有，继续执行该语句。执行器开始执行后，会逐渐将数据保存到结果集中，同时会逐步将数据缓存到查询缓存中，最终将结果集返回给客户端。\n（缓存到查询缓存受到几个参数的影响 1.query_cache_type 是否打开查询缓存,默认为OFF  \n2.query_cache_size:查询缓存使用的总内存空间,默认值为1M\n3.query_cache_limit 对于大于该值的结果集不会被缓存，默认值1M， \n在8.0版本后该参数被移除了）（如果该SQL执行过程中超过了慢查询阀值，该SQL会被记录到慢查询日志中）\n\n##### 更新sql\n1. 客户端通过TCP连接发送连接请求到mysql连接器，连接器会对该请求进行权限验证及连接资源分配（max_connections，8小时超时）\n\n2. 建立连接后客户端发送一条语句，mysql收到该语句后，通过命令分发器判断其是否是一条更新语句，如果是，则直接发送给分析器做语法分析。\n\n3. 分析器阶段，MySQL需要知道到底要查哪些东西，如果语法不对，就会返回语法错误中断查询\n\n4. 分析器的工作完成后，将语句传递给预处理器，检查数据表和数据列是否存在，解析别名看是否存在歧义等\n\n5. 语句解析完成后，MySQL就知道要查什么了，之后会将语句传递给优化器进行优化（通过索引选择最快的查找方式），并生成执行计划。\n\n6. 执行器根据生成的执行计划去open table，此时会先去查看该表上是否有元数据（MDL）排他锁（如果有元数据共享锁则无影响），如果有元数据排他锁，则事物被阻塞，进入等待状态（时间由lock_wait_timeout决定，默认是一年。。。。），等元数据锁被释放，继续执行。如果无元数据锁或者是有元数据共享锁，则该事务在表上加元数据共享锁（因为元数据共享读锁之间是不冲突的，如果表上有元数据共享锁，我们执行alter table这样的DDL语句时，会进入等待状态，因为DDL语句需要在表上加元数据排他锁）\n\n7. 进入引擎层（默认innodb），去innodb_buffer_pool里面的data dictionary得到表得相关信息\n\n8. 根据表信息去innodb_buffer_pool里面的lock info查看是否有相关的锁信息，如果有则等待（因为要加排它锁），如果没有则加排它锁，更新lock info。\n\n9. 取读取相关数据页到innodb_buffer_pool中（如果数据页本身就在缓存中，则不用从硬盘读取）\n\n10. 将页中的原始数据（快照）保存到undo log buffer中（undo log buffer会以相关参数定义的规则进行刷盘操作写入到undo tablespace中）\n\n11. 在innodb_buffer_pool中将相关页面更新，该页变成脏页（脏页会以相关参数定义的规则进行刷盘操作写入所属表空间中）\n\n12. 页面修改完成后，会把修改后的物理页面保存到redo log buffer中，（redo log buffer会以相关参数定义的规则进行刷盘操作写入到redo tablespace中）\n\n13. 如果开启binlog，则更新数据的逻辑语句也会记录在binlog_cache中（binlog会以相关参数定义的规则进行刷盘操作写入到binlog file 中）\n\n14. 如果该表上有二级索引并且本次操作会影响到二级索引，则会把相关的二级索引修改写入到innodb_buffer_pool中的change buffer里（change buffer 会以相关参数定义的规则进行刷盘操作写入所属表空间中）\n\n15. 前期的准备工作到此已经做完了，之后便是事务的commit或者rollback操作。一般情况下执行的是commit操作\n\n16. 执行commit操作后（mysql默认开启自动提交，如果手动开始事务begin，则需要显示提交commit），由于要保证redolog与binlog的一致性，redolog采用2阶段提交方式。\n\n17. 将undo log buffer及redo log buffer刷盘（innodb_flush_log_at_trx_commit=1），并将该事务的redolog标记为prepare状态。\n\n18. 将binlog_cache数据刷盘（sync_binlog=1）\n\n19. 如果开启了主从结构，此时会将binlog_cache中的信息通过io线程发送给从机，如果开启了半同步复制则需要等待从机落盘（relay log）并反馈。如果是异步复制则无需等待(默认是异步复制)\n\n20. 待binlog落盘完成，再将redolog中该事务信息标记为commit，释放相关锁资源。此时一个更新事务的操作已经完成，返回给客户端成功更新提示。\n\n21. 标记undolog中该事务修改页的原始快照信息为delete，当无其他事务引用该原始数据时(MVCC)，再将其删除\n\n22. 如果此时触发了脏页刷盘操作，会先将脏页写入到double write buffer中（防止写入过程中出现断页，因为mysql页面默认为16K，linux操作系统最大为4K，如果写了8K时系统挂了，这个数据页将不完整，标记为损坏）然后再写到期所在表空间的相应位置。\n#### 写过最复杂的sql\n\n#### mysql判断一条语句的性能\n\n#### 讲一下回表的概念\n\n#### redis在项目中的使用\n\n#### redis数据类型\n\n#### 讲一下设计模式\n\n#### 为什么使用kafka\n\n#### kafka为什么做日志消费\n`看看gpt怎么说`\n1. `高吞吐量和低延迟`：Kafka每秒可以处理几十万条消息，它的延迟最低只有几毫秒。这种特性使得Kafka在处理大规模数据流时仍能保持高效率和快速响应。\n2. `可扩展性和持久性`：Kafka集群支持热扩展，当流量增大时，可以通过增加更多的节点来提高处理能力。此外，所有的消息都会被持久化到本地磁盘，并且支持数据备份防止数据丢失。\n3. `容错性`：Kafka允许集群中节点失败，比如如果一个副本集合有n个副本，那么即使有n-1个副本失效，系统也可以正常运行。\n4. `高并发`：Kafka设计用于支持数千个客户端同时读写，这对于需要处理大量并发读写操作的日志系统来说非常重要。\n5. `集成性和实时处理能力`：Kafka提供了类似消息系统的API，允许应用程序实时消费日志事件。这意味着应用程序可以立即对新的日志事件做出反应，而无需等待日志被写入磁盘或被传送到另一个系统。\n\n#### kafka的消息会存多久\n1. 时间,可以自己设置一个储存的最大时间.\n\n2. partition大小,可以给分区设置最大储存值.\n\n#### rabbitmq的使用\n\n#### 瑞吉外卖介绍\n\n#### 青训营项目相较于其他团队的优势和缺点\n\n#### 最近在学什么\n\n#### 是否了解滴滴、阿里最近的崩溃事件\n\n#### 反问\n- 主要的业务模块\n- 宿舍有没有同学去实习的","source":"_posts/万物心选一面.md","raw":"---\ntitle: 万物心选一面\ntags:\n  - 就业\n  - kafka\ncategories: 就业\nkeywords: 面经、就业\ndescription: 面经、就业\ntop_img: /img/jiuye.jpg\ncomments: true\ncover: /img/jiuye.jpg\ncopyright_author: xingxing\ncopyright_author_href: www.staraway.asia\ncopyright_info: 可转载哦\ndate: 2023-12-15 08:55:20\n---\n\n\n#### 开发语言为php和go，对此是否有什么考虑\n\n#### 在校期间比较有成就感的一件事情\n\n#### 在校期间参加什么比赛\n\n#### 在校期间的社团或者实验室经历\n\n#### java的特性\n\n#### java的多态及体现\n\n##### 多态实现的必要条件\n- 子类必须继承父类\n- 必须有重写\n- 父类引用指向子类对象\n##### 多态实现的具体途径\n- 重写\n- 重载\n- 接口实现（spring中的service和serviceImpl是很好的体现）\n##### 动态绑定\n- 静态绑定（早绑定 编译器绑定）\n  - 在程序执行前方法已经被绑定，此时由编译器或其它连接程序实现。例如：C。针对java可以理解为程序编译期的绑定；特别说明一点，java当中的方法只有final，static，private和构造方法是前期绑定\n- 动态绑定（迟绑定 运行期绑定）\n  - 后期绑定：在运行时根据具体对象的类型进行绑定\n    若一种语言实现了后期绑定，同时必须提供一些机制在运行期间判断对象的类型，并分别调用适当的方法。也就是说编译器此时依然不知道对象的类型，但方法调用机制能自己去调查，找到正确的方法主体。不同的语言对后期绑定的实现方法是有所区别的。可以这样认为：它们都要在对象中安插某些特殊类型的信息\n- 总结\n  - 在java中，几乎所有的方法都是后期绑定，在运行时动态绑定方法属于子类还是基类。但也有特殊，针对static方法和final方法由于不能被继承，因此在编译时就可以确定他们的值，他们是属于前期绑定。特别说明的一点，private声明的方法和成员变量不能被子类继承，所有的private方法都被隐式的指定为final的(由此我们知道：将方法声明为final类型的\n    一是为了防止方法被覆盖，二是为了有效的关闭java中的动态绑定)\n    java当中的向上转型或者说多态是借助于动态绑定实现的，所以理解动态绑定，也就搞定向上转型和多态\n#### 介绍go\n\n\n#### 协程在青训营项目的使用\n\n#### go有没有静态变量\nGo 语言本身没有直接提供传统意义上的静态变量。在Go中，变量的存储类型由其作用域和声明方式决定。Go语言中的变量可以被声明为全局变量、局部变量、方法中的 receiver 变量等，但没有显式的静态变量声明方式。\n然而，Go 中的某些特性可以实现类似静态变量的效果：\n- 全局变量：在Go中，如果需要在包的范围内持久化变量的值，可以使用全局变量。这些变量在程序的整个运行期间都是存在的，并且可以通过包内的所有函数访问。\n- 闭包：Go 的匿名函数（即闭包）可以捕获其周围作用域的变量。即使外部函数执行完毕，这些变量仍然可以在闭包内部被访问和修改，从而实现了类似静态变量的效果。\n- 值接收者：在Go的方法中，可以通过值接收者传递变量的副本。如果这个变量是struct类型，那么它的字段（即使是在底层字段中的指针或引用）也将在方法调用期间保持持久化状态，这也可以被看作是一种静态存储状态。\n总的来说，尽管Go没有直接提供静态变量的概念，但通过全局变量、闭包和值接收者等机制，可以在不同场景下实现类似静态变量的功能。\n\n\n#### 青训营项目用的哪些数据库\n\n#### mysql8和mysql5的区别\n`看看gpt怎么说`\n- 性能提升：MySQL8的性能比MySQL5提高了约2倍，主要体现在查询速度和并发处理能力上。\n- 数据库默认编码：MySQL8的默认字符编码为utf8mb4，包含了所有emoji字符，而MySQL5的默认编码为latin1，可能会导致中文字符乱码。\n- 索引隐藏：MySQL8支持创建隐式索引，当索引被隐藏时，查询优化器不会使用该索引。这样可以测试索引效率，如果查询效率一样，可以考虑删除索引。\n- 窗口函数：MySQL8提供了窗口函数，可以在满足某种条件的记录集合上执行特殊函数。窗口函数可以用来实现多种查询方式，提高分析型场景的效率。\n- JSON处理：MySQL8相比MySQL5，对JSON数据类型的支持更加完善，可以直接在JSON数据中进行搜索、排序和过滤，并支持JSON表达式索引，大大提高了处理JSON数据的效率和性能。\n\n#### 一条sql在mysql内部的执行流程\n##### 查询sql\n1. 客户端通过TCP连接发送连接请求到mysql连接器，连接器会对该请求进行权限验证及连接资源分配（max_connections，8小时超时）\n2. 建立连接后客户端发送一条语句，mysql收到该语句后，通过命令分发器判断其是否是一条select语句，如果是，在开启查询缓存的情况下，先在查询缓存中查找该SQL是否完全匹配，如果完全匹配，验证当前用户是否具备查询权限，如果权限验证通过，直接返回结果集给客户端，该查询也就完成了。如果不匹配继续向下执行。（注意：此步并不做词法及语法分析，也就是用不到分析器，这块原来我也很疑惑，如果不做分析mysql怎么知道我要查什么？解释如下：{MySQL将缓存存放在一个引用表中，通过一个哈希值引用，这个哈希值包括了以下因素，即查询本身、当前要查询的数据库、客户端协议的版本等一些其他可能影响返回结果的信息。  当判断缓存是否命中时，MySQL不会进行解析查询语句，而是直接使用SQL语句和客户端发送过来的其他原始信息。所以，任何字符上的不同，例如空格、注解等都会导致缓存的不命中。} 其实说白了大概就是拿着你的SQL和原始缓存的SQL比对）\n\n3. 如果在查询缓存中未匹配成功，则将语句交给分析器作语法分析，MySQL需要知道到底要查哪些东西，如果语法不对，就会返回语法错误中断查询。\n\n4. 分析器的工作完成后，将语句传递给预处理器，检查数据表和数据列是否存在，解析别名看是否存在歧义等\n\n5. 语句解析完成后，MySQL就知道要查什么了，之后会将语句传递给优化器进行优化（通过索引选择最快的查找方式），并生成执行计划。\n\n6. 之后交给执行器去具体执行该语句，在执行之前，会先检查该用户是否具有查询权限，如果有，继续执行该语句。执行器开始执行后，会逐渐将数据保存到结果集中，同时会逐步将数据缓存到查询缓存中，最终将结果集返回给客户端。\n（缓存到查询缓存受到几个参数的影响 1.query_cache_type 是否打开查询缓存,默认为OFF  \n2.query_cache_size:查询缓存使用的总内存空间,默认值为1M\n3.query_cache_limit 对于大于该值的结果集不会被缓存，默认值1M， \n在8.0版本后该参数被移除了）（如果该SQL执行过程中超过了慢查询阀值，该SQL会被记录到慢查询日志中）\n\n##### 更新sql\n1. 客户端通过TCP连接发送连接请求到mysql连接器，连接器会对该请求进行权限验证及连接资源分配（max_connections，8小时超时）\n\n2. 建立连接后客户端发送一条语句，mysql收到该语句后，通过命令分发器判断其是否是一条更新语句，如果是，则直接发送给分析器做语法分析。\n\n3. 分析器阶段，MySQL需要知道到底要查哪些东西，如果语法不对，就会返回语法错误中断查询\n\n4. 分析器的工作完成后，将语句传递给预处理器，检查数据表和数据列是否存在，解析别名看是否存在歧义等\n\n5. 语句解析完成后，MySQL就知道要查什么了，之后会将语句传递给优化器进行优化（通过索引选择最快的查找方式），并生成执行计划。\n\n6. 执行器根据生成的执行计划去open table，此时会先去查看该表上是否有元数据（MDL）排他锁（如果有元数据共享锁则无影响），如果有元数据排他锁，则事物被阻塞，进入等待状态（时间由lock_wait_timeout决定，默认是一年。。。。），等元数据锁被释放，继续执行。如果无元数据锁或者是有元数据共享锁，则该事务在表上加元数据共享锁（因为元数据共享读锁之间是不冲突的，如果表上有元数据共享锁，我们执行alter table这样的DDL语句时，会进入等待状态，因为DDL语句需要在表上加元数据排他锁）\n\n7. 进入引擎层（默认innodb），去innodb_buffer_pool里面的data dictionary得到表得相关信息\n\n8. 根据表信息去innodb_buffer_pool里面的lock info查看是否有相关的锁信息，如果有则等待（因为要加排它锁），如果没有则加排它锁，更新lock info。\n\n9. 取读取相关数据页到innodb_buffer_pool中（如果数据页本身就在缓存中，则不用从硬盘读取）\n\n10. 将页中的原始数据（快照）保存到undo log buffer中（undo log buffer会以相关参数定义的规则进行刷盘操作写入到undo tablespace中）\n\n11. 在innodb_buffer_pool中将相关页面更新，该页变成脏页（脏页会以相关参数定义的规则进行刷盘操作写入所属表空间中）\n\n12. 页面修改完成后，会把修改后的物理页面保存到redo log buffer中，（redo log buffer会以相关参数定义的规则进行刷盘操作写入到redo tablespace中）\n\n13. 如果开启binlog，则更新数据的逻辑语句也会记录在binlog_cache中（binlog会以相关参数定义的规则进行刷盘操作写入到binlog file 中）\n\n14. 如果该表上有二级索引并且本次操作会影响到二级索引，则会把相关的二级索引修改写入到innodb_buffer_pool中的change buffer里（change buffer 会以相关参数定义的规则进行刷盘操作写入所属表空间中）\n\n15. 前期的准备工作到此已经做完了，之后便是事务的commit或者rollback操作。一般情况下执行的是commit操作\n\n16. 执行commit操作后（mysql默认开启自动提交，如果手动开始事务begin，则需要显示提交commit），由于要保证redolog与binlog的一致性，redolog采用2阶段提交方式。\n\n17. 将undo log buffer及redo log buffer刷盘（innodb_flush_log_at_trx_commit=1），并将该事务的redolog标记为prepare状态。\n\n18. 将binlog_cache数据刷盘（sync_binlog=1）\n\n19. 如果开启了主从结构，此时会将binlog_cache中的信息通过io线程发送给从机，如果开启了半同步复制则需要等待从机落盘（relay log）并反馈。如果是异步复制则无需等待(默认是异步复制)\n\n20. 待binlog落盘完成，再将redolog中该事务信息标记为commit，释放相关锁资源。此时一个更新事务的操作已经完成，返回给客户端成功更新提示。\n\n21. 标记undolog中该事务修改页的原始快照信息为delete，当无其他事务引用该原始数据时(MVCC)，再将其删除\n\n22. 如果此时触发了脏页刷盘操作，会先将脏页写入到double write buffer中（防止写入过程中出现断页，因为mysql页面默认为16K，linux操作系统最大为4K，如果写了8K时系统挂了，这个数据页将不完整，标记为损坏）然后再写到期所在表空间的相应位置。\n#### 写过最复杂的sql\n\n#### mysql判断一条语句的性能\n\n#### 讲一下回表的概念\n\n#### redis在项目中的使用\n\n#### redis数据类型\n\n#### 讲一下设计模式\n\n#### 为什么使用kafka\n\n#### kafka为什么做日志消费\n`看看gpt怎么说`\n1. `高吞吐量和低延迟`：Kafka每秒可以处理几十万条消息，它的延迟最低只有几毫秒。这种特性使得Kafka在处理大规模数据流时仍能保持高效率和快速响应。\n2. `可扩展性和持久性`：Kafka集群支持热扩展，当流量增大时，可以通过增加更多的节点来提高处理能力。此外，所有的消息都会被持久化到本地磁盘，并且支持数据备份防止数据丢失。\n3. `容错性`：Kafka允许集群中节点失败，比如如果一个副本集合有n个副本，那么即使有n-1个副本失效，系统也可以正常运行。\n4. `高并发`：Kafka设计用于支持数千个客户端同时读写，这对于需要处理大量并发读写操作的日志系统来说非常重要。\n5. `集成性和实时处理能力`：Kafka提供了类似消息系统的API，允许应用程序实时消费日志事件。这意味着应用程序可以立即对新的日志事件做出反应，而无需等待日志被写入磁盘或被传送到另一个系统。\n\n#### kafka的消息会存多久\n1. 时间,可以自己设置一个储存的最大时间.\n\n2. partition大小,可以给分区设置最大储存值.\n\n#### rabbitmq的使用\n\n#### 瑞吉外卖介绍\n\n#### 青训营项目相较于其他团队的优势和缺点\n\n#### 最近在学什么\n\n#### 是否了解滴滴、阿里最近的崩溃事件\n\n#### 反问\n- 主要的业务模块\n- 宿舍有没有同学去实习的","slug":"万物心选一面","published":1,"updated":"2023-12-19T07:10:41.978Z","layout":"post","photos":[],"link":"","_id":"clqc2fb5000015spkaty6ft2r","content":"<h4 id=\"开发语言为php和go，对此是否有什么考虑\"><a href=\"#开发语言为php和go，对此是否有什么考虑\" class=\"headerlink\" title=\"开发语言为php和go，对此是否有什么考虑\"></a>开发语言为php和go，对此是否有什么考虑</h4><h4 id=\"在校期间比较有成就感的一件事情\"><a href=\"#在校期间比较有成就感的一件事情\" class=\"headerlink\" title=\"在校期间比较有成就感的一件事情\"></a>在校期间比较有成就感的一件事情</h4><h4 id=\"在校期间参加什么比赛\"><a href=\"#在校期间参加什么比赛\" class=\"headerlink\" title=\"在校期间参加什么比赛\"></a>在校期间参加什么比赛</h4><h4 id=\"在校期间的社团或者实验室经历\"><a href=\"#在校期间的社团或者实验室经历\" class=\"headerlink\" title=\"在校期间的社团或者实验室经历\"></a>在校期间的社团或者实验室经历</h4><h4 id=\"java的特性\"><a href=\"#java的特性\" class=\"headerlink\" title=\"java的特性\"></a>java的特性</h4><h4 id=\"java的多态及体现\"><a href=\"#java的多态及体现\" class=\"headerlink\" title=\"java的多态及体现\"></a>java的多态及体现</h4><h5 id=\"多态实现的必要条件\"><a href=\"#多态实现的必要条件\" class=\"headerlink\" title=\"多态实现的必要条件\"></a>多态实现的必要条件</h5><ul>\n<li>子类必须继承父类</li>\n<li>必须有重写</li>\n<li>父类引用指向子类对象</li>\n</ul>\n<h5 id=\"多态实现的具体途径\"><a href=\"#多态实现的具体途径\" class=\"headerlink\" title=\"多态实现的具体途径\"></a>多态实现的具体途径</h5><ul>\n<li>重写</li>\n<li>重载</li>\n<li>接口实现（spring中的service和serviceImpl是很好的体现）</li>\n</ul>\n<h5 id=\"动态绑定\"><a href=\"#动态绑定\" class=\"headerlink\" title=\"动态绑定\"></a>动态绑定</h5><ul>\n<li>静态绑定（早绑定 编译器绑定）<ul>\n<li>在程序执行前方法已经被绑定，此时由编译器或其它连接程序实现。例如：C。针对java可以理解为程序编译期的绑定；特别说明一点，java当中的方法只有final，static，private和构造方法是前期绑定</li>\n</ul>\n</li>\n<li>动态绑定（迟绑定 运行期绑定）<ul>\n<li>后期绑定：在运行时根据具体对象的类型进行绑定<br>若一种语言实现了后期绑定，同时必须提供一些机制在运行期间判断对象的类型，并分别调用适当的方法。也就是说编译器此时依然不知道对象的类型，但方法调用机制能自己去调查，找到正确的方法主体。不同的语言对后期绑定的实现方法是有所区别的。可以这样认为：它们都要在对象中安插某些特殊类型的信息</li>\n</ul>\n</li>\n<li>总结<ul>\n<li>在java中，几乎所有的方法都是后期绑定，在运行时动态绑定方法属于子类还是基类。但也有特殊，针对static方法和final方法由于不能被继承，因此在编译时就可以确定他们的值，他们是属于前期绑定。特别说明的一点，private声明的方法和成员变量不能被子类继承，所有的private方法都被隐式的指定为final的(由此我们知道：将方法声明为final类型的<br>一是为了防止方法被覆盖，二是为了有效的关闭java中的动态绑定)<br>java当中的向上转型或者说多态是借助于动态绑定实现的，所以理解动态绑定，也就搞定向上转型和多态</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"介绍go\"><a href=\"#介绍go\" class=\"headerlink\" title=\"介绍go\"></a>介绍go</h4><h4 id=\"协程在青训营项目的使用\"><a href=\"#协程在青训营项目的使用\" class=\"headerlink\" title=\"协程在青训营项目的使用\"></a>协程在青训营项目的使用</h4><h4 id=\"go有没有静态变量\"><a href=\"#go有没有静态变量\" class=\"headerlink\" title=\"go有没有静态变量\"></a>go有没有静态变量</h4><p>Go 语言本身没有直接提供传统意义上的静态变量。在Go中，变量的存储类型由其作用域和声明方式决定。Go语言中的变量可以被声明为全局变量、局部变量、方法中的 receiver 变量等，但没有显式的静态变量声明方式。<br>然而，Go 中的某些特性可以实现类似静态变量的效果：</p>\n<ul>\n<li>全局变量：在Go中，如果需要在包的范围内持久化变量的值，可以使用全局变量。这些变量在程序的整个运行期间都是存在的，并且可以通过包内的所有函数访问。</li>\n<li>闭包：Go 的匿名函数（即闭包）可以捕获其周围作用域的变量。即使外部函数执行完毕，这些变量仍然可以在闭包内部被访问和修改，从而实现了类似静态变量的效果。</li>\n<li>值接收者：在Go的方法中，可以通过值接收者传递变量的副本。如果这个变量是struct类型，那么它的字段（即使是在底层字段中的指针或引用）也将在方法调用期间保持持久化状态，这也可以被看作是一种静态存储状态。<br>总的来说，尽管Go没有直接提供静态变量的概念，但通过全局变量、闭包和值接收者等机制，可以在不同场景下实现类似静态变量的功能。</li>\n</ul>\n<h4 id=\"青训营项目用的哪些数据库\"><a href=\"#青训营项目用的哪些数据库\" class=\"headerlink\" title=\"青训营项目用的哪些数据库\"></a>青训营项目用的哪些数据库</h4><h4 id=\"mysql8和mysql5的区别\"><a href=\"#mysql8和mysql5的区别\" class=\"headerlink\" title=\"mysql8和mysql5的区别\"></a>mysql8和mysql5的区别</h4><p><code>看看gpt怎么说</code></p>\n<ul>\n<li>性能提升：MySQL8的性能比MySQL5提高了约2倍，主要体现在查询速度和并发处理能力上。</li>\n<li>数据库默认编码：MySQL8的默认字符编码为utf8mb4，包含了所有emoji字符，而MySQL5的默认编码为latin1，可能会导致中文字符乱码。</li>\n<li>索引隐藏：MySQL8支持创建隐式索引，当索引被隐藏时，查询优化器不会使用该索引。这样可以测试索引效率，如果查询效率一样，可以考虑删除索引。</li>\n<li>窗口函数：MySQL8提供了窗口函数，可以在满足某种条件的记录集合上执行特殊函数。窗口函数可以用来实现多种查询方式，提高分析型场景的效率。</li>\n<li>JSON处理：MySQL8相比MySQL5，对JSON数据类型的支持更加完善，可以直接在JSON数据中进行搜索、排序和过滤，并支持JSON表达式索引，大大提高了处理JSON数据的效率和性能。</li>\n</ul>\n<h4 id=\"一条sql在mysql内部的执行流程\"><a href=\"#一条sql在mysql内部的执行流程\" class=\"headerlink\" title=\"一条sql在mysql内部的执行流程\"></a>一条sql在mysql内部的执行流程</h4><h5 id=\"查询sql\"><a href=\"#查询sql\" class=\"headerlink\" title=\"查询sql\"></a>查询sql</h5><ol>\n<li><p>客户端通过TCP连接发送连接请求到mysql连接器，连接器会对该请求进行权限验证及连接资源分配（max_connections，8小时超时）</p>\n</li>\n<li><p>建立连接后客户端发送一条语句，mysql收到该语句后，通过命令分发器判断其是否是一条select语句，如果是，在开启查询缓存的情况下，先在查询缓存中查找该SQL是否完全匹配，如果完全匹配，验证当前用户是否具备查询权限，如果权限验证通过，直接返回结果集给客户端，该查询也就完成了。如果不匹配继续向下执行。（注意：此步并不做词法及语法分析，也就是用不到分析器，这块原来我也很疑惑，如果不做分析mysql怎么知道我要查什么？解释如下：{MySQL将缓存存放在一个引用表中，通过一个哈希值引用，这个哈希值包括了以下因素，即查询本身、当前要查询的数据库、客户端协议的版本等一些其他可能影响返回结果的信息。  当判断缓存是否命中时，MySQL不会进行解析查询语句，而是直接使用SQL语句和客户端发送过来的其他原始信息。所以，任何字符上的不同，例如空格、注解等都会导致缓存的不命中。} 其实说白了大概就是拿着你的SQL和原始缓存的SQL比对）</p>\n</li>\n<li><p>如果在查询缓存中未匹配成功，则将语句交给分析器作语法分析，MySQL需要知道到底要查哪些东西，如果语法不对，就会返回语法错误中断查询。</p>\n</li>\n<li><p>分析器的工作完成后，将语句传递给预处理器，检查数据表和数据列是否存在，解析别名看是否存在歧义等</p>\n</li>\n<li><p>语句解析完成后，MySQL就知道要查什么了，之后会将语句传递给优化器进行优化（通过索引选择最快的查找方式），并生成执行计划。</p>\n</li>\n<li><p>之后交给执行器去具体执行该语句，在执行之前，会先检查该用户是否具有查询权限，如果有，继续执行该语句。执行器开始执行后，会逐渐将数据保存到结果集中，同时会逐步将数据缓存到查询缓存中，最终将结果集返回给客户端。<br>（缓存到查询缓存受到几个参数的影响 1.query_cache_type 是否打开查询缓存,默认为OFF<br>2.query_cache_size:查询缓存使用的总内存空间,默认值为1M<br>3.query_cache_limit 对于大于该值的结果集不会被缓存，默认值1M，<br>在8.0版本后该参数被移除了）（如果该SQL执行过程中超过了慢查询阀值，该SQL会被记录到慢查询日志中）</p>\n</li>\n</ol>\n<h5 id=\"更新sql\"><a href=\"#更新sql\" class=\"headerlink\" title=\"更新sql\"></a>更新sql</h5><ol>\n<li><p>客户端通过TCP连接发送连接请求到mysql连接器，连接器会对该请求进行权限验证及连接资源分配（max_connections，8小时超时）</p>\n</li>\n<li><p>建立连接后客户端发送一条语句，mysql收到该语句后，通过命令分发器判断其是否是一条更新语句，如果是，则直接发送给分析器做语法分析。</p>\n</li>\n<li><p>分析器阶段，MySQL需要知道到底要查哪些东西，如果语法不对，就会返回语法错误中断查询</p>\n</li>\n<li><p>分析器的工作完成后，将语句传递给预处理器，检查数据表和数据列是否存在，解析别名看是否存在歧义等</p>\n</li>\n<li><p>语句解析完成后，MySQL就知道要查什么了，之后会将语句传递给优化器进行优化（通过索引选择最快的查找方式），并生成执行计划。</p>\n</li>\n<li><p>执行器根据生成的执行计划去open table，此时会先去查看该表上是否有元数据（MDL）排他锁（如果有元数据共享锁则无影响），如果有元数据排他锁，则事物被阻塞，进入等待状态（时间由lock_wait_timeout决定，默认是一年。。。。），等元数据锁被释放，继续执行。如果无元数据锁或者是有元数据共享锁，则该事务在表上加元数据共享锁（因为元数据共享读锁之间是不冲突的，如果表上有元数据共享锁，我们执行alter table这样的DDL语句时，会进入等待状态，因为DDL语句需要在表上加元数据排他锁）</p>\n</li>\n<li><p>进入引擎层（默认innodb），去innodb_buffer_pool里面的data dictionary得到表得相关信息</p>\n</li>\n<li><p>根据表信息去innodb_buffer_pool里面的lock info查看是否有相关的锁信息，如果有则等待（因为要加排它锁），如果没有则加排它锁，更新lock info。</p>\n</li>\n<li><p>取读取相关数据页到innodb_buffer_pool中（如果数据页本身就在缓存中，则不用从硬盘读取）</p>\n</li>\n<li><p>将页中的原始数据（快照）保存到undo log buffer中（undo log buffer会以相关参数定义的规则进行刷盘操作写入到undo tablespace中）</p>\n</li>\n<li><p>在innodb_buffer_pool中将相关页面更新，该页变成脏页（脏页会以相关参数定义的规则进行刷盘操作写入所属表空间中）</p>\n</li>\n<li><p>页面修改完成后，会把修改后的物理页面保存到redo log buffer中，（redo log buffer会以相关参数定义的规则进行刷盘操作写入到redo tablespace中）</p>\n</li>\n<li><p>如果开启binlog，则更新数据的逻辑语句也会记录在binlog_cache中（binlog会以相关参数定义的规则进行刷盘操作写入到binlog file 中）</p>\n</li>\n<li><p>如果该表上有二级索引并且本次操作会影响到二级索引，则会把相关的二级索引修改写入到innodb_buffer_pool中的change buffer里（change buffer 会以相关参数定义的规则进行刷盘操作写入所属表空间中）</p>\n</li>\n<li><p>前期的准备工作到此已经做完了，之后便是事务的commit或者rollback操作。一般情况下执行的是commit操作</p>\n</li>\n<li><p>执行commit操作后（mysql默认开启自动提交，如果手动开始事务begin，则需要显示提交commit），由于要保证redolog与binlog的一致性，redolog采用2阶段提交方式。</p>\n</li>\n<li><p>将undo log buffer及redo log buffer刷盘（innodb_flush_log_at_trx_commit&#x3D;1），并将该事务的redolog标记为prepare状态。</p>\n</li>\n<li><p>将binlog_cache数据刷盘（sync_binlog&#x3D;1）</p>\n</li>\n<li><p>如果开启了主从结构，此时会将binlog_cache中的信息通过io线程发送给从机，如果开启了半同步复制则需要等待从机落盘（relay log）并反馈。如果是异步复制则无需等待(默认是异步复制)</p>\n</li>\n<li><p>待binlog落盘完成，再将redolog中该事务信息标记为commit，释放相关锁资源。此时一个更新事务的操作已经完成，返回给客户端成功更新提示。</p>\n</li>\n<li><p>标记undolog中该事务修改页的原始快照信息为delete，当无其他事务引用该原始数据时(MVCC)，再将其删除</p>\n</li>\n<li><p>如果此时触发了脏页刷盘操作，会先将脏页写入到double write buffer中（防止写入过程中出现断页，因为mysql页面默认为16K，linux操作系统最大为4K，如果写了8K时系统挂了，这个数据页将不完整，标记为损坏）然后再写到期所在表空间的相应位置。</p>\n</li>\n</ol>\n<h4 id=\"写过最复杂的sql\"><a href=\"#写过最复杂的sql\" class=\"headerlink\" title=\"写过最复杂的sql\"></a>写过最复杂的sql</h4><h4 id=\"mysql判断一条语句的性能\"><a href=\"#mysql判断一条语句的性能\" class=\"headerlink\" title=\"mysql判断一条语句的性能\"></a>mysql判断一条语句的性能</h4><h4 id=\"讲一下回表的概念\"><a href=\"#讲一下回表的概念\" class=\"headerlink\" title=\"讲一下回表的概念\"></a>讲一下回表的概念</h4><h4 id=\"redis在项目中的使用\"><a href=\"#redis在项目中的使用\" class=\"headerlink\" title=\"redis在项目中的使用\"></a>redis在项目中的使用</h4><h4 id=\"redis数据类型\"><a href=\"#redis数据类型\" class=\"headerlink\" title=\"redis数据类型\"></a>redis数据类型</h4><h4 id=\"讲一下设计模式\"><a href=\"#讲一下设计模式\" class=\"headerlink\" title=\"讲一下设计模式\"></a>讲一下设计模式</h4><h4 id=\"为什么使用kafka\"><a href=\"#为什么使用kafka\" class=\"headerlink\" title=\"为什么使用kafka\"></a>为什么使用kafka</h4><h4 id=\"kafka为什么做日志消费\"><a href=\"#kafka为什么做日志消费\" class=\"headerlink\" title=\"kafka为什么做日志消费\"></a>kafka为什么做日志消费</h4><p><code>看看gpt怎么说</code></p>\n<ol>\n<li><code>高吞吐量和低延迟</code>：Kafka每秒可以处理几十万条消息，它的延迟最低只有几毫秒。这种特性使得Kafka在处理大规模数据流时仍能保持高效率和快速响应。</li>\n<li><code>可扩展性和持久性</code>：Kafka集群支持热扩展，当流量增大时，可以通过增加更多的节点来提高处理能力。此外，所有的消息都会被持久化到本地磁盘，并且支持数据备份防止数据丢失。</li>\n<li><code>容错性</code>：Kafka允许集群中节点失败，比如如果一个副本集合有n个副本，那么即使有n-1个副本失效，系统也可以正常运行。</li>\n<li><code>高并发</code>：Kafka设计用于支持数千个客户端同时读写，这对于需要处理大量并发读写操作的日志系统来说非常重要。</li>\n<li><code>集成性和实时处理能力</code>：Kafka提供了类似消息系统的API，允许应用程序实时消费日志事件。这意味着应用程序可以立即对新的日志事件做出反应，而无需等待日志被写入磁盘或被传送到另一个系统。</li>\n</ol>\n<h4 id=\"kafka的消息会存多久\"><a href=\"#kafka的消息会存多久\" class=\"headerlink\" title=\"kafka的消息会存多久\"></a>kafka的消息会存多久</h4><ol>\n<li><p>时间,可以自己设置一个储存的最大时间.</p>\n</li>\n<li><p>partition大小,可以给分区设置最大储存值.</p>\n</li>\n</ol>\n<h4 id=\"rabbitmq的使用\"><a href=\"#rabbitmq的使用\" class=\"headerlink\" title=\"rabbitmq的使用\"></a>rabbitmq的使用</h4><h4 id=\"瑞吉外卖介绍\"><a href=\"#瑞吉外卖介绍\" class=\"headerlink\" title=\"瑞吉外卖介绍\"></a>瑞吉外卖介绍</h4><h4 id=\"青训营项目相较于其他团队的优势和缺点\"><a href=\"#青训营项目相较于其他团队的优势和缺点\" class=\"headerlink\" title=\"青训营项目相较于其他团队的优势和缺点\"></a>青训营项目相较于其他团队的优势和缺点</h4><h4 id=\"最近在学什么\"><a href=\"#最近在学什么\" class=\"headerlink\" title=\"最近在学什么\"></a>最近在学什么</h4><h4 id=\"是否了解滴滴、阿里最近的崩溃事件\"><a href=\"#是否了解滴滴、阿里最近的崩溃事件\" class=\"headerlink\" title=\"是否了解滴滴、阿里最近的崩溃事件\"></a>是否了解滴滴、阿里最近的崩溃事件</h4><h4 id=\"反问\"><a href=\"#反问\" class=\"headerlink\" title=\"反问\"></a>反问</h4><ul>\n<li>主要的业务模块</li>\n<li>宿舍有没有同学去实习的</li>\n</ul>\n","site":{"data":{"about":[{"class_name":"关于页","subtitle":"多一点努力，努力多一点✨","avatarImg":"https://avatars.githubusercontent.com/u/106024593?v=4","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱"]},"name":"xingxing","description":"是一名 后端工程师、学生、独立开发者","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"YNU,计算机科学与技术","color":"#357ef5"}]},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，昆明市","background":"/img/location.png","backgroundDark":"/img/locationDark.png"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2003,"selfInfoTips2":"云南大学","selfInfoContent2":"计算机科学与技术","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"xingxing的日常。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"/img/beautifulImg.jpg","essay_list":[{"content":"发现一个免费拿图的网站诶，还是bing好用，垃圾百度！但是好像要翻墙才可以下载原图，不过可以直接复制图片地址，然后用迅雷下载，也是可以的（图片大小翻五倍）。","date":"2023/11/31","image":["/img/essayImg/pixabay.png"],"link":"https://pixabay.com/zh/"},{"content":"寒假实习求职顺利（求神拜佛）","date":"2023/12/2"},{"content":"bilibili给个机会！！！","date":"2023/12/7"},{"content":"许愿oc！！！","date":"2023/12/19"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}],"bangumis":{"wantWatch":[{"title":"百妖谱 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/5424062d0821f89ea549533d8a2c3cfff2076766.png","totalCount":"全12话","id":28230717,"follow":"527.1 万","view":"1.2 亿","danmaku":"47.2 万","coin":"42.5 万","score":9.2,"des":"桃都的灵医桃夭带着小和尚磨牙、第一季收服的小狐妖、桃都老邻居柳公子一起继续第一季的故事，为了寻找失踪的百妖谱而云游四方，在途中遇到应声、化蛇、媪姬、照海四个妖怪，为妖怪治疗各种疑难杂症。..."},{"title":"伍六七之玄武国篇","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/00843865ea13702eccc4efd64c313fd4c8029c6b.jpg","totalCount":"全10话","id":28232253,"follow":"1031.1 万","view":"4.7 亿","danmaku":"186.3 万","coin":"405.6 万","score":9.8,"des":"为了保护小鸡岛居民和这里平静的生活，伍六七和他的伙伴大保和小飞开启了去往玄武国的冒险旅程，去寻找身世的真相和解救小岛的办法，等待他们的又将是更多的未知与奇遇。..."},{"title":"伍六七之暗影宿命","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/6e5c5848ff8943fd6366e943a4f75b98598c50c6.png","totalCount":"全10话","id":28412536,"follow":"1250.4 万","view":"5.1 亿","danmaku":"110.7 万","coin":"410.9 万","score":9.2,"des":"随着伍六七回到玄武国寻找他的身世，亦引起了七大暗影刺客的追捕。然而每一位暗影刺客都带着不同的目的和不同的过去，青凤的阴谋也在此浮出了水面。而此时等待着小鸡岛上的人民，又将是另一个危机，伍六七将如何面对..."}],"watching":[{"title":"灵笼 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cf5f6595ece017215e7d61482f022094479dff37.png","totalCount":"-","id":21123554,"follow":"910.5 万","view":"1586.9 万","danmaku":"7.0 万","coin":"35.1 万","score":"-","des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."},{"title":"灵笼","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cfab7e0fbdb4786ff4e885d050b7cf37f8829486.png","totalCount":"全16话","id":23432,"follow":"903.9 万","view":"6.1 亿","danmaku":"674.4 万","coin":"677.7 万","score":9.6,"des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."}],"watched":[{"title":"时光代理人","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/1fe1cd0ec59b790fea83a5726cdc0fa3189c4394.png","totalCount":"全24话","id":28230742,"follow":"879.2 万","view":"5.0 亿","danmaku":"399.9 万","coin":"418.4 万","score":9.7,"des":"为了找到一系列罪案的操纵者，程小时求助于肖力，找寻一切藏匿于暗中的蛛丝马迹。但是拥有未知超能力的凶手在阴影之中，也从没有停止过阴谋的脚步。神秘能力者如影随形，身边伙伴接连遇害，程小时屡次身陷险境。随着..."},{"title":"元龙 第三季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/b3a9b5975059e074593b9381322ad8c423be7b89.png","totalCount":"全16话","id":28235400,"follow":"620.5 万","view":"1.5 亿","danmaku":"24.0 万","coin":"10.7 万","score":6.8,"des":"王胜于现代世界醒来，一切是如此真实而又如梦似幻。皇城遗女，戴家少主的出现更让局势扑朔迷离。而一场由小搏大的赌局，也让王胜渐渐意识到这不仅仅是他和戴家少主两个人的较量。恰时逢盛宴，天下汇集，王胜不得不再..."},{"title":"三体","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/9870f898b8a39bbb8048f34317f8d78a02cc1770.png","totalCount":"全15话","id":4315402,"follow":"690.6 万","view":"6.2 亿","danmaku":"179.3 万","coin":"230.7 万","score":8.2,"des":"无数细线横亘在星空之中，如同一把巨大的刷子。三体星舰队将于400年后抵达。遥远蝴蝶扇动着翅膀，也改变了罗辑的命运，轰然打开的门后是世界中心——面壁计划开启。同时，智子所创建的破壁室内，破壁人一一就位…..."},{"title":"狐妖小红娘","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/cbb20ee03e97a9f3ad2e1506a10fd1271f1c584a.jpg","totalCount":"全100话","id":2543,"follow":"691.5 万","view":"8.7 亿","danmaku":"1052.9 万","coin":"259.8 万","score":9.5,"des":"根据古典小说记载，世上有人有妖，妖会与人相恋，妖寿命千年，人的寿命有限，人死了，妖活着。人会投胎转世，但投胎以后不记得上辈子的爱。妖如果痴情的话，就去找狐妖“购买”一项服务，让投胎转世的人回忆起前世的..."}]}}},"cover_type":"img","excerpt":"","more":"<h4 id=\"开发语言为php和go，对此是否有什么考虑\"><a href=\"#开发语言为php和go，对此是否有什么考虑\" class=\"headerlink\" title=\"开发语言为php和go，对此是否有什么考虑\"></a>开发语言为php和go，对此是否有什么考虑</h4><h4 id=\"在校期间比较有成就感的一件事情\"><a href=\"#在校期间比较有成就感的一件事情\" class=\"headerlink\" title=\"在校期间比较有成就感的一件事情\"></a>在校期间比较有成就感的一件事情</h4><h4 id=\"在校期间参加什么比赛\"><a href=\"#在校期间参加什么比赛\" class=\"headerlink\" title=\"在校期间参加什么比赛\"></a>在校期间参加什么比赛</h4><h4 id=\"在校期间的社团或者实验室经历\"><a href=\"#在校期间的社团或者实验室经历\" class=\"headerlink\" title=\"在校期间的社团或者实验室经历\"></a>在校期间的社团或者实验室经历</h4><h4 id=\"java的特性\"><a href=\"#java的特性\" class=\"headerlink\" title=\"java的特性\"></a>java的特性</h4><h4 id=\"java的多态及体现\"><a href=\"#java的多态及体现\" class=\"headerlink\" title=\"java的多态及体现\"></a>java的多态及体现</h4><h5 id=\"多态实现的必要条件\"><a href=\"#多态实现的必要条件\" class=\"headerlink\" title=\"多态实现的必要条件\"></a>多态实现的必要条件</h5><ul>\n<li>子类必须继承父类</li>\n<li>必须有重写</li>\n<li>父类引用指向子类对象</li>\n</ul>\n<h5 id=\"多态实现的具体途径\"><a href=\"#多态实现的具体途径\" class=\"headerlink\" title=\"多态实现的具体途径\"></a>多态实现的具体途径</h5><ul>\n<li>重写</li>\n<li>重载</li>\n<li>接口实现（spring中的service和serviceImpl是很好的体现）</li>\n</ul>\n<h5 id=\"动态绑定\"><a href=\"#动态绑定\" class=\"headerlink\" title=\"动态绑定\"></a>动态绑定</h5><ul>\n<li>静态绑定（早绑定 编译器绑定）<ul>\n<li>在程序执行前方法已经被绑定，此时由编译器或其它连接程序实现。例如：C。针对java可以理解为程序编译期的绑定；特别说明一点，java当中的方法只有final，static，private和构造方法是前期绑定</li>\n</ul>\n</li>\n<li>动态绑定（迟绑定 运行期绑定）<ul>\n<li>后期绑定：在运行时根据具体对象的类型进行绑定<br>若一种语言实现了后期绑定，同时必须提供一些机制在运行期间判断对象的类型，并分别调用适当的方法。也就是说编译器此时依然不知道对象的类型，但方法调用机制能自己去调查，找到正确的方法主体。不同的语言对后期绑定的实现方法是有所区别的。可以这样认为：它们都要在对象中安插某些特殊类型的信息</li>\n</ul>\n</li>\n<li>总结<ul>\n<li>在java中，几乎所有的方法都是后期绑定，在运行时动态绑定方法属于子类还是基类。但也有特殊，针对static方法和final方法由于不能被继承，因此在编译时就可以确定他们的值，他们是属于前期绑定。特别说明的一点，private声明的方法和成员变量不能被子类继承，所有的private方法都被隐式的指定为final的(由此我们知道：将方法声明为final类型的<br>一是为了防止方法被覆盖，二是为了有效的关闭java中的动态绑定)<br>java当中的向上转型或者说多态是借助于动态绑定实现的，所以理解动态绑定，也就搞定向上转型和多态</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"介绍go\"><a href=\"#介绍go\" class=\"headerlink\" title=\"介绍go\"></a>介绍go</h4><h4 id=\"协程在青训营项目的使用\"><a href=\"#协程在青训营项目的使用\" class=\"headerlink\" title=\"协程在青训营项目的使用\"></a>协程在青训营项目的使用</h4><h4 id=\"go有没有静态变量\"><a href=\"#go有没有静态变量\" class=\"headerlink\" title=\"go有没有静态变量\"></a>go有没有静态变量</h4><p>Go 语言本身没有直接提供传统意义上的静态变量。在Go中，变量的存储类型由其作用域和声明方式决定。Go语言中的变量可以被声明为全局变量、局部变量、方法中的 receiver 变量等，但没有显式的静态变量声明方式。<br>然而，Go 中的某些特性可以实现类似静态变量的效果：</p>\n<ul>\n<li>全局变量：在Go中，如果需要在包的范围内持久化变量的值，可以使用全局变量。这些变量在程序的整个运行期间都是存在的，并且可以通过包内的所有函数访问。</li>\n<li>闭包：Go 的匿名函数（即闭包）可以捕获其周围作用域的变量。即使外部函数执行完毕，这些变量仍然可以在闭包内部被访问和修改，从而实现了类似静态变量的效果。</li>\n<li>值接收者：在Go的方法中，可以通过值接收者传递变量的副本。如果这个变量是struct类型，那么它的字段（即使是在底层字段中的指针或引用）也将在方法调用期间保持持久化状态，这也可以被看作是一种静态存储状态。<br>总的来说，尽管Go没有直接提供静态变量的概念，但通过全局变量、闭包和值接收者等机制，可以在不同场景下实现类似静态变量的功能。</li>\n</ul>\n<h4 id=\"青训营项目用的哪些数据库\"><a href=\"#青训营项目用的哪些数据库\" class=\"headerlink\" title=\"青训营项目用的哪些数据库\"></a>青训营项目用的哪些数据库</h4><h4 id=\"mysql8和mysql5的区别\"><a href=\"#mysql8和mysql5的区别\" class=\"headerlink\" title=\"mysql8和mysql5的区别\"></a>mysql8和mysql5的区别</h4><p><code>看看gpt怎么说</code></p>\n<ul>\n<li>性能提升：MySQL8的性能比MySQL5提高了约2倍，主要体现在查询速度和并发处理能力上。</li>\n<li>数据库默认编码：MySQL8的默认字符编码为utf8mb4，包含了所有emoji字符，而MySQL5的默认编码为latin1，可能会导致中文字符乱码。</li>\n<li>索引隐藏：MySQL8支持创建隐式索引，当索引被隐藏时，查询优化器不会使用该索引。这样可以测试索引效率，如果查询效率一样，可以考虑删除索引。</li>\n<li>窗口函数：MySQL8提供了窗口函数，可以在满足某种条件的记录集合上执行特殊函数。窗口函数可以用来实现多种查询方式，提高分析型场景的效率。</li>\n<li>JSON处理：MySQL8相比MySQL5，对JSON数据类型的支持更加完善，可以直接在JSON数据中进行搜索、排序和过滤，并支持JSON表达式索引，大大提高了处理JSON数据的效率和性能。</li>\n</ul>\n<h4 id=\"一条sql在mysql内部的执行流程\"><a href=\"#一条sql在mysql内部的执行流程\" class=\"headerlink\" title=\"一条sql在mysql内部的执行流程\"></a>一条sql在mysql内部的执行流程</h4><h5 id=\"查询sql\"><a href=\"#查询sql\" class=\"headerlink\" title=\"查询sql\"></a>查询sql</h5><ol>\n<li><p>客户端通过TCP连接发送连接请求到mysql连接器，连接器会对该请求进行权限验证及连接资源分配（max_connections，8小时超时）</p>\n</li>\n<li><p>建立连接后客户端发送一条语句，mysql收到该语句后，通过命令分发器判断其是否是一条select语句，如果是，在开启查询缓存的情况下，先在查询缓存中查找该SQL是否完全匹配，如果完全匹配，验证当前用户是否具备查询权限，如果权限验证通过，直接返回结果集给客户端，该查询也就完成了。如果不匹配继续向下执行。（注意：此步并不做词法及语法分析，也就是用不到分析器，这块原来我也很疑惑，如果不做分析mysql怎么知道我要查什么？解释如下：{MySQL将缓存存放在一个引用表中，通过一个哈希值引用，这个哈希值包括了以下因素，即查询本身、当前要查询的数据库、客户端协议的版本等一些其他可能影响返回结果的信息。  当判断缓存是否命中时，MySQL不会进行解析查询语句，而是直接使用SQL语句和客户端发送过来的其他原始信息。所以，任何字符上的不同，例如空格、注解等都会导致缓存的不命中。} 其实说白了大概就是拿着你的SQL和原始缓存的SQL比对）</p>\n</li>\n<li><p>如果在查询缓存中未匹配成功，则将语句交给分析器作语法分析，MySQL需要知道到底要查哪些东西，如果语法不对，就会返回语法错误中断查询。</p>\n</li>\n<li><p>分析器的工作完成后，将语句传递给预处理器，检查数据表和数据列是否存在，解析别名看是否存在歧义等</p>\n</li>\n<li><p>语句解析完成后，MySQL就知道要查什么了，之后会将语句传递给优化器进行优化（通过索引选择最快的查找方式），并生成执行计划。</p>\n</li>\n<li><p>之后交给执行器去具体执行该语句，在执行之前，会先检查该用户是否具有查询权限，如果有，继续执行该语句。执行器开始执行后，会逐渐将数据保存到结果集中，同时会逐步将数据缓存到查询缓存中，最终将结果集返回给客户端。<br>（缓存到查询缓存受到几个参数的影响 1.query_cache_type 是否打开查询缓存,默认为OFF<br>2.query_cache_size:查询缓存使用的总内存空间,默认值为1M<br>3.query_cache_limit 对于大于该值的结果集不会被缓存，默认值1M，<br>在8.0版本后该参数被移除了）（如果该SQL执行过程中超过了慢查询阀值，该SQL会被记录到慢查询日志中）</p>\n</li>\n</ol>\n<h5 id=\"更新sql\"><a href=\"#更新sql\" class=\"headerlink\" title=\"更新sql\"></a>更新sql</h5><ol>\n<li><p>客户端通过TCP连接发送连接请求到mysql连接器，连接器会对该请求进行权限验证及连接资源分配（max_connections，8小时超时）</p>\n</li>\n<li><p>建立连接后客户端发送一条语句，mysql收到该语句后，通过命令分发器判断其是否是一条更新语句，如果是，则直接发送给分析器做语法分析。</p>\n</li>\n<li><p>分析器阶段，MySQL需要知道到底要查哪些东西，如果语法不对，就会返回语法错误中断查询</p>\n</li>\n<li><p>分析器的工作完成后，将语句传递给预处理器，检查数据表和数据列是否存在，解析别名看是否存在歧义等</p>\n</li>\n<li><p>语句解析完成后，MySQL就知道要查什么了，之后会将语句传递给优化器进行优化（通过索引选择最快的查找方式），并生成执行计划。</p>\n</li>\n<li><p>执行器根据生成的执行计划去open table，此时会先去查看该表上是否有元数据（MDL）排他锁（如果有元数据共享锁则无影响），如果有元数据排他锁，则事物被阻塞，进入等待状态（时间由lock_wait_timeout决定，默认是一年。。。。），等元数据锁被释放，继续执行。如果无元数据锁或者是有元数据共享锁，则该事务在表上加元数据共享锁（因为元数据共享读锁之间是不冲突的，如果表上有元数据共享锁，我们执行alter table这样的DDL语句时，会进入等待状态，因为DDL语句需要在表上加元数据排他锁）</p>\n</li>\n<li><p>进入引擎层（默认innodb），去innodb_buffer_pool里面的data dictionary得到表得相关信息</p>\n</li>\n<li><p>根据表信息去innodb_buffer_pool里面的lock info查看是否有相关的锁信息，如果有则等待（因为要加排它锁），如果没有则加排它锁，更新lock info。</p>\n</li>\n<li><p>取读取相关数据页到innodb_buffer_pool中（如果数据页本身就在缓存中，则不用从硬盘读取）</p>\n</li>\n<li><p>将页中的原始数据（快照）保存到undo log buffer中（undo log buffer会以相关参数定义的规则进行刷盘操作写入到undo tablespace中）</p>\n</li>\n<li><p>在innodb_buffer_pool中将相关页面更新，该页变成脏页（脏页会以相关参数定义的规则进行刷盘操作写入所属表空间中）</p>\n</li>\n<li><p>页面修改完成后，会把修改后的物理页面保存到redo log buffer中，（redo log buffer会以相关参数定义的规则进行刷盘操作写入到redo tablespace中）</p>\n</li>\n<li><p>如果开启binlog，则更新数据的逻辑语句也会记录在binlog_cache中（binlog会以相关参数定义的规则进行刷盘操作写入到binlog file 中）</p>\n</li>\n<li><p>如果该表上有二级索引并且本次操作会影响到二级索引，则会把相关的二级索引修改写入到innodb_buffer_pool中的change buffer里（change buffer 会以相关参数定义的规则进行刷盘操作写入所属表空间中）</p>\n</li>\n<li><p>前期的准备工作到此已经做完了，之后便是事务的commit或者rollback操作。一般情况下执行的是commit操作</p>\n</li>\n<li><p>执行commit操作后（mysql默认开启自动提交，如果手动开始事务begin，则需要显示提交commit），由于要保证redolog与binlog的一致性，redolog采用2阶段提交方式。</p>\n</li>\n<li><p>将undo log buffer及redo log buffer刷盘（innodb_flush_log_at_trx_commit&#x3D;1），并将该事务的redolog标记为prepare状态。</p>\n</li>\n<li><p>将binlog_cache数据刷盘（sync_binlog&#x3D;1）</p>\n</li>\n<li><p>如果开启了主从结构，此时会将binlog_cache中的信息通过io线程发送给从机，如果开启了半同步复制则需要等待从机落盘（relay log）并反馈。如果是异步复制则无需等待(默认是异步复制)</p>\n</li>\n<li><p>待binlog落盘完成，再将redolog中该事务信息标记为commit，释放相关锁资源。此时一个更新事务的操作已经完成，返回给客户端成功更新提示。</p>\n</li>\n<li><p>标记undolog中该事务修改页的原始快照信息为delete，当无其他事务引用该原始数据时(MVCC)，再将其删除</p>\n</li>\n<li><p>如果此时触发了脏页刷盘操作，会先将脏页写入到double write buffer中（防止写入过程中出现断页，因为mysql页面默认为16K，linux操作系统最大为4K，如果写了8K时系统挂了，这个数据页将不完整，标记为损坏）然后再写到期所在表空间的相应位置。</p>\n</li>\n</ol>\n<h4 id=\"写过最复杂的sql\"><a href=\"#写过最复杂的sql\" class=\"headerlink\" title=\"写过最复杂的sql\"></a>写过最复杂的sql</h4><h4 id=\"mysql判断一条语句的性能\"><a href=\"#mysql判断一条语句的性能\" class=\"headerlink\" title=\"mysql判断一条语句的性能\"></a>mysql判断一条语句的性能</h4><h4 id=\"讲一下回表的概念\"><a href=\"#讲一下回表的概念\" class=\"headerlink\" title=\"讲一下回表的概念\"></a>讲一下回表的概念</h4><h4 id=\"redis在项目中的使用\"><a href=\"#redis在项目中的使用\" class=\"headerlink\" title=\"redis在项目中的使用\"></a>redis在项目中的使用</h4><h4 id=\"redis数据类型\"><a href=\"#redis数据类型\" class=\"headerlink\" title=\"redis数据类型\"></a>redis数据类型</h4><h4 id=\"讲一下设计模式\"><a href=\"#讲一下设计模式\" class=\"headerlink\" title=\"讲一下设计模式\"></a>讲一下设计模式</h4><h4 id=\"为什么使用kafka\"><a href=\"#为什么使用kafka\" class=\"headerlink\" title=\"为什么使用kafka\"></a>为什么使用kafka</h4><h4 id=\"kafka为什么做日志消费\"><a href=\"#kafka为什么做日志消费\" class=\"headerlink\" title=\"kafka为什么做日志消费\"></a>kafka为什么做日志消费</h4><p><code>看看gpt怎么说</code></p>\n<ol>\n<li><code>高吞吐量和低延迟</code>：Kafka每秒可以处理几十万条消息，它的延迟最低只有几毫秒。这种特性使得Kafka在处理大规模数据流时仍能保持高效率和快速响应。</li>\n<li><code>可扩展性和持久性</code>：Kafka集群支持热扩展，当流量增大时，可以通过增加更多的节点来提高处理能力。此外，所有的消息都会被持久化到本地磁盘，并且支持数据备份防止数据丢失。</li>\n<li><code>容错性</code>：Kafka允许集群中节点失败，比如如果一个副本集合有n个副本，那么即使有n-1个副本失效，系统也可以正常运行。</li>\n<li><code>高并发</code>：Kafka设计用于支持数千个客户端同时读写，这对于需要处理大量并发读写操作的日志系统来说非常重要。</li>\n<li><code>集成性和实时处理能力</code>：Kafka提供了类似消息系统的API，允许应用程序实时消费日志事件。这意味着应用程序可以立即对新的日志事件做出反应，而无需等待日志被写入磁盘或被传送到另一个系统。</li>\n</ol>\n<h4 id=\"kafka的消息会存多久\"><a href=\"#kafka的消息会存多久\" class=\"headerlink\" title=\"kafka的消息会存多久\"></a>kafka的消息会存多久</h4><ol>\n<li><p>时间,可以自己设置一个储存的最大时间.</p>\n</li>\n<li><p>partition大小,可以给分区设置最大储存值.</p>\n</li>\n</ol>\n<h4 id=\"rabbitmq的使用\"><a href=\"#rabbitmq的使用\" class=\"headerlink\" title=\"rabbitmq的使用\"></a>rabbitmq的使用</h4><h4 id=\"瑞吉外卖介绍\"><a href=\"#瑞吉外卖介绍\" class=\"headerlink\" title=\"瑞吉外卖介绍\"></a>瑞吉外卖介绍</h4><h4 id=\"青训营项目相较于其他团队的优势和缺点\"><a href=\"#青训营项目相较于其他团队的优势和缺点\" class=\"headerlink\" title=\"青训营项目相较于其他团队的优势和缺点\"></a>青训营项目相较于其他团队的优势和缺点</h4><h4 id=\"最近在学什么\"><a href=\"#最近在学什么\" class=\"headerlink\" title=\"最近在学什么\"></a>最近在学什么</h4><h4 id=\"是否了解滴滴、阿里最近的崩溃事件\"><a href=\"#是否了解滴滴、阿里最近的崩溃事件\" class=\"headerlink\" title=\"是否了解滴滴、阿里最近的崩溃事件\"></a>是否了解滴滴、阿里最近的崩溃事件</h4><h4 id=\"反问\"><a href=\"#反问\" class=\"headerlink\" title=\"反问\"></a>反问</h4><ul>\n<li>主要的业务模块</li>\n<li>宿舍有没有同学去实习的</li>\n</ul>\n"},{"title":"追形科技一面","keywords":"就业，面经","description":"就业，面经","top_img":"/img/jiuye.jpg","comments":1,"cover":"/img/jiuye.jpg","copyright_author":"xingxing","copyright_author_href":"www.staraway.asia","copyright_info":"可转载哦","date":"2023-12-13T12:19:18.000Z","_content":"\n#### 是否学过c++？\n\n> 是真没学过，操作系统课稍微用过一点\n\n#### 讲讲golang里面的协程\n\n>\n协程是轻量级的线程，可以理解为用户态的线程，\n协程的调度是由用户自己控制的，而线程的调度是由操作系统控制的，\n协程的切换不需要切换到内核态，所以协程的切换效率比线程高很多，\n协程的缺点是不能利用多核资源，所以一般用于IO密集型的场景，如web服务器，数据库等。\n\n#### 内存1个G，怎么跑2个G的程序\n\n`看看gpt怎么答的`\n\n> 虚拟内存是一种操作系统的内存管理技术，它允许将部分程序的数据存储在硬盘上，以补充物理内存的不足。通过使用虚拟内存，操作系统可以为每个程序提供比物理内存更大的地址空间，从而使程序能够运行需要更多内存的任务。\n> 以下是虚拟内存的工作原理：\n> 分页：虚拟内存将物理内存和硬盘上的一个称为页面文件（page file）的文件划分为固定大小的页面（Page）。物理内存也被分成相同大小的页面框（Page\n> Frame）。每个页面框可以容纳一个页面。\n> 页面置换：当物理内存不足时，操作系统将不活动的页面从物理内存中交换到页面文件中，以腾出空间供活动页面使用。被交换出的页面可以是最近未使用的页面或者是暂时不需要的页面。\n>\n页面访问：当程序访问一个在虚拟内存中的页面时，操作系统会检查该页面是否已经加载到物理内存中。如果页面已经在物理内存中，那么操作系统会将页面的物理地址映射到程序的虚拟地址，使程序可以正常访问该页面。如果页面不在物理内存中，操作系统会将需要的页面从页面文件中读取到物理内存，并进行地址映射。\n> 页面写回：当程序对一个页面进行写操作时，操作系统会将被修改的页面标记为\"脏\"（dirty），并将其写回到页面文件中。这样可以确保页面的最新数据可以永久保存\n> 虚拟内存的主要优势是：\n> 扩展内存容量：虚拟内存允许程序使用比物理内存更大的地址空间，从而能够运行需要更多内存的任务。\n> 内存管理灵活性：操作系统可以根据不同程序的需求，动态地将页面调入和调出物理内存，以最大程度地利用可用内存资源。\n> 然而，虚拟内存也存在一些缺点：\n> 性能影响：由于虚拟内存需要频繁地进行页面交换和硬盘读写操作，这可能导致系统性能下降，特别是当频繁访问页面文件时。\n> 硬盘空间消耗：虚拟内存需要使用硬盘空间来存储页面文件，因此需要足够的硬盘空间来支持虚拟内存的运行。\n> 综上所述，虚拟内存是一种重要的内存管理技术，它允许操作系统扩展可用内存并提供更大的地址空间。然而，虚拟内存也需要权衡性能和硬盘空间的消耗。\n\n#### 100杯水，1个有毒，怎么找出来,有小白鼠和量杯\n\n> 我答的二分法，每次分成两份，一份喝一份不喝，喝的那份再分成两份，一份喝一份不喝，以此类推，直到喝的那份只剩一杯水，如果小白鼠没死，说明有毒的那杯水在没喝的那一份里，如果小白鼠死了，说明有毒的那杯水在喝的那一份里。\n> 最后说最多会死log2(100)只小白鼠，因为每次都是二分，所以最多会死log2(100)只小白鼠。\n\n#### 手写单例模式，让用go\n\n> 我说java熟一些，用java写了\n\n`go实现`\n\n```go\npackage singleton\n\nimport \"sync\"\n\ntype Singleton struct {\n\t// 单例对象的其他字段\n}\n\nvar instance *Singleton\nvar once sync.Once\n\nfunc GetInstance() *Singleton {\n\tonce.Do(func() {\n\t\tinstance = &Singleton{}\n\t\t// 进行初始化操作\n\t})\n\treturn instance\n}\n```\n\n`java实现(这种代码最简练，并且天生线程安全)`\n\n```java\n/**\n在这个代码示例中，Singleton被定义为一个枚举类型，\n并且只有一个枚举常量INSTANCE。枚举类型在Java中天生就是线程安全的，并且保证在任何情况下都只会有一个实例存在。\n当使用枚举类型来实现单例模式时，\nJava编译器会自动为枚举常量生成一个私有的、无参数的构造方法，\n并将其设置为private。因此，枚举常量在整个程序中只会被实例化一次，无法通过其他方式再次实例化。\n此外，枚举类型还提供了序列化和反序列化的支持。\n即使在面对复杂的序列化或反射攻击时，枚举单例也能保持线程安全。\n*/\npublic enum Singleton{\n    INSTANCE;\n    public void whateverMethod() {\n        \n    }\n}\n```\n\n#### 青训营项目介绍\n\n\n#### 反问\n- 用什么框架？（没告诉我，说做的是后端开发）","source":"_posts/追形科技一面.md","raw":"---\ntitle: 追形科技一面\ntags:\n  - 就业\n  - 虚拟内存\ncategories: 就业\nkeywords: 就业，面经\ndescription: 就业，面经\ntop_img: /img/jiuye.jpg\ncomments: true\ncover: /img/jiuye.jpg\ncopyright_author: xingxing\ncopyright_author_href: www.staraway.asia\ncopyright_info: 可转载哦\ndate: 2023-12-13 20:19:18\n---\n\n#### 是否学过c++？\n\n> 是真没学过，操作系统课稍微用过一点\n\n#### 讲讲golang里面的协程\n\n>\n协程是轻量级的线程，可以理解为用户态的线程，\n协程的调度是由用户自己控制的，而线程的调度是由操作系统控制的，\n协程的切换不需要切换到内核态，所以协程的切换效率比线程高很多，\n协程的缺点是不能利用多核资源，所以一般用于IO密集型的场景，如web服务器，数据库等。\n\n#### 内存1个G，怎么跑2个G的程序\n\n`看看gpt怎么答的`\n\n> 虚拟内存是一种操作系统的内存管理技术，它允许将部分程序的数据存储在硬盘上，以补充物理内存的不足。通过使用虚拟内存，操作系统可以为每个程序提供比物理内存更大的地址空间，从而使程序能够运行需要更多内存的任务。\n> 以下是虚拟内存的工作原理：\n> 分页：虚拟内存将物理内存和硬盘上的一个称为页面文件（page file）的文件划分为固定大小的页面（Page）。物理内存也被分成相同大小的页面框（Page\n> Frame）。每个页面框可以容纳一个页面。\n> 页面置换：当物理内存不足时，操作系统将不活动的页面从物理内存中交换到页面文件中，以腾出空间供活动页面使用。被交换出的页面可以是最近未使用的页面或者是暂时不需要的页面。\n>\n页面访问：当程序访问一个在虚拟内存中的页面时，操作系统会检查该页面是否已经加载到物理内存中。如果页面已经在物理内存中，那么操作系统会将页面的物理地址映射到程序的虚拟地址，使程序可以正常访问该页面。如果页面不在物理内存中，操作系统会将需要的页面从页面文件中读取到物理内存，并进行地址映射。\n> 页面写回：当程序对一个页面进行写操作时，操作系统会将被修改的页面标记为\"脏\"（dirty），并将其写回到页面文件中。这样可以确保页面的最新数据可以永久保存\n> 虚拟内存的主要优势是：\n> 扩展内存容量：虚拟内存允许程序使用比物理内存更大的地址空间，从而能够运行需要更多内存的任务。\n> 内存管理灵活性：操作系统可以根据不同程序的需求，动态地将页面调入和调出物理内存，以最大程度地利用可用内存资源。\n> 然而，虚拟内存也存在一些缺点：\n> 性能影响：由于虚拟内存需要频繁地进行页面交换和硬盘读写操作，这可能导致系统性能下降，特别是当频繁访问页面文件时。\n> 硬盘空间消耗：虚拟内存需要使用硬盘空间来存储页面文件，因此需要足够的硬盘空间来支持虚拟内存的运行。\n> 综上所述，虚拟内存是一种重要的内存管理技术，它允许操作系统扩展可用内存并提供更大的地址空间。然而，虚拟内存也需要权衡性能和硬盘空间的消耗。\n\n#### 100杯水，1个有毒，怎么找出来,有小白鼠和量杯\n\n> 我答的二分法，每次分成两份，一份喝一份不喝，喝的那份再分成两份，一份喝一份不喝，以此类推，直到喝的那份只剩一杯水，如果小白鼠没死，说明有毒的那杯水在没喝的那一份里，如果小白鼠死了，说明有毒的那杯水在喝的那一份里。\n> 最后说最多会死log2(100)只小白鼠，因为每次都是二分，所以最多会死log2(100)只小白鼠。\n\n#### 手写单例模式，让用go\n\n> 我说java熟一些，用java写了\n\n`go实现`\n\n```go\npackage singleton\n\nimport \"sync\"\n\ntype Singleton struct {\n\t// 单例对象的其他字段\n}\n\nvar instance *Singleton\nvar once sync.Once\n\nfunc GetInstance() *Singleton {\n\tonce.Do(func() {\n\t\tinstance = &Singleton{}\n\t\t// 进行初始化操作\n\t})\n\treturn instance\n}\n```\n\n`java实现(这种代码最简练，并且天生线程安全)`\n\n```java\n/**\n在这个代码示例中，Singleton被定义为一个枚举类型，\n并且只有一个枚举常量INSTANCE。枚举类型在Java中天生就是线程安全的，并且保证在任何情况下都只会有一个实例存在。\n当使用枚举类型来实现单例模式时，\nJava编译器会自动为枚举常量生成一个私有的、无参数的构造方法，\n并将其设置为private。因此，枚举常量在整个程序中只会被实例化一次，无法通过其他方式再次实例化。\n此外，枚举类型还提供了序列化和反序列化的支持。\n即使在面对复杂的序列化或反射攻击时，枚举单例也能保持线程安全。\n*/\npublic enum Singleton{\n    INSTANCE;\n    public void whateverMethod() {\n        \n    }\n}\n```\n\n#### 青训营项目介绍\n\n\n#### 反问\n- 用什么框架？（没告诉我，说做的是后端开发）","slug":"追形科技一面","published":1,"updated":"2023-12-19T06:11:05.535Z","layout":"post","photos":[],"link":"","_id":"clqc2fb5700045spk2l5tdqjq","content":"<h4 id=\"是否学过c-？\"><a href=\"#是否学过c-？\" class=\"headerlink\" title=\"是否学过c++？\"></a>是否学过c++？</h4><blockquote>\n<p>是真没学过，操作系统课稍微用过一点</p>\n</blockquote>\n<h4 id=\"讲讲golang里面的协程\"><a href=\"#讲讲golang里面的协程\" class=\"headerlink\" title=\"讲讲golang里面的协程\"></a>讲讲golang里面的协程</h4><blockquote>\n</blockquote>\n<p>协程是轻量级的线程，可以理解为用户态的线程，<br>协程的调度是由用户自己控制的，而线程的调度是由操作系统控制的，<br>协程的切换不需要切换到内核态，所以协程的切换效率比线程高很多，<br>协程的缺点是不能利用多核资源，所以一般用于IO密集型的场景，如web服务器，数据库等。</p>\n<h4 id=\"内存1个G，怎么跑2个G的程序\"><a href=\"#内存1个G，怎么跑2个G的程序\" class=\"headerlink\" title=\"内存1个G，怎么跑2个G的程序\"></a>内存1个G，怎么跑2个G的程序</h4><p><code>看看gpt怎么答的</code></p>\n<blockquote>\n<p>虚拟内存是一种操作系统的内存管理技术，它允许将部分程序的数据存储在硬盘上，以补充物理内存的不足。通过使用虚拟内存，操作系统可以为每个程序提供比物理内存更大的地址空间，从而使程序能够运行需要更多内存的任务。<br>以下是虚拟内存的工作原理：<br>分页：虚拟内存将物理内存和硬盘上的一个称为页面文件（page file）的文件划分为固定大小的页面（Page）。物理内存也被分成相同大小的页面框（Page<br>Frame）。每个页面框可以容纳一个页面。<br>页面置换：当物理内存不足时，操作系统将不活动的页面从物理内存中交换到页面文件中，以腾出空间供活动页面使用。被交换出的页面可以是最近未使用的页面或者是暂时不需要的页面。</p>\n</blockquote>\n<p>页面访问：当程序访问一个在虚拟内存中的页面时，操作系统会检查该页面是否已经加载到物理内存中。如果页面已经在物理内存中，那么操作系统会将页面的物理地址映射到程序的虚拟地址，使程序可以正常访问该页面。如果页面不在物理内存中，操作系统会将需要的页面从页面文件中读取到物理内存，并进行地址映射。</p>\n<blockquote>\n<p>页面写回：当程序对一个页面进行写操作时，操作系统会将被修改的页面标记为”脏”（dirty），并将其写回到页面文件中。这样可以确保页面的最新数据可以永久保存<br>虚拟内存的主要优势是：<br>扩展内存容量：虚拟内存允许程序使用比物理内存更大的地址空间，从而能够运行需要更多内存的任务。<br>内存管理灵活性：操作系统可以根据不同程序的需求，动态地将页面调入和调出物理内存，以最大程度地利用可用内存资源。<br>然而，虚拟内存也存在一些缺点：<br>性能影响：由于虚拟内存需要频繁地进行页面交换和硬盘读写操作，这可能导致系统性能下降，特别是当频繁访问页面文件时。<br>硬盘空间消耗：虚拟内存需要使用硬盘空间来存储页面文件，因此需要足够的硬盘空间来支持虚拟内存的运行。<br>综上所述，虚拟内存是一种重要的内存管理技术，它允许操作系统扩展可用内存并提供更大的地址空间。然而，虚拟内存也需要权衡性能和硬盘空间的消耗。</p>\n</blockquote>\n<h4 id=\"100杯水，1个有毒，怎么找出来-有小白鼠和量杯\"><a href=\"#100杯水，1个有毒，怎么找出来-有小白鼠和量杯\" class=\"headerlink\" title=\"100杯水，1个有毒，怎么找出来,有小白鼠和量杯\"></a>100杯水，1个有毒，怎么找出来,有小白鼠和量杯</h4><blockquote>\n<p>我答的二分法，每次分成两份，一份喝一份不喝，喝的那份再分成两份，一份喝一份不喝，以此类推，直到喝的那份只剩一杯水，如果小白鼠没死，说明有毒的那杯水在没喝的那一份里，如果小白鼠死了，说明有毒的那杯水在喝的那一份里。<br>最后说最多会死log2(100)只小白鼠，因为每次都是二分，所以最多会死log2(100)只小白鼠。</p>\n</blockquote>\n<h4 id=\"手写单例模式，让用go\"><a href=\"#手写单例模式，让用go\" class=\"headerlink\" title=\"手写单例模式，让用go\"></a>手写单例模式，让用go</h4><blockquote>\n<p>我说java熟一些，用java写了</p>\n</blockquote>\n<p><code>go实现</code></p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> singleton</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">&quot;sync&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> Singleton <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// 单例对象的其他字段</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> instance *Singleton</span><br><span class=\"line\"><span class=\"keyword\">var</span> once sync.Once</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">GetInstance</span><span class=\"params\">()</span></span> *Singleton &#123;</span><br><span class=\"line\">\tonce.Do(<span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">\t\tinstance = &amp;Singleton&#123;&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// 进行初始化操作</span></span><br><span class=\"line\">\t&#125;)</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> instance</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>java实现(这种代码最简练，并且天生线程安全)</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">在这个代码示例中，Singleton被定义为一个枚举类型，</span></span><br><span class=\"line\"><span class=\"comment\">并且只有一个枚举常量INSTANCE。枚举类型在Java中天生就是线程安全的，并且保证在任何情况下都只会有一个实例存在。</span></span><br><span class=\"line\"><span class=\"comment\">当使用枚举类型来实现单例模式时，</span></span><br><span class=\"line\"><span class=\"comment\">Java编译器会自动为枚举常量生成一个私有的、无参数的构造方法，</span></span><br><span class=\"line\"><span class=\"comment\">并将其设置为private。因此，枚举常量在整个程序中只会被实例化一次，无法通过其他方式再次实例化。</span></span><br><span class=\"line\"><span class=\"comment\">此外，枚举类型还提供了序列化和反序列化的支持。</span></span><br><span class=\"line\"><span class=\"comment\">即使在面对复杂的序列化或反射攻击时，枚举单例也能保持线程安全。</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">enum</span> <span class=\"title class_\">Singleton</span>&#123;</span><br><span class=\"line\">    INSTANCE;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">whateverMethod</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"青训营项目介绍\"><a href=\"#青训营项目介绍\" class=\"headerlink\" title=\"青训营项目介绍\"></a>青训营项目介绍</h4><h4 id=\"反问\"><a href=\"#反问\" class=\"headerlink\" title=\"反问\"></a>反问</h4><ul>\n<li>用什么框架？（没告诉我，说做的是后端开发）</li>\n</ul>\n","site":{"data":{"about":[{"class_name":"关于页","subtitle":"多一点努力，努力多一点✨","avatarImg":"https://avatars.githubusercontent.com/u/106024593?v=4","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱"]},"name":"xingxing","description":"是一名 后端工程师、学生、独立开发者","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"YNU,计算机科学与技术","color":"#357ef5"}]},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，昆明市","background":"/img/location.png","backgroundDark":"/img/locationDark.png"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2003,"selfInfoTips2":"云南大学","selfInfoContent2":"计算机科学与技术","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"xingxing的日常。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"/img/beautifulImg.jpg","essay_list":[{"content":"发现一个免费拿图的网站诶，还是bing好用，垃圾百度！但是好像要翻墙才可以下载原图，不过可以直接复制图片地址，然后用迅雷下载，也是可以的（图片大小翻五倍）。","date":"2023/11/31","image":["/img/essayImg/pixabay.png"],"link":"https://pixabay.com/zh/"},{"content":"寒假实习求职顺利（求神拜佛）","date":"2023/12/2"},{"content":"bilibili给个机会！！！","date":"2023/12/7"},{"content":"许愿oc！！！","date":"2023/12/19"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}],"bangumis":{"wantWatch":[{"title":"百妖谱 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/5424062d0821f89ea549533d8a2c3cfff2076766.png","totalCount":"全12话","id":28230717,"follow":"527.1 万","view":"1.2 亿","danmaku":"47.2 万","coin":"42.5 万","score":9.2,"des":"桃都的灵医桃夭带着小和尚磨牙、第一季收服的小狐妖、桃都老邻居柳公子一起继续第一季的故事，为了寻找失踪的百妖谱而云游四方，在途中遇到应声、化蛇、媪姬、照海四个妖怪，为妖怪治疗各种疑难杂症。..."},{"title":"伍六七之玄武国篇","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/00843865ea13702eccc4efd64c313fd4c8029c6b.jpg","totalCount":"全10话","id":28232253,"follow":"1031.1 万","view":"4.7 亿","danmaku":"186.3 万","coin":"405.6 万","score":9.8,"des":"为了保护小鸡岛居民和这里平静的生活，伍六七和他的伙伴大保和小飞开启了去往玄武国的冒险旅程，去寻找身世的真相和解救小岛的办法，等待他们的又将是更多的未知与奇遇。..."},{"title":"伍六七之暗影宿命","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/6e5c5848ff8943fd6366e943a4f75b98598c50c6.png","totalCount":"全10话","id":28412536,"follow":"1250.4 万","view":"5.1 亿","danmaku":"110.7 万","coin":"410.9 万","score":9.2,"des":"随着伍六七回到玄武国寻找他的身世，亦引起了七大暗影刺客的追捕。然而每一位暗影刺客都带着不同的目的和不同的过去，青凤的阴谋也在此浮出了水面。而此时等待着小鸡岛上的人民，又将是另一个危机，伍六七将如何面对..."}],"watching":[{"title":"灵笼 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cf5f6595ece017215e7d61482f022094479dff37.png","totalCount":"-","id":21123554,"follow":"910.5 万","view":"1586.9 万","danmaku":"7.0 万","coin":"35.1 万","score":"-","des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."},{"title":"灵笼","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cfab7e0fbdb4786ff4e885d050b7cf37f8829486.png","totalCount":"全16话","id":23432,"follow":"903.9 万","view":"6.1 亿","danmaku":"674.4 万","coin":"677.7 万","score":9.6,"des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."}],"watched":[{"title":"时光代理人","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/1fe1cd0ec59b790fea83a5726cdc0fa3189c4394.png","totalCount":"全24话","id":28230742,"follow":"879.2 万","view":"5.0 亿","danmaku":"399.9 万","coin":"418.4 万","score":9.7,"des":"为了找到一系列罪案的操纵者，程小时求助于肖力，找寻一切藏匿于暗中的蛛丝马迹。但是拥有未知超能力的凶手在阴影之中，也从没有停止过阴谋的脚步。神秘能力者如影随形，身边伙伴接连遇害，程小时屡次身陷险境。随着..."},{"title":"元龙 第三季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/b3a9b5975059e074593b9381322ad8c423be7b89.png","totalCount":"全16话","id":28235400,"follow":"620.5 万","view":"1.5 亿","danmaku":"24.0 万","coin":"10.7 万","score":6.8,"des":"王胜于现代世界醒来，一切是如此真实而又如梦似幻。皇城遗女，戴家少主的出现更让局势扑朔迷离。而一场由小搏大的赌局，也让王胜渐渐意识到这不仅仅是他和戴家少主两个人的较量。恰时逢盛宴，天下汇集，王胜不得不再..."},{"title":"三体","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/9870f898b8a39bbb8048f34317f8d78a02cc1770.png","totalCount":"全15话","id":4315402,"follow":"690.6 万","view":"6.2 亿","danmaku":"179.3 万","coin":"230.7 万","score":8.2,"des":"无数细线横亘在星空之中，如同一把巨大的刷子。三体星舰队将于400年后抵达。遥远蝴蝶扇动着翅膀，也改变了罗辑的命运，轰然打开的门后是世界中心——面壁计划开启。同时，智子所创建的破壁室内，破壁人一一就位…..."},{"title":"狐妖小红娘","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/cbb20ee03e97a9f3ad2e1506a10fd1271f1c584a.jpg","totalCount":"全100话","id":2543,"follow":"691.5 万","view":"8.7 亿","danmaku":"1052.9 万","coin":"259.8 万","score":9.5,"des":"根据古典小说记载，世上有人有妖，妖会与人相恋，妖寿命千年，人的寿命有限，人死了，妖活着。人会投胎转世，但投胎以后不记得上辈子的爱。妖如果痴情的话，就去找狐妖“购买”一项服务，让投胎转世的人回忆起前世的..."}]}}},"cover_type":"img","excerpt":"","more":"<h4 id=\"是否学过c-？\"><a href=\"#是否学过c-？\" class=\"headerlink\" title=\"是否学过c++？\"></a>是否学过c++？</h4><blockquote>\n<p>是真没学过，操作系统课稍微用过一点</p>\n</blockquote>\n<h4 id=\"讲讲golang里面的协程\"><a href=\"#讲讲golang里面的协程\" class=\"headerlink\" title=\"讲讲golang里面的协程\"></a>讲讲golang里面的协程</h4><blockquote>\n</blockquote>\n<p>协程是轻量级的线程，可以理解为用户态的线程，<br>协程的调度是由用户自己控制的，而线程的调度是由操作系统控制的，<br>协程的切换不需要切换到内核态，所以协程的切换效率比线程高很多，<br>协程的缺点是不能利用多核资源，所以一般用于IO密集型的场景，如web服务器，数据库等。</p>\n<h4 id=\"内存1个G，怎么跑2个G的程序\"><a href=\"#内存1个G，怎么跑2个G的程序\" class=\"headerlink\" title=\"内存1个G，怎么跑2个G的程序\"></a>内存1个G，怎么跑2个G的程序</h4><p><code>看看gpt怎么答的</code></p>\n<blockquote>\n<p>虚拟内存是一种操作系统的内存管理技术，它允许将部分程序的数据存储在硬盘上，以补充物理内存的不足。通过使用虚拟内存，操作系统可以为每个程序提供比物理内存更大的地址空间，从而使程序能够运行需要更多内存的任务。<br>以下是虚拟内存的工作原理：<br>分页：虚拟内存将物理内存和硬盘上的一个称为页面文件（page file）的文件划分为固定大小的页面（Page）。物理内存也被分成相同大小的页面框（Page<br>Frame）。每个页面框可以容纳一个页面。<br>页面置换：当物理内存不足时，操作系统将不活动的页面从物理内存中交换到页面文件中，以腾出空间供活动页面使用。被交换出的页面可以是最近未使用的页面或者是暂时不需要的页面。</p>\n</blockquote>\n<p>页面访问：当程序访问一个在虚拟内存中的页面时，操作系统会检查该页面是否已经加载到物理内存中。如果页面已经在物理内存中，那么操作系统会将页面的物理地址映射到程序的虚拟地址，使程序可以正常访问该页面。如果页面不在物理内存中，操作系统会将需要的页面从页面文件中读取到物理内存，并进行地址映射。</p>\n<blockquote>\n<p>页面写回：当程序对一个页面进行写操作时，操作系统会将被修改的页面标记为”脏”（dirty），并将其写回到页面文件中。这样可以确保页面的最新数据可以永久保存<br>虚拟内存的主要优势是：<br>扩展内存容量：虚拟内存允许程序使用比物理内存更大的地址空间，从而能够运行需要更多内存的任务。<br>内存管理灵活性：操作系统可以根据不同程序的需求，动态地将页面调入和调出物理内存，以最大程度地利用可用内存资源。<br>然而，虚拟内存也存在一些缺点：<br>性能影响：由于虚拟内存需要频繁地进行页面交换和硬盘读写操作，这可能导致系统性能下降，特别是当频繁访问页面文件时。<br>硬盘空间消耗：虚拟内存需要使用硬盘空间来存储页面文件，因此需要足够的硬盘空间来支持虚拟内存的运行。<br>综上所述，虚拟内存是一种重要的内存管理技术，它允许操作系统扩展可用内存并提供更大的地址空间。然而，虚拟内存也需要权衡性能和硬盘空间的消耗。</p>\n</blockquote>\n<h4 id=\"100杯水，1个有毒，怎么找出来-有小白鼠和量杯\"><a href=\"#100杯水，1个有毒，怎么找出来-有小白鼠和量杯\" class=\"headerlink\" title=\"100杯水，1个有毒，怎么找出来,有小白鼠和量杯\"></a>100杯水，1个有毒，怎么找出来,有小白鼠和量杯</h4><blockquote>\n<p>我答的二分法，每次分成两份，一份喝一份不喝，喝的那份再分成两份，一份喝一份不喝，以此类推，直到喝的那份只剩一杯水，如果小白鼠没死，说明有毒的那杯水在没喝的那一份里，如果小白鼠死了，说明有毒的那杯水在喝的那一份里。<br>最后说最多会死log2(100)只小白鼠，因为每次都是二分，所以最多会死log2(100)只小白鼠。</p>\n</blockquote>\n<h4 id=\"手写单例模式，让用go\"><a href=\"#手写单例模式，让用go\" class=\"headerlink\" title=\"手写单例模式，让用go\"></a>手写单例模式，让用go</h4><blockquote>\n<p>我说java熟一些，用java写了</p>\n</blockquote>\n<p><code>go实现</code></p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> singleton</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">&quot;sync&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> Singleton <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// 单例对象的其他字段</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> instance *Singleton</span><br><span class=\"line\"><span class=\"keyword\">var</span> once sync.Once</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">GetInstance</span><span class=\"params\">()</span></span> *Singleton &#123;</span><br><span class=\"line\">\tonce.Do(<span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">\t\tinstance = &amp;Singleton&#123;&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// 进行初始化操作</span></span><br><span class=\"line\">\t&#125;)</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> instance</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>java实现(这种代码最简练，并且天生线程安全)</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">在这个代码示例中，Singleton被定义为一个枚举类型，</span></span><br><span class=\"line\"><span class=\"comment\">并且只有一个枚举常量INSTANCE。枚举类型在Java中天生就是线程安全的，并且保证在任何情况下都只会有一个实例存在。</span></span><br><span class=\"line\"><span class=\"comment\">当使用枚举类型来实现单例模式时，</span></span><br><span class=\"line\"><span class=\"comment\">Java编译器会自动为枚举常量生成一个私有的、无参数的构造方法，</span></span><br><span class=\"line\"><span class=\"comment\">并将其设置为private。因此，枚举常量在整个程序中只会被实例化一次，无法通过其他方式再次实例化。</span></span><br><span class=\"line\"><span class=\"comment\">此外，枚举类型还提供了序列化和反序列化的支持。</span></span><br><span class=\"line\"><span class=\"comment\">即使在面对复杂的序列化或反射攻击时，枚举单例也能保持线程安全。</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">enum</span> <span class=\"title class_\">Singleton</span>&#123;</span><br><span class=\"line\">    INSTANCE;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">whateverMethod</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"青训营项目介绍\"><a href=\"#青训营项目介绍\" class=\"headerlink\" title=\"青训营项目介绍\"></a>青训营项目介绍</h4><h4 id=\"反问\"><a href=\"#反问\" class=\"headerlink\" title=\"反问\"></a>反问</h4><ul>\n<li>用什么框架？（没告诉我，说做的是后端开发）</li>\n</ul>\n"},{"title":"百姓网面试","keywords":"缓存","description":"缓存","top_img":"/img/jiuye.jpg","comments":1,"cover":"/img/jiuye.jpg","copyright_author":"xingxing","copyright_author_href":"www.staraway.asia","copyright_info":"可转载哦","date":"2023-12-18T00:22:26.000Z","_content":"\n#### sql优化\n\n#### 最左前缀原则\n\n#### 为什么最左前缀原则可以优化sql（索引扫描）\n\n#### 索引失效的场景\n\n#### 如何保证缓存和数据库的一致性\n\n##### 缓存和数据库的操作均会成功的前提\n\n- 先更新数据库，后删除缓存\n\n依旧是 2 个线程并发「读写」数据：\n\n1. 缓存中 X 不存在（数据库 X = 1）\n2. 线程 A 读取数据库，得到旧值（X = 1）\n3. 线程 B 更新数据库（X = 2)\n4. 线程 B 删除缓存\n5. 线程 A 将旧值写入缓存（X = 1）\n6. 最终 X 的值在缓存中是 1（旧值），在数据库中是 2（新值），也发生不一致。\n\n这种情况「理论」来说是可能发生的，但实际真的有可能发生吗？\n\n其实概率「很低」，这是因为它必须满足 3 个条件：\n\n1. 缓存刚好已失效\n2. 读请求 + 写请求并发\n3. 更新数据库 + 删除缓存的时间（步骤 3-4），要比读数据库 + 写缓存时间短（步骤 2 和 5）\n4. 仔细想一下，条件 3 发生的概率其实是非常低的。\n\n因为写数据库一般会先「加锁」，所以写数据库，通常是要比读数据库的时间更长的。\n\n这么来看，「先更新数据库 + 再删除缓存」的方案，是可以保证数据一致性的。\n\n所以，我们应该采用这种方案，来操作数据库和缓存。\n\n##### 缓存和数据库的操作均不保证成功\n\n- 无论是更新缓存还是删除缓存，只要第二步发生失败，那么就会导致数据库和缓存不一致。\n\n![1](../images/百姓网-1702859564018.png)\n![2](../images/百姓网-1702859570812.png)\n\n`想要保证数据库和缓存一致性，推荐采用「先更新数据库，再删除缓存」方案，并配合「消息队列」或「订阅变更日志」的方式来做。`\n\n##### 主从库延迟和延迟双删问题\n\n- 第一个问题，还记得前面讲到的「先删除缓存，再更新数据库」导致不一致的场景么？\n\n这里我再把例子拿过来让你复习一下：\n\n2 个线程要并发「读写」数据，可能会发生以下场景：\n\n线程 A 要更新 X = 2（原值 X = 1）\n线程 A 先删除缓存\n线程 B 读缓存，发现不存在，从数据库中读取到旧值（X = 1）\n线程 A 将新值写入数据库（X = 2）\n线程 B 将旧值写入缓存（X = 1）\n最终 X 的值在缓存中是 1（旧值），在数据库中是 2（新值），发生不一致。\n\n- 第二个问题：是关于「读写分离 + 主从复制延迟」情况下，缓存和数据库一致性的问题。\n\n如果使用「先更新数据库，再删除缓存」方案，其实也发生不一致：\n\n线程 A 更新主库 X = 2（原值 X = 1）\n线程 A 删除缓存\n线程 B 查询缓存，没有命中，查询「从库」得到旧值（从库 X = 1）\n从库「同步」完成（主从库 X = 2）\n线程 B 将「旧值」写入缓存（X = 1）\n最终 X 的值在缓存中是 1（旧值），在主从库中是 2（新值），也发生不一致。\n\n看到了么？这 2 个问题的核心在于：缓存都被回种了「旧值」。\n\n那怎么解决这类问题呢？\n\n最有效的办法就是，把缓存删掉。\n\n但是，不能立即删，而是需要「延迟删」，这就是业界给出的方案：缓存延迟双删策略。\n\n按照延时双删策略，这 2 个问题的解决方案是这样的：\n\n- 解决第一个问题：在线程 A 删除缓存、更新完数据库之后，先「休眠一会」，再「删除」一次缓存。\n\n- 解决第二个问题：线程 A 可以生成一条「延时消息」，写到消息队列中，消费者延时「删除」缓存。\n\n这两个方案的目的，都是为了把缓存清掉，这样一来，下次就可以从数据库读取到最新值，写入缓存。\n\n`写在最后`：想让缓存和数据库「强一致」很难，缓存是用来提升性能的，多用来保证CAP中的AP，而数据库是用来保证CAP中的CP的，所以，我们应该根据业务场景，来选择使用缓存还是数据库。\n做到「强一致」还是得用悲观锁方案。\n\n#### 读写分离、主从集群做性能优化\n\n#### 水平分表、垂直分表要怎么分\n\n#### 扑克牌缺一张，迅速找到缺的是哪张（每个牌编号相加，实际值相减得到丢失的）\n\n#### 实际项目中的sql优化\n\n#### 是否做过性能测试\n\n#### Mysql怎么实现可重复读（MVCC undo log版本链）\n\n#### mysql怎么解决幻读\n\n- 针对快照读（普通 select 语句），是通过 MVCC\n  方式解决了幻读，因为可重复读隔离级别下，事务执行过程中看到的数据，一直跟这个事务启动时看到的数据是一致的，即使中途有其他事务插入了一条数据，是查询不出来这条数据的，所以就很好了避免幻读问题。\n- 针对当前读（select ... for update 等语句），是通过 next-key lock（记录锁+间隙锁）方式解决了幻读，因为当执行 select ... for\n  update 语句的时候，会加上 next-key lock，如果有其他事务在 `next-key lock 锁范围内(一般是当前sql查询的范围)`\n  插入了一条记录，那么这个插入语句就会被阻塞，无法成功插入，所以就很好了避免幻读问题。\n\n#### 是否了解过间隙锁\n\n#### jdk17和jdk8的区别\n\n1. Lambda表达式\n2. 新增的库\n    ```java\n    // JDK8\n    // 没有Java Flight Recorder库\n    // 没有ZGC垃圾回收器\n    \n    // JDK17\n    // 使用Java Flight Recorder记录CPU时间\n    JFR.enable();\n    // 使用ZGC垃圾回收器\n    System.setProperty(\"jdk.garbageCollector\", \"Z\");\n    ```\n3. 新的集合操作API\n    ```java\n    // JDK8\n    List<Integer> list = Arrays.asList(1, 2, 3, 4, 5);\n    int sum = list.stream().filter(n -> n % 2 == 0).mapToInt(Integer::intValue).sum();\n    \n    // JDK17\n    List<Integer> list = Arrays.asList(1, 2, 3, 4, 5);\n    List<Integer> evenList = list.stream().filter(n -> n % 2 == 0).toList();\n    Set<Integer> oddSet = list.stream().filter(n -> n % 2 != 0).toSet();\n    \n    ```\n4. 改进的Switch语句\n    ```java\n    // JDK8\n    String dayOfWeek = \"MON\";\n    switch (dayOfWeek) {\n        case \"MON\":\n        case \"TUE\":\n        case \"WED\":\n        case \"THU\":\n        case \"FRI\":\n            System.out.println(\"Weekday\");\n            break;\n        case \"SAT\":\n        case \"SUN\":\n            System.out.println(\"Weekend\");\n            break;\n        default:\n            System.out.println(\"Invalid day\");\n    }\n    \n    // JDK17\n    String dayOfWeek = \"MON\";\n    String dayType = switch (dayOfWeek) {\n        case \"MON\", \"TUE\", \"WED\", \"THU\", \"FRI\" -> \"Weekday\";\n        case \"SAT\", \"SUN\" -> \"Weekend\";\n        default -> {\n            System.out.println(\"Invalid day\");\n            yield \"Invalid day\";\n        }\n    };\n    \n    ```\n\n5. 新的HTTP Client API\n    ```java\n    // JDK8\n    // 使用第三方HTTP库\n    \n    // JDK17\n    HttpClient client = HttpClient.newHttpClient();\n    HttpRequest request = HttpRequest.newBuilder()\n    .uri(URI.create(\"https://www.example.com/\"))\n    .build();\n    HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());\n        System.out.println(response.body());\n    \n    ```\n\n#### 说说synchronize（锁升级机制）\n\n1. 偏向锁 (一个线程拿锁，直接给)\n2. 轻量级锁 （多个线程拿，用CAS自璇）\n3. 重量级锁 （悲观锁）\n\n#### 说说jvm内存模型\n\n#### CMS的阶段（和G1的区别）\n\n##### CMS过程\n\n1. 初始标记：独占PUC，需要STW(Stop the world)，仅标记GCroots能直接关联的对象，速度很快。\n\n2. 并发标记：可以和用户线程并行执行，无需STW，标记所有可达对象\n\n3. 重新标记：独占CPU(STW)，为了修正并发标记期间因用户程序继续运作而导致标记产生变动的那一部分对象的标记记录。这个阶段的停顿时间一般会比初始标记阶段稍长一些，但远比并发标记的时间要短。\n\n4. 并发清理：可以和用户线程并行执行，清理垃圾\n![8](../images/百姓网-1702880543910.png)\n\n##### G1过程\n\n1. 初始标记：独占PUC，需要STW(Stop the world)，仅标记GCroots能直接关联的对象，速度很快。\n2. 并发标记：可以和用户线程并行执行，无需STW，标记所有可达对象\n3. 最终标记：独占CPU(STW)，为了修正并发标记期间因用户程序继续运作而导致标记产生变动的那一部分对象的标记记录。这个阶段的停顿时间一般会比初始标记阶段稍长一些，但远比并发标记的时间要短。\n4. 筛选回收：独占CPU(STW)，根据时间来进行回收，优先回收价值最大的区域\n![6](../images/百姓网-1702880535273.png)\n\n##### G1优势\n\n- 空间整合：\n    - 由于G1使用了独立区域（Region）概念，G1从整体来看是基于“标记-整理”算法实现收集，从局部（两个Region）上来看是基于“复制”算法实现的，但无论如何，这两种算法都意味着G1运作期间不会产生内存空间碎片。\n    -\n    CMS无法处理浮动垃圾：在最后一步并发清理过程中，用户线程执行也会产生垃圾，但是这部分垃圾是在标记之后，所以只有等到下一次gc的时候清理掉，这部分垃圾叫浮动垃圾，因为我边执行清除过程，应用也边产生垃圾。这时需要设置一个百分比来确保程序的可执行，避免CMS运行时，预留的内存无法满足程序的需要。在JDK1.5中，这个百分比为68%，到1.6时，这个参数值提高到了92%。那如果万一有些人说我就要把这个参数值设置100%，那执行的时候内存满了，用户的线程运行不了。这时候会临时启用serial\n    Old （单线程执行，会暂停所有用户的线程）收集器来重新进行老年代的垃圾收集，这样停顿时间就更长了。\n\n#### GO相比于java的优势\n\n#### go-zero框架关于缓存穿透的解决方案\n\n#### 四次挥手的过程\n\n#### 最后一次挥手有一个time-wait，为什么\n\n- 确保最后一个确认报文能够到达（如果B没收到A发送来的确认报文，那么就会重新发送连接释放请求报文，A等待一段时间就是为了处理这种情况的发生）\n- 避免新旧链接混淆。（等待2MSL可以让本连接持续时间内所产生的所有报文都从网络中消失，使得下一个新的连接请求不会出现旧的连接请求报文）\n\n#### 说一说tcp的滑动窗口\n\n`概念：`\n\n1. 窗口大小指的是无需等待确认应答而可以继续发送数据的最大值。上图的窗口大小就是4000个字节（四个段）。\n2. 发送前四个段的时候，不需要等待任何ACK，直接发送；\n3. 收到第一个ACK后，滑动窗口向后移动，继续发送第五个段的数据；依次类推；\n4. 操作系统内核为了维护这个滑动窗口，需要开辟 发送缓冲区 来记录当前还有哪些数据没有应答；只有确认应答过的数据，才能从缓冲区删掉；\n5. 窗口越大，则网络的吞吐率就越高；\n![5](../images/百姓网-1702880519034.png)\n\n##### tcp的流量控制\n\n- 16位窗口大小\n  1. 接收端将自己可以接收的缓冲区大小放入 TCP 首部中的 “窗口大小” 字段，通过ACK端通知发送端；\n  2. 窗口大小字段越大，说明网络的吞吐量越高；\n  3. 接收端一旦发现自己的缓冲区快满了，就会将窗口大小设置成一个更小的值通知给发送端；\n  4. 发送端接受到这个窗口之后，就会减慢自己的发送速度；\n  5. 如果接收端缓冲区满了，就会将窗口置为0；这时发送方不再发送数据，但是需要定期发送一个窗口探测数据段，使接收端把窗口大小告诉发送端。\n\n#### tcp的拥塞控制算法\n\n![10](../images/百姓网-1702881164372.png)\n1. 最初cwnd=1，ssthresh=16，执行慢开始算法，cwnd大小指数增长\n2. cwnd到达慢开始门限ssthresh后，转而执行拥塞避免算法，cwnd线性加一增长\n3. 随着发送速率的增加，若发生超时重传，则将慢开始门限ssthresh减小为当前拥塞窗口的一半、再将拥塞窗口cwnd设置为1，然后执行慢开始-–拥塞避免，重复1、2\n4. 若发送方收到3个重复确认，则表示分组丢失，发送方立刻重传相应分组；然后执行快恢复算法\n5. 将慢开始门限ssthresh和拥塞窗口cwnd重新设置为当前拥塞窗口的一半，然后执行拥塞避免算法\n\n#### 有序数组，原地删除重复的元素最多剩下两个\n- 双指针（好难）\n``` Java\nclass Solution {\n    public int removeDuplicates(int[] nums) {\n        int n = nums.length;\n        if (n <= 2) {\n            return n;\n        }\n        int slow = 2, fast = 2;\n        while (fast < n) {\n            if (nums[slow - 2] != nums[fast]) {\n                nums[slow] = nums[fast];\n                ++slow;\n            }\n            ++fast;\n        }\n        return slow;\n    }\n}\n```\n\n- 计数\n```java\nclass Solution {\n    public int removeDuplicates(int[] nums) {\n        if (nums.length <= 2) {\n            return nums.length;\n        }\n\n        int result = 1;\n        int times = 1;\n\n        for (int i = 1;i < nums.length;++i) {\n            if (nums[i] == nums[i-1]) {\n                times++;\n                if (times <= 2) {\n                    nums[result++] = nums[i];\n                }\n            } else {\n                times=1;\n                nums[result++] = nums[i];\n            }\n        }\n        return result;\n    }\n}\n```\n\n#### chatgpt怎么看","source":"_posts/百姓网.md","raw":"---\ntitle: 百姓网面试\ntags:\n  - 就业\n  - 缓存\ncategories: 就业\nkeywords: 缓存\ndescription: 缓存\ntop_img: /img/jiuye.jpg\ncomments: true\ncover: /img/jiuye.jpg\ncopyright_author: xingxing\ncopyright_author_href: www.staraway.asia\ncopyright_info: 可转载哦\ndate: 2023-12-18 08:22:26\n---\n\n#### sql优化\n\n#### 最左前缀原则\n\n#### 为什么最左前缀原则可以优化sql（索引扫描）\n\n#### 索引失效的场景\n\n#### 如何保证缓存和数据库的一致性\n\n##### 缓存和数据库的操作均会成功的前提\n\n- 先更新数据库，后删除缓存\n\n依旧是 2 个线程并发「读写」数据：\n\n1. 缓存中 X 不存在（数据库 X = 1）\n2. 线程 A 读取数据库，得到旧值（X = 1）\n3. 线程 B 更新数据库（X = 2)\n4. 线程 B 删除缓存\n5. 线程 A 将旧值写入缓存（X = 1）\n6. 最终 X 的值在缓存中是 1（旧值），在数据库中是 2（新值），也发生不一致。\n\n这种情况「理论」来说是可能发生的，但实际真的有可能发生吗？\n\n其实概率「很低」，这是因为它必须满足 3 个条件：\n\n1. 缓存刚好已失效\n2. 读请求 + 写请求并发\n3. 更新数据库 + 删除缓存的时间（步骤 3-4），要比读数据库 + 写缓存时间短（步骤 2 和 5）\n4. 仔细想一下，条件 3 发生的概率其实是非常低的。\n\n因为写数据库一般会先「加锁」，所以写数据库，通常是要比读数据库的时间更长的。\n\n这么来看，「先更新数据库 + 再删除缓存」的方案，是可以保证数据一致性的。\n\n所以，我们应该采用这种方案，来操作数据库和缓存。\n\n##### 缓存和数据库的操作均不保证成功\n\n- 无论是更新缓存还是删除缓存，只要第二步发生失败，那么就会导致数据库和缓存不一致。\n\n![1](../images/百姓网-1702859564018.png)\n![2](../images/百姓网-1702859570812.png)\n\n`想要保证数据库和缓存一致性，推荐采用「先更新数据库，再删除缓存」方案，并配合「消息队列」或「订阅变更日志」的方式来做。`\n\n##### 主从库延迟和延迟双删问题\n\n- 第一个问题，还记得前面讲到的「先删除缓存，再更新数据库」导致不一致的场景么？\n\n这里我再把例子拿过来让你复习一下：\n\n2 个线程要并发「读写」数据，可能会发生以下场景：\n\n线程 A 要更新 X = 2（原值 X = 1）\n线程 A 先删除缓存\n线程 B 读缓存，发现不存在，从数据库中读取到旧值（X = 1）\n线程 A 将新值写入数据库（X = 2）\n线程 B 将旧值写入缓存（X = 1）\n最终 X 的值在缓存中是 1（旧值），在数据库中是 2（新值），发生不一致。\n\n- 第二个问题：是关于「读写分离 + 主从复制延迟」情况下，缓存和数据库一致性的问题。\n\n如果使用「先更新数据库，再删除缓存」方案，其实也发生不一致：\n\n线程 A 更新主库 X = 2（原值 X = 1）\n线程 A 删除缓存\n线程 B 查询缓存，没有命中，查询「从库」得到旧值（从库 X = 1）\n从库「同步」完成（主从库 X = 2）\n线程 B 将「旧值」写入缓存（X = 1）\n最终 X 的值在缓存中是 1（旧值），在主从库中是 2（新值），也发生不一致。\n\n看到了么？这 2 个问题的核心在于：缓存都被回种了「旧值」。\n\n那怎么解决这类问题呢？\n\n最有效的办法就是，把缓存删掉。\n\n但是，不能立即删，而是需要「延迟删」，这就是业界给出的方案：缓存延迟双删策略。\n\n按照延时双删策略，这 2 个问题的解决方案是这样的：\n\n- 解决第一个问题：在线程 A 删除缓存、更新完数据库之后，先「休眠一会」，再「删除」一次缓存。\n\n- 解决第二个问题：线程 A 可以生成一条「延时消息」，写到消息队列中，消费者延时「删除」缓存。\n\n这两个方案的目的，都是为了把缓存清掉，这样一来，下次就可以从数据库读取到最新值，写入缓存。\n\n`写在最后`：想让缓存和数据库「强一致」很难，缓存是用来提升性能的，多用来保证CAP中的AP，而数据库是用来保证CAP中的CP的，所以，我们应该根据业务场景，来选择使用缓存还是数据库。\n做到「强一致」还是得用悲观锁方案。\n\n#### 读写分离、主从集群做性能优化\n\n#### 水平分表、垂直分表要怎么分\n\n#### 扑克牌缺一张，迅速找到缺的是哪张（每个牌编号相加，实际值相减得到丢失的）\n\n#### 实际项目中的sql优化\n\n#### 是否做过性能测试\n\n#### Mysql怎么实现可重复读（MVCC undo log版本链）\n\n#### mysql怎么解决幻读\n\n- 针对快照读（普通 select 语句），是通过 MVCC\n  方式解决了幻读，因为可重复读隔离级别下，事务执行过程中看到的数据，一直跟这个事务启动时看到的数据是一致的，即使中途有其他事务插入了一条数据，是查询不出来这条数据的，所以就很好了避免幻读问题。\n- 针对当前读（select ... for update 等语句），是通过 next-key lock（记录锁+间隙锁）方式解决了幻读，因为当执行 select ... for\n  update 语句的时候，会加上 next-key lock，如果有其他事务在 `next-key lock 锁范围内(一般是当前sql查询的范围)`\n  插入了一条记录，那么这个插入语句就会被阻塞，无法成功插入，所以就很好了避免幻读问题。\n\n#### 是否了解过间隙锁\n\n#### jdk17和jdk8的区别\n\n1. Lambda表达式\n2. 新增的库\n    ```java\n    // JDK8\n    // 没有Java Flight Recorder库\n    // 没有ZGC垃圾回收器\n    \n    // JDK17\n    // 使用Java Flight Recorder记录CPU时间\n    JFR.enable();\n    // 使用ZGC垃圾回收器\n    System.setProperty(\"jdk.garbageCollector\", \"Z\");\n    ```\n3. 新的集合操作API\n    ```java\n    // JDK8\n    List<Integer> list = Arrays.asList(1, 2, 3, 4, 5);\n    int sum = list.stream().filter(n -> n % 2 == 0).mapToInt(Integer::intValue).sum();\n    \n    // JDK17\n    List<Integer> list = Arrays.asList(1, 2, 3, 4, 5);\n    List<Integer> evenList = list.stream().filter(n -> n % 2 == 0).toList();\n    Set<Integer> oddSet = list.stream().filter(n -> n % 2 != 0).toSet();\n    \n    ```\n4. 改进的Switch语句\n    ```java\n    // JDK8\n    String dayOfWeek = \"MON\";\n    switch (dayOfWeek) {\n        case \"MON\":\n        case \"TUE\":\n        case \"WED\":\n        case \"THU\":\n        case \"FRI\":\n            System.out.println(\"Weekday\");\n            break;\n        case \"SAT\":\n        case \"SUN\":\n            System.out.println(\"Weekend\");\n            break;\n        default:\n            System.out.println(\"Invalid day\");\n    }\n    \n    // JDK17\n    String dayOfWeek = \"MON\";\n    String dayType = switch (dayOfWeek) {\n        case \"MON\", \"TUE\", \"WED\", \"THU\", \"FRI\" -> \"Weekday\";\n        case \"SAT\", \"SUN\" -> \"Weekend\";\n        default -> {\n            System.out.println(\"Invalid day\");\n            yield \"Invalid day\";\n        }\n    };\n    \n    ```\n\n5. 新的HTTP Client API\n    ```java\n    // JDK8\n    // 使用第三方HTTP库\n    \n    // JDK17\n    HttpClient client = HttpClient.newHttpClient();\n    HttpRequest request = HttpRequest.newBuilder()\n    .uri(URI.create(\"https://www.example.com/\"))\n    .build();\n    HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());\n        System.out.println(response.body());\n    \n    ```\n\n#### 说说synchronize（锁升级机制）\n\n1. 偏向锁 (一个线程拿锁，直接给)\n2. 轻量级锁 （多个线程拿，用CAS自璇）\n3. 重量级锁 （悲观锁）\n\n#### 说说jvm内存模型\n\n#### CMS的阶段（和G1的区别）\n\n##### CMS过程\n\n1. 初始标记：独占PUC，需要STW(Stop the world)，仅标记GCroots能直接关联的对象，速度很快。\n\n2. 并发标记：可以和用户线程并行执行，无需STW，标记所有可达对象\n\n3. 重新标记：独占CPU(STW)，为了修正并发标记期间因用户程序继续运作而导致标记产生变动的那一部分对象的标记记录。这个阶段的停顿时间一般会比初始标记阶段稍长一些，但远比并发标记的时间要短。\n\n4. 并发清理：可以和用户线程并行执行，清理垃圾\n![8](../images/百姓网-1702880543910.png)\n\n##### G1过程\n\n1. 初始标记：独占PUC，需要STW(Stop the world)，仅标记GCroots能直接关联的对象，速度很快。\n2. 并发标记：可以和用户线程并行执行，无需STW，标记所有可达对象\n3. 最终标记：独占CPU(STW)，为了修正并发标记期间因用户程序继续运作而导致标记产生变动的那一部分对象的标记记录。这个阶段的停顿时间一般会比初始标记阶段稍长一些，但远比并发标记的时间要短。\n4. 筛选回收：独占CPU(STW)，根据时间来进行回收，优先回收价值最大的区域\n![6](../images/百姓网-1702880535273.png)\n\n##### G1优势\n\n- 空间整合：\n    - 由于G1使用了独立区域（Region）概念，G1从整体来看是基于“标记-整理”算法实现收集，从局部（两个Region）上来看是基于“复制”算法实现的，但无论如何，这两种算法都意味着G1运作期间不会产生内存空间碎片。\n    -\n    CMS无法处理浮动垃圾：在最后一步并发清理过程中，用户线程执行也会产生垃圾，但是这部分垃圾是在标记之后，所以只有等到下一次gc的时候清理掉，这部分垃圾叫浮动垃圾，因为我边执行清除过程，应用也边产生垃圾。这时需要设置一个百分比来确保程序的可执行，避免CMS运行时，预留的内存无法满足程序的需要。在JDK1.5中，这个百分比为68%，到1.6时，这个参数值提高到了92%。那如果万一有些人说我就要把这个参数值设置100%，那执行的时候内存满了，用户的线程运行不了。这时候会临时启用serial\n    Old （单线程执行，会暂停所有用户的线程）收集器来重新进行老年代的垃圾收集，这样停顿时间就更长了。\n\n#### GO相比于java的优势\n\n#### go-zero框架关于缓存穿透的解决方案\n\n#### 四次挥手的过程\n\n#### 最后一次挥手有一个time-wait，为什么\n\n- 确保最后一个确认报文能够到达（如果B没收到A发送来的确认报文，那么就会重新发送连接释放请求报文，A等待一段时间就是为了处理这种情况的发生）\n- 避免新旧链接混淆。（等待2MSL可以让本连接持续时间内所产生的所有报文都从网络中消失，使得下一个新的连接请求不会出现旧的连接请求报文）\n\n#### 说一说tcp的滑动窗口\n\n`概念：`\n\n1. 窗口大小指的是无需等待确认应答而可以继续发送数据的最大值。上图的窗口大小就是4000个字节（四个段）。\n2. 发送前四个段的时候，不需要等待任何ACK，直接发送；\n3. 收到第一个ACK后，滑动窗口向后移动，继续发送第五个段的数据；依次类推；\n4. 操作系统内核为了维护这个滑动窗口，需要开辟 发送缓冲区 来记录当前还有哪些数据没有应答；只有确认应答过的数据，才能从缓冲区删掉；\n5. 窗口越大，则网络的吞吐率就越高；\n![5](../images/百姓网-1702880519034.png)\n\n##### tcp的流量控制\n\n- 16位窗口大小\n  1. 接收端将自己可以接收的缓冲区大小放入 TCP 首部中的 “窗口大小” 字段，通过ACK端通知发送端；\n  2. 窗口大小字段越大，说明网络的吞吐量越高；\n  3. 接收端一旦发现自己的缓冲区快满了，就会将窗口大小设置成一个更小的值通知给发送端；\n  4. 发送端接受到这个窗口之后，就会减慢自己的发送速度；\n  5. 如果接收端缓冲区满了，就会将窗口置为0；这时发送方不再发送数据，但是需要定期发送一个窗口探测数据段，使接收端把窗口大小告诉发送端。\n\n#### tcp的拥塞控制算法\n\n![10](../images/百姓网-1702881164372.png)\n1. 最初cwnd=1，ssthresh=16，执行慢开始算法，cwnd大小指数增长\n2. cwnd到达慢开始门限ssthresh后，转而执行拥塞避免算法，cwnd线性加一增长\n3. 随着发送速率的增加，若发生超时重传，则将慢开始门限ssthresh减小为当前拥塞窗口的一半、再将拥塞窗口cwnd设置为1，然后执行慢开始-–拥塞避免，重复1、2\n4. 若发送方收到3个重复确认，则表示分组丢失，发送方立刻重传相应分组；然后执行快恢复算法\n5. 将慢开始门限ssthresh和拥塞窗口cwnd重新设置为当前拥塞窗口的一半，然后执行拥塞避免算法\n\n#### 有序数组，原地删除重复的元素最多剩下两个\n- 双指针（好难）\n``` Java\nclass Solution {\n    public int removeDuplicates(int[] nums) {\n        int n = nums.length;\n        if (n <= 2) {\n            return n;\n        }\n        int slow = 2, fast = 2;\n        while (fast < n) {\n            if (nums[slow - 2] != nums[fast]) {\n                nums[slow] = nums[fast];\n                ++slow;\n            }\n            ++fast;\n        }\n        return slow;\n    }\n}\n```\n\n- 计数\n```java\nclass Solution {\n    public int removeDuplicates(int[] nums) {\n        if (nums.length <= 2) {\n            return nums.length;\n        }\n\n        int result = 1;\n        int times = 1;\n\n        for (int i = 1;i < nums.length;++i) {\n            if (nums[i] == nums[i-1]) {\n                times++;\n                if (times <= 2) {\n                    nums[result++] = nums[i];\n                }\n            } else {\n                times=1;\n                nums[result++] = nums[i];\n            }\n        }\n        return result;\n    }\n}\n```\n\n#### chatgpt怎么看","slug":"百姓网","published":1,"updated":"2023-12-19T08:11:35.940Z","_id":"clqc2fb5c000h5spkftmi7w58","layout":"post","photos":[],"link":"","content":"<h4 id=\"sql优化\"><a href=\"#sql优化\" class=\"headerlink\" title=\"sql优化\"></a>sql优化</h4><h4 id=\"最左前缀原则\"><a href=\"#最左前缀原则\" class=\"headerlink\" title=\"最左前缀原则\"></a>最左前缀原则</h4><h4 id=\"为什么最左前缀原则可以优化sql（索引扫描）\"><a href=\"#为什么最左前缀原则可以优化sql（索引扫描）\" class=\"headerlink\" title=\"为什么最左前缀原则可以优化sql（索引扫描）\"></a>为什么最左前缀原则可以优化sql（索引扫描）</h4><h4 id=\"索引失效的场景\"><a href=\"#索引失效的场景\" class=\"headerlink\" title=\"索引失效的场景\"></a>索引失效的场景</h4><h4 id=\"如何保证缓存和数据库的一致性\"><a href=\"#如何保证缓存和数据库的一致性\" class=\"headerlink\" title=\"如何保证缓存和数据库的一致性\"></a>如何保证缓存和数据库的一致性</h4><h5 id=\"缓存和数据库的操作均会成功的前提\"><a href=\"#缓存和数据库的操作均会成功的前提\" class=\"headerlink\" title=\"缓存和数据库的操作均会成功的前提\"></a>缓存和数据库的操作均会成功的前提</h5><ul>\n<li>先更新数据库，后删除缓存</li>\n</ul>\n<p>依旧是 2 个线程并发「读写」数据：</p>\n<ol>\n<li>缓存中 X 不存在（数据库 X &#x3D; 1）</li>\n<li>线程 A 读取数据库，得到旧值（X &#x3D; 1）</li>\n<li>线程 B 更新数据库（X &#x3D; 2)</li>\n<li>线程 B 删除缓存</li>\n<li>线程 A 将旧值写入缓存（X &#x3D; 1）</li>\n<li>最终 X 的值在缓存中是 1（旧值），在数据库中是 2（新值），也发生不一致。</li>\n</ol>\n<p>这种情况「理论」来说是可能发生的，但实际真的有可能发生吗？</p>\n<p>其实概率「很低」，这是因为它必须满足 3 个条件：</p>\n<ol>\n<li>缓存刚好已失效</li>\n<li>读请求 + 写请求并发</li>\n<li>更新数据库 + 删除缓存的时间（步骤 3-4），要比读数据库 + 写缓存时间短（步骤 2 和 5）</li>\n<li>仔细想一下，条件 3 发生的概率其实是非常低的。</li>\n</ol>\n<p>因为写数据库一般会先「加锁」，所以写数据库，通常是要比读数据库的时间更长的。</p>\n<p>这么来看，「先更新数据库 + 再删除缓存」的方案，是可以保证数据一致性的。</p>\n<p>所以，我们应该采用这种方案，来操作数据库和缓存。</p>\n<h5 id=\"缓存和数据库的操作均不保证成功\"><a href=\"#缓存和数据库的操作均不保证成功\" class=\"headerlink\" title=\"缓存和数据库的操作均不保证成功\"></a>缓存和数据库的操作均不保证成功</h5><ul>\n<li>无论是更新缓存还是删除缓存，只要第二步发生失败，那么就会导致数据库和缓存不一致。</li>\n</ul>\n<p><img src=\"/../images/%E7%99%BE%E5%A7%93%E7%BD%91-1702859564018.png\" alt=\"1\"><br><img src=\"/../images/%E7%99%BE%E5%A7%93%E7%BD%91-1702859570812.png\" alt=\"2\"></p>\n<p><code>想要保证数据库和缓存一致性，推荐采用「先更新数据库，再删除缓存」方案，并配合「消息队列」或「订阅变更日志」的方式来做。</code></p>\n<h5 id=\"主从库延迟和延迟双删问题\"><a href=\"#主从库延迟和延迟双删问题\" class=\"headerlink\" title=\"主从库延迟和延迟双删问题\"></a>主从库延迟和延迟双删问题</h5><ul>\n<li>第一个问题，还记得前面讲到的「先删除缓存，再更新数据库」导致不一致的场景么？</li>\n</ul>\n<p>这里我再把例子拿过来让你复习一下：</p>\n<p>2 个线程要并发「读写」数据，可能会发生以下场景：</p>\n<p>线程 A 要更新 X &#x3D; 2（原值 X &#x3D; 1）<br>线程 A 先删除缓存<br>线程 B 读缓存，发现不存在，从数据库中读取到旧值（X &#x3D; 1）<br>线程 A 将新值写入数据库（X &#x3D; 2）<br>线程 B 将旧值写入缓存（X &#x3D; 1）<br>最终 X 的值在缓存中是 1（旧值），在数据库中是 2（新值），发生不一致。</p>\n<ul>\n<li>第二个问题：是关于「读写分离 + 主从复制延迟」情况下，缓存和数据库一致性的问题。</li>\n</ul>\n<p>如果使用「先更新数据库，再删除缓存」方案，其实也发生不一致：</p>\n<p>线程 A 更新主库 X &#x3D; 2（原值 X &#x3D; 1）<br>线程 A 删除缓存<br>线程 B 查询缓存，没有命中，查询「从库」得到旧值（从库 X &#x3D; 1）<br>从库「同步」完成（主从库 X &#x3D; 2）<br>线程 B 将「旧值」写入缓存（X &#x3D; 1）<br>最终 X 的值在缓存中是 1（旧值），在主从库中是 2（新值），也发生不一致。</p>\n<p>看到了么？这 2 个问题的核心在于：缓存都被回种了「旧值」。</p>\n<p>那怎么解决这类问题呢？</p>\n<p>最有效的办法就是，把缓存删掉。</p>\n<p>但是，不能立即删，而是需要「延迟删」，这就是业界给出的方案：缓存延迟双删策略。</p>\n<p>按照延时双删策略，这 2 个问题的解决方案是这样的：</p>\n<ul>\n<li><p>解决第一个问题：在线程 A 删除缓存、更新完数据库之后，先「休眠一会」，再「删除」一次缓存。</p>\n</li>\n<li><p>解决第二个问题：线程 A 可以生成一条「延时消息」，写到消息队列中，消费者延时「删除」缓存。</p>\n</li>\n</ul>\n<p>这两个方案的目的，都是为了把缓存清掉，这样一来，下次就可以从数据库读取到最新值，写入缓存。</p>\n<p><code>写在最后</code>：想让缓存和数据库「强一致」很难，缓存是用来提升性能的，多用来保证CAP中的AP，而数据库是用来保证CAP中的CP的，所以，我们应该根据业务场景，来选择使用缓存还是数据库。<br>做到「强一致」还是得用悲观锁方案。</p>\n<h4 id=\"读写分离、主从集群做性能优化\"><a href=\"#读写分离、主从集群做性能优化\" class=\"headerlink\" title=\"读写分离、主从集群做性能优化\"></a>读写分离、主从集群做性能优化</h4><h4 id=\"水平分表、垂直分表要怎么分\"><a href=\"#水平分表、垂直分表要怎么分\" class=\"headerlink\" title=\"水平分表、垂直分表要怎么分\"></a>水平分表、垂直分表要怎么分</h4><h4 id=\"扑克牌缺一张，迅速找到缺的是哪张（每个牌编号相加，实际值相减得到丢失的）\"><a href=\"#扑克牌缺一张，迅速找到缺的是哪张（每个牌编号相加，实际值相减得到丢失的）\" class=\"headerlink\" title=\"扑克牌缺一张，迅速找到缺的是哪张（每个牌编号相加，实际值相减得到丢失的）\"></a>扑克牌缺一张，迅速找到缺的是哪张（每个牌编号相加，实际值相减得到丢失的）</h4><h4 id=\"实际项目中的sql优化\"><a href=\"#实际项目中的sql优化\" class=\"headerlink\" title=\"实际项目中的sql优化\"></a>实际项目中的sql优化</h4><h4 id=\"是否做过性能测试\"><a href=\"#是否做过性能测试\" class=\"headerlink\" title=\"是否做过性能测试\"></a>是否做过性能测试</h4><h4 id=\"Mysql怎么实现可重复读（MVCC-undo-log版本链）\"><a href=\"#Mysql怎么实现可重复读（MVCC-undo-log版本链）\" class=\"headerlink\" title=\"Mysql怎么实现可重复读（MVCC undo log版本链）\"></a>Mysql怎么实现可重复读（MVCC undo log版本链）</h4><h4 id=\"mysql怎么解决幻读\"><a href=\"#mysql怎么解决幻读\" class=\"headerlink\" title=\"mysql怎么解决幻读\"></a>mysql怎么解决幻读</h4><ul>\n<li>针对快照读（普通 select 语句），是通过 MVCC<br>方式解决了幻读，因为可重复读隔离级别下，事务执行过程中看到的数据，一直跟这个事务启动时看到的数据是一致的，即使中途有其他事务插入了一条数据，是查询不出来这条数据的，所以就很好了避免幻读问题。</li>\n<li>针对当前读（select … for update 等语句），是通过 next-key lock（记录锁+间隙锁）方式解决了幻读，因为当执行 select … for<br>update 语句的时候，会加上 next-key lock，如果有其他事务在 <code>next-key lock 锁范围内(一般是当前sql查询的范围)</code><br>插入了一条记录，那么这个插入语句就会被阻塞，无法成功插入，所以就很好了避免幻读问题。</li>\n</ul>\n<h4 id=\"是否了解过间隙锁\"><a href=\"#是否了解过间隙锁\" class=\"headerlink\" title=\"是否了解过间隙锁\"></a>是否了解过间隙锁</h4><h4 id=\"jdk17和jdk8的区别\"><a href=\"#jdk17和jdk8的区别\" class=\"headerlink\" title=\"jdk17和jdk8的区别\"></a>jdk17和jdk8的区别</h4><ol>\n<li><p>Lambda表达式</p>\n</li>\n<li><p>新增的库</p>\n <figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// JDK8</span></span><br><span class=\"line\"><span class=\"comment\">// 没有Java Flight Recorder库</span></span><br><span class=\"line\"><span class=\"comment\">// 没有ZGC垃圾回收器</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// JDK17</span></span><br><span class=\"line\"><span class=\"comment\">// 使用Java Flight Recorder记录CPU时间</span></span><br><span class=\"line\">JFR.enable();</span><br><span class=\"line\"><span class=\"comment\">// 使用ZGC垃圾回收器</span></span><br><span class=\"line\">System.setProperty(<span class=\"string\">&quot;jdk.garbageCollector&quot;</span>, <span class=\"string\">&quot;Z&quot;</span>);</span><br></pre></td></tr></table></figure></li>\n<li><p>新的集合操作API</p>\n <figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// JDK8</span></span><br><span class=\"line\">List&lt;Integer&gt; list = Arrays.asList(<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>);</span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"variable\">sum</span> <span class=\"operator\">=</span> list.stream().filter(n -&gt; n % <span class=\"number\">2</span> == <span class=\"number\">0</span>).mapToInt(Integer::intValue).sum();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// JDK17</span></span><br><span class=\"line\">List&lt;Integer&gt; list = Arrays.asList(<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>);</span><br><span class=\"line\">List&lt;Integer&gt; evenList = list.stream().filter(n -&gt; n % <span class=\"number\">2</span> == <span class=\"number\">0</span>).toList();</span><br><span class=\"line\">Set&lt;Integer&gt; oddSet = list.stream().filter(n -&gt; n % <span class=\"number\">2</span> != <span class=\"number\">0</span>).toSet();</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n<li><p>改进的Switch语句</p>\n <figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// JDK8</span></span><br><span class=\"line\"><span class=\"type\">String</span> <span class=\"variable\">dayOfWeek</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;MON&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">switch</span> (dayOfWeek) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">&quot;MON&quot;</span>:</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">&quot;TUE&quot;</span>:</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">&quot;WED&quot;</span>:</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">&quot;THU&quot;</span>:</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">&quot;FRI&quot;</span>:</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;Weekday&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">&quot;SAT&quot;</span>:</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">&quot;SUN&quot;</span>:</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;Weekend&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    <span class=\"keyword\">default</span>:</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;Invalid day&quot;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// JDK17</span></span><br><span class=\"line\"><span class=\"type\">String</span> <span class=\"variable\">dayOfWeek</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;MON&quot;</span>;</span><br><span class=\"line\"><span class=\"type\">String</span> <span class=\"variable\">dayType</span> <span class=\"operator\">=</span> <span class=\"keyword\">switch</span> (dayOfWeek) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">&quot;MON&quot;</span>, <span class=\"string\">&quot;TUE&quot;</span>, <span class=\"string\">&quot;WED&quot;</span>, <span class=\"string\">&quot;THU&quot;</span>, <span class=\"string\">&quot;FRI&quot;</span> -&gt; <span class=\"string\">&quot;Weekday&quot;</span>;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">&quot;SAT&quot;</span>, <span class=\"string\">&quot;SUN&quot;</span> -&gt; <span class=\"string\">&quot;Weekend&quot;</span>;</span><br><span class=\"line\">    <span class=\"keyword\">default</span> -&gt; &#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;Invalid day&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">yield</span> <span class=\"string\">&quot;Invalid day&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>新的HTTP Client API</p>\n <figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// JDK8</span></span><br><span class=\"line\"><span class=\"comment\">// 使用第三方HTTP库</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// JDK17</span></span><br><span class=\"line\"><span class=\"type\">HttpClient</span> <span class=\"variable\">client</span> <span class=\"operator\">=</span> HttpClient.newHttpClient();</span><br><span class=\"line\"><span class=\"type\">HttpRequest</span> <span class=\"variable\">request</span> <span class=\"operator\">=</span> HttpRequest.newBuilder()</span><br><span class=\"line\">.uri(URI.create(<span class=\"string\">&quot;https://www.example.com/&quot;</span>))</span><br><span class=\"line\">.build();</span><br><span class=\"line\">HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());</span><br><span class=\"line\">    System.out.println(response.body());</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n</ol>\n<h4 id=\"说说synchronize（锁升级机制）\"><a href=\"#说说synchronize（锁升级机制）\" class=\"headerlink\" title=\"说说synchronize（锁升级机制）\"></a>说说synchronize（锁升级机制）</h4><ol>\n<li>偏向锁 (一个线程拿锁，直接给)</li>\n<li>轻量级锁 （多个线程拿，用CAS自璇）</li>\n<li>重量级锁 （悲观锁）</li>\n</ol>\n<h4 id=\"说说jvm内存模型\"><a href=\"#说说jvm内存模型\" class=\"headerlink\" title=\"说说jvm内存模型\"></a>说说jvm内存模型</h4><h4 id=\"CMS的阶段（和G1的区别）\"><a href=\"#CMS的阶段（和G1的区别）\" class=\"headerlink\" title=\"CMS的阶段（和G1的区别）\"></a>CMS的阶段（和G1的区别）</h4><h5 id=\"CMS过程\"><a href=\"#CMS过程\" class=\"headerlink\" title=\"CMS过程\"></a>CMS过程</h5><ol>\n<li><p>初始标记：独占PUC，需要STW(Stop the world)，仅标记GCroots能直接关联的对象，速度很快。</p>\n</li>\n<li><p>并发标记：可以和用户线程并行执行，无需STW，标记所有可达对象</p>\n</li>\n<li><p>重新标记：独占CPU(STW)，为了修正并发标记期间因用户程序继续运作而导致标记产生变动的那一部分对象的标记记录。这个阶段的停顿时间一般会比初始标记阶段稍长一些，但远比并发标记的时间要短。</p>\n</li>\n<li><p>并发清理：可以和用户线程并行执行，清理垃圾<br><img src=\"/../images/%E7%99%BE%E5%A7%93%E7%BD%91-1702880543910.png\" alt=\"8\"></p>\n</li>\n</ol>\n<h5 id=\"G1过程\"><a href=\"#G1过程\" class=\"headerlink\" title=\"G1过程\"></a>G1过程</h5><ol>\n<li>初始标记：独占PUC，需要STW(Stop the world)，仅标记GCroots能直接关联的对象，速度很快。</li>\n<li>并发标记：可以和用户线程并行执行，无需STW，标记所有可达对象</li>\n<li>最终标记：独占CPU(STW)，为了修正并发标记期间因用户程序继续运作而导致标记产生变动的那一部分对象的标记记录。这个阶段的停顿时间一般会比初始标记阶段稍长一些，但远比并发标记的时间要短。</li>\n<li>筛选回收：独占CPU(STW)，根据时间来进行回收，优先回收价值最大的区域<br><img src=\"/../images/%E7%99%BE%E5%A7%93%E7%BD%91-1702880535273.png\" alt=\"6\"></li>\n</ol>\n<h5 id=\"G1优势\"><a href=\"#G1优势\" class=\"headerlink\" title=\"G1优势\"></a>G1优势</h5><ul>\n<li><h2 id=\"空间整合：-由于G1使用了独立区域（Region）概念，G1从整体来看是基于“标记-整理”算法实现收集，从局部（两个Region）上来看是基于“复制”算法实现的，但无论如何，这两种算法都意味着G1运作期间不会产生内存空间碎片。\"><a href=\"#空间整合：-由于G1使用了独立区域（Region）概念，G1从整体来看是基于“标记-整理”算法实现收集，从局部（两个Region）上来看是基于“复制”算法实现的，但无论如何，这两种算法都意味着G1运作期间不会产生内存空间碎片。\" class=\"headerlink\" title=\"空间整合：  - 由于G1使用了独立区域（Region）概念，G1从整体来看是基于“标记-整理”算法实现收集，从局部（两个Region）上来看是基于“复制”算法实现的，但无论如何，这两种算法都意味着G1运作期间不会产生内存空间碎片。\"></a>空间整合：<br>  - 由于G1使用了独立区域（Region）概念，G1从整体来看是基于“标记-整理”算法实现收集，从局部（两个Region）上来看是基于“复制”算法实现的，但无论如何，这两种算法都意味着G1运作期间不会产生内存空间碎片。</h2>  CMS无法处理浮动垃圾：在最后一步并发清理过程中，用户线程执行也会产生垃圾，但是这部分垃圾是在标记之后，所以只有等到下一次gc的时候清理掉，这部分垃圾叫浮动垃圾，因为我边执行清除过程，应用也边产生垃圾。这时需要设置一个百分比来确保程序的可执行，避免CMS运行时，预留的内存无法满足程序的需要。在JDK1.5中，这个百分比为68%，到1.6时，这个参数值提高到了92%。那如果万一有些人说我就要把这个参数值设置100%，那执行的时候内存满了，用户的线程运行不了。这时候会临时启用serial<br>  Old （单线程执行，会暂停所有用户的线程）收集器来重新进行老年代的垃圾收集，这样停顿时间就更长了。</li>\n</ul>\n<h4 id=\"GO相比于java的优势\"><a href=\"#GO相比于java的优势\" class=\"headerlink\" title=\"GO相比于java的优势\"></a>GO相比于java的优势</h4><h4 id=\"go-zero框架关于缓存穿透的解决方案\"><a href=\"#go-zero框架关于缓存穿透的解决方案\" class=\"headerlink\" title=\"go-zero框架关于缓存穿透的解决方案\"></a>go-zero框架关于缓存穿透的解决方案</h4><h4 id=\"四次挥手的过程\"><a href=\"#四次挥手的过程\" class=\"headerlink\" title=\"四次挥手的过程\"></a>四次挥手的过程</h4><h4 id=\"最后一次挥手有一个time-wait，为什么\"><a href=\"#最后一次挥手有一个time-wait，为什么\" class=\"headerlink\" title=\"最后一次挥手有一个time-wait，为什么\"></a>最后一次挥手有一个time-wait，为什么</h4><ul>\n<li>确保最后一个确认报文能够到达（如果B没收到A发送来的确认报文，那么就会重新发送连接释放请求报文，A等待一段时间就是为了处理这种情况的发生）</li>\n<li>避免新旧链接混淆。（等待2MSL可以让本连接持续时间内所产生的所有报文都从网络中消失，使得下一个新的连接请求不会出现旧的连接请求报文）</li>\n</ul>\n<h4 id=\"说一说tcp的滑动窗口\"><a href=\"#说一说tcp的滑动窗口\" class=\"headerlink\" title=\"说一说tcp的滑动窗口\"></a>说一说tcp的滑动窗口</h4><p><code>概念：</code></p>\n<ol>\n<li>窗口大小指的是无需等待确认应答而可以继续发送数据的最大值。上图的窗口大小就是4000个字节（四个段）。</li>\n<li>发送前四个段的时候，不需要等待任何ACK，直接发送；</li>\n<li>收到第一个ACK后，滑动窗口向后移动，继续发送第五个段的数据；依次类推；</li>\n<li>操作系统内核为了维护这个滑动窗口，需要开辟 发送缓冲区 来记录当前还有哪些数据没有应答；只有确认应答过的数据，才能从缓冲区删掉；</li>\n<li>窗口越大，则网络的吞吐率就越高；<br><img src=\"/../images/%E7%99%BE%E5%A7%93%E7%BD%91-1702880519034.png\" alt=\"5\"></li>\n</ol>\n<h5 id=\"tcp的流量控制\"><a href=\"#tcp的流量控制\" class=\"headerlink\" title=\"tcp的流量控制\"></a>tcp的流量控制</h5><ul>\n<li>16位窗口大小<ol>\n<li>接收端将自己可以接收的缓冲区大小放入 TCP 首部中的 “窗口大小” 字段，通过ACK端通知发送端；</li>\n<li>窗口大小字段越大，说明网络的吞吐量越高；</li>\n<li>接收端一旦发现自己的缓冲区快满了，就会将窗口大小设置成一个更小的值通知给发送端；</li>\n<li>发送端接受到这个窗口之后，就会减慢自己的发送速度；</li>\n<li>如果接收端缓冲区满了，就会将窗口置为0；这时发送方不再发送数据，但是需要定期发送一个窗口探测数据段，使接收端把窗口大小告诉发送端。</li>\n</ol>\n</li>\n</ul>\n<h4 id=\"tcp的拥塞控制算法\"><a href=\"#tcp的拥塞控制算法\" class=\"headerlink\" title=\"tcp的拥塞控制算法\"></a>tcp的拥塞控制算法</h4><p><img src=\"/../images/%E7%99%BE%E5%A7%93%E7%BD%91-1702881164372.png\" alt=\"10\"></p>\n<ol>\n<li>最初cwnd&#x3D;1，ssthresh&#x3D;16，执行慢开始算法，cwnd大小指数增长</li>\n<li>cwnd到达慢开始门限ssthresh后，转而执行拥塞避免算法，cwnd线性加一增长</li>\n<li>随着发送速率的增加，若发生超时重传，则将慢开始门限ssthresh减小为当前拥塞窗口的一半、再将拥塞窗口cwnd设置为1，然后执行慢开始-–拥塞避免，重复1、2</li>\n<li>若发送方收到3个重复确认，则表示分组丢失，发送方立刻重传相应分组；然后执行快恢复算法</li>\n<li>将慢开始门限ssthresh和拥塞窗口cwnd重新设置为当前拥塞窗口的一半，然后执行拥塞避免算法</li>\n</ol>\n<h4 id=\"有序数组，原地删除重复的元素最多剩下两个\"><a href=\"#有序数组，原地删除重复的元素最多剩下两个\" class=\"headerlink\" title=\"有序数组，原地删除重复的元素最多剩下两个\"></a>有序数组，原地删除重复的元素最多剩下两个</h4><ul>\n<li><p>双指针（好难）</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">removeDuplicates</span><span class=\"params\">(<span class=\"type\">int</span>[] nums)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> nums.length;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (n &lt;= <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> n;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">slow</span> <span class=\"operator\">=</span> <span class=\"number\">2</span>, fast = <span class=\"number\">2</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (fast &lt; n) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (nums[slow - <span class=\"number\">2</span>] != nums[fast]) &#123;</span><br><span class=\"line\">                nums[slow] = nums[fast];</span><br><span class=\"line\">                ++slow;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            ++fast;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> slow;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>计数</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">removeDuplicates</span><span class=\"params\">(<span class=\"type\">int</span>[] nums)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (nums.length &lt;= <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> nums.length;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">result</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">times</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;i &lt; nums.length;++i) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (nums[i] == nums[i-<span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">                times++;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (times &lt;= <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">                    nums[result++] = nums[i];</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                times=<span class=\"number\">1</span>;</span><br><span class=\"line\">                nums[result++] = nums[i];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"chatgpt怎么看\"><a href=\"#chatgpt怎么看\" class=\"headerlink\" title=\"chatgpt怎么看\"></a>chatgpt怎么看</h4>","site":{"data":{"about":[{"class_name":"关于页","subtitle":"多一点努力，努力多一点✨","avatarImg":"https://avatars.githubusercontent.com/u/106024593?v=4","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🔨 设计开发一条龙"],"right":["专修交互与设计 🤝","脚踏实地行动派 🏃","团队小组发动机 🧱"]},"name":"xingxing","description":"是一名 后端工程师、学生、独立开发者","aboutsiteTips":{"tips":"追求","title1":"源于","title2":"热爱而去 感受","word":["学习","生活","程序","体验"]},"helloAbout":"Hello there!","skillsTips":{"tips":"技能","title":"开启创造力"},"careers":{"tips":"生涯","title":"无限进步","list":[{"desc":"YNU,计算机科学与技术","color":"#357ef5"}]},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://bu.dusays.com/2023/05/01/644f4b037b930.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，昆明市","background":"/img/location.png","backgroundDark":"/img/locationDark.png"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2003,"selfInfoTips2":"云南大学","selfInfoContent2":"计算机科学与技术","selfInfoTips3":"现在职业","selfInfoContent3":"大三学生👨‍🎓"},"maxim":{"maxim_tips":"座右铭","maxim_top":"生活明朗，","maxim_bottom":"万物可爱。"},"buff":{"buff_tips":"特长","buff_top":"脑回路新奇的 酸菜鱼","buff_bottom":"二次元指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"原神","game_uid":"UID: 125766904","game_bg":"https://bu.dusays.com/2023/04/22/64433bf26e25d.webp"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"约定的梦幻岛","href":"https://www.bilibili.com/bangumi/media/md5267750/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/27/647166c44b414.webp"},{"name":"咒术回战","href":"https://www.bilibili.com/bangumi/media/md28229899/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db4398832e.webp"},{"name":"紫罗兰永恒花园","href":"https://www.bilibili.com/bangumi/media/md8892/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db43983d99.webp"},{"name":"鬼灭之刃","href":"https://www.bilibili.com/bangumi/media/md22718131/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/24/646db439856a0.webp"},{"name":"JOJO的奇妙冒险 黄金之风","href":"https://www.bilibili.com/bangumi/media/md135652/?spm_id_from=666.25.b_6d656469615f6d6f64756c65.1","cover":"https://bu.dusays.com/2023/05/30/64760e38d651a.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://bu.dusays.com/2022/12/06/638f5f05ce1f7.jpg","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"许嵩、民谣、华语流行","music_bg":"https://p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg","music_link":"/music"},"reward_list":[{"name":"海阔蓝","amount":8.8,"datatime":"2023-03-28T00:00:00.000Z"},{"name":"LK66","amount":66.6,"datatime":"2023-03-24T00:00:00.000Z"},{"name":"张时貳","amount":6.6,"datatime":"2023-01-22T00:00:00.000Z"},{"name":"ZeroAf","amount":9.9,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"LuckyWangXi","amount":6.6,"datatime":"2022-12-14T00:00:00.000Z"},{"name":"刀中日月长","amount":10,"datatime":"2022-11-16T00:00:00.000Z"},{"name":"鹿啵包","amount":10,"datatime":"2022-11-08T00:00:00.000Z"},{"name":"疾速k","amount":50,"datatime":"2022-09-20T00:00:00.000Z"},{"name":"伴舟先生大霖子","amount":4.03,"datatime":"2022-10-27T00:00:00.000Z","suffix":"贝壳"},{"name":"Magica_0x0","amount":3.36,"datatime":"2022-10-07T00:00:00.000Z","suffix":"贝壳"},{"name":"名字就是要短像这样","amount":3.36,"datatime":"2022-08-25T00:00:00.000Z","suffix":"贝壳"},{"name":"Leviathan520","amount":1.34,"datatime":"2022-08-23T00:00:00.000Z","suffix":"贝壳"},{"name":"托马斯","amount":10,"datatime":"2022-08-19T00:00:00.000Z"},{"name":"哇是猫猫欸","amount":1.34,"datatime":"2022-08-19T00:00:00.000Z","suffix":"贝壳"}]}],"album":[{"class_name":"世界各地夕阳与风景","path_name":"/wordScenery","type":2,"description":"因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。","cover":"https://bu.dusays.com/2023/04/09/64329399d1175.jpg","top_background":"https://bu.dusays.com/2023/06/30/649e546ada7dd.webp","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2022/10/26 01:00:00","content":"湘潭的一角。","address":"湖南湘潭","from":"再吃一口就减肥","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp"]},{"date":"2022-10-25T00:00:00.000Z","content":"洛阳暴雨后的天空。","address":"河南洛阳","from":"紫菜卷","image":["https://bu.dusays.com/2023/04/09/64329399db122.webp","https://bu.dusays.com/2023/04/09/64329399db2e1.webp"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","cover":"https://bu.dusays.com/2023/04/09/64329399cea5a.webp","album_list":[{"date":"2022-10-24T00:00:00.000Z","content":"老妹的画","image":["https://bu.dusays.com/2023/04/09/643293997b92b.jpeg"]}]}],"equipment":[{"class_name":"好物","description":"实物装备推荐","tip":"跟 安知鱼 一起享受科技带来的乐趣","top_background":"https://bu.dusays.com/2023/07/05/64a4c38842b7a.webp","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"MacBook Pro 2021 16 英寸","specification":"M1 Max 64G / 1TB","description":"屏幕显示效果好、色彩准确、对比度强、性能强劲、续航优秀。可以用来开发和设计。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"/posts/571d.html"},{"name":"iPad 2020","specification":"深空灰 / 128G","description":"事事玩得转，买前生产力，买后爱奇艺。","image":"https://bu.dusays.com/2023/07/05/64a4c3b191e2e.png","link":"https://www.apple.com.cn/ipad-10.2/"},{"name":"iPhone 12 mini","specification":"绿色 / 128G","description":"超瓷晶面板，玻璃背板搭配铝金属边框，曲线优美的圆角设计，mini大小正好一只手就抓住，深得我心，唯一缺点大概就是续航不够。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/iphone-12/specs/"},{"name":"AirPods（第三代）","specification":"标准版","description":"第三代对比第二代提升很大，和我一样不喜欢入耳式耳机的可以入，空间音频等功能确实新颖，第一次使用有被惊艳到。","image":"https://bu.dusays.com/2023/07/05/64a4c3ded6319.webp","link":"https://www.apple.com.cn/airpods-3rd-generation/"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Apple Watch Series 8","specification":"黑色","description":"始终为我的健康放哨，深夜弹出站立提醒，不过确实有效的提高了我的运动频率，配合apple全家桶还是非常棒的产品，缺点依然是续航。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://www.apple.com.cn/apple-watch-series-8/"},{"name":"NATIONAL GEOGRAPHIC双肩包","specification":"黑色","description":"国家地理黑色大包，正好装下16寸 Macbook Pro，并且背起来很舒适，底部自带防雨罩也好用，各种奇怪的小口袋深得我心。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100011269828.html"},{"name":"NATIONAL GEOGRAPHIC学生书包🎒","specification":"红白色","description":"国家地理黑色大包，冰冰🧊同款，颜值在线且实用。","image":"https://bu.dusays.com/2023/07/05/64a4c40ab698a.webp","link":"https://item.jd.com/100005889786.html"}]}]}],"essay":[{"title":"即刻短文","subTitle":"xingxing的日常。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"/img/beautifulImg.jpg","essay_list":[{"content":"发现一个免费拿图的网站诶，还是bing好用，垃圾百度！但是好像要翻墙才可以下载原图，不过可以直接复制图片地址，然后用迅雷下载，也是可以的（图片大小翻五倍）。","date":"2023/11/31","image":["/img/essayImg/pixabay.png"],"link":"https://pixabay.com/zh/"},{"content":"寒假实习求职顺利（求神拜佛）","date":"2023/12/2"},{"content":"bilibili给个机会！！！","date":"2023/12/7"},{"content":"许愿oc！！！","date":"2023/12/19"}]}],"link":[{"class_name":"推荐博客","flink_style":"telescopic","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg","color":"vip","tag":"技术"}]},{"class_name":"小伙伴","class_desc":"那些人，那些事","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true}]}],"bangumis":{"wantWatch":[{"title":"百妖谱 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/5424062d0821f89ea549533d8a2c3cfff2076766.png","totalCount":"全12话","id":28230717,"follow":"527.1 万","view":"1.2 亿","danmaku":"47.2 万","coin":"42.5 万","score":9.2,"des":"桃都的灵医桃夭带着小和尚磨牙、第一季收服的小狐妖、桃都老邻居柳公子一起继续第一季的故事，为了寻找失踪的百妖谱而云游四方，在途中遇到应声、化蛇、媪姬、照海四个妖怪，为妖怪治疗各种疑难杂症。..."},{"title":"伍六七之玄武国篇","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/00843865ea13702eccc4efd64c313fd4c8029c6b.jpg","totalCount":"全10话","id":28232253,"follow":"1031.1 万","view":"4.7 亿","danmaku":"186.3 万","coin":"405.6 万","score":9.8,"des":"为了保护小鸡岛居民和这里平静的生活，伍六七和他的伙伴大保和小飞开启了去往玄武国的冒险旅程，去寻找身世的真相和解救小岛的办法，等待他们的又将是更多的未知与奇遇。..."},{"title":"伍六七之暗影宿命","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/6e5c5848ff8943fd6366e943a4f75b98598c50c6.png","totalCount":"全10话","id":28412536,"follow":"1250.4 万","view":"5.1 亿","danmaku":"110.7 万","coin":"410.9 万","score":9.2,"des":"随着伍六七回到玄武国寻找他的身世，亦引起了七大暗影刺客的追捕。然而每一位暗影刺客都带着不同的目的和不同的过去，青凤的阴谋也在此浮出了水面。而此时等待着小鸡岛上的人民，又将是另一个危机，伍六七将如何面对..."}],"watching":[{"title":"灵笼 第二季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cf5f6595ece017215e7d61482f022094479dff37.png","totalCount":"-","id":21123554,"follow":"910.5 万","view":"1586.9 万","danmaku":"7.0 万","coin":"35.1 万","score":"-","des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."},{"title":"灵笼","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/cfab7e0fbdb4786ff4e885d050b7cf37f8829486.png","totalCount":"全16话","id":23432,"follow":"903.9 万","view":"6.1 亿","danmaku":"674.4 万","coin":"677.7 万","score":9.6,"des":"不久的未来，人类的世界早已拥挤不堪，迈向星河、寻找新家园的行动迫在眉捷。正当一切有条不紊的推进之时，月相异动，脚下的大地爆发了长达数十年、剧烈的地质变化，人类在这场浩劫中所剩无几。当天地逐渐恢复平静，..."}],"watched":[{"title":"时光代理人","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/1fe1cd0ec59b790fea83a5726cdc0fa3189c4394.png","totalCount":"全24话","id":28230742,"follow":"879.2 万","view":"5.0 亿","danmaku":"399.9 万","coin":"418.4 万","score":9.7,"des":"为了找到一系列罪案的操纵者，程小时求助于肖力，找寻一切藏匿于暗中的蛛丝马迹。但是拥有未知超能力的凶手在阴影之中，也从没有停止过阴谋的脚步。神秘能力者如影随形，身边伙伴接连遇害，程小时屡次身陷险境。随着..."},{"title":"元龙 第三季","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/b3a9b5975059e074593b9381322ad8c423be7b89.png","totalCount":"全16话","id":28235400,"follow":"620.5 万","view":"1.5 亿","danmaku":"24.0 万","coin":"10.7 万","score":6.8,"des":"王胜于现代世界醒来，一切是如此真实而又如梦似幻。皇城遗女，戴家少主的出现更让局势扑朔迷离。而一场由小搏大的赌局，也让王胜渐渐意识到这不仅仅是他和戴家少主两个人的较量。恰时逢盛宴，天下汇集，王胜不得不再..."},{"title":"三体","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/image/9870f898b8a39bbb8048f34317f8d78a02cc1770.png","totalCount":"全15话","id":4315402,"follow":"690.6 万","view":"6.2 亿","danmaku":"179.3 万","coin":"230.7 万","score":8.2,"des":"无数细线横亘在星空之中，如同一把巨大的刷子。三体星舰队将于400年后抵达。遥远蝴蝶扇动着翅膀，也改变了罗辑的命运，轰然打开的门后是世界中心——面壁计划开启。同时，智子所创建的破壁室内，破壁人一一就位…..."},{"title":"狐妖小红娘","type":"国创","area":"中国大陆","cover":"https://i0.hdslb.com/bfs/bangumi/cbb20ee03e97a9f3ad2e1506a10fd1271f1c584a.jpg","totalCount":"全100话","id":2543,"follow":"691.5 万","view":"8.7 亿","danmaku":"1052.9 万","coin":"259.8 万","score":9.5,"des":"根据古典小说记载，世上有人有妖，妖会与人相恋，妖寿命千年，人的寿命有限，人死了，妖活着。人会投胎转世，但投胎以后不记得上辈子的爱。妖如果痴情的话，就去找狐妖“购买”一项服务，让投胎转世的人回忆起前世的..."}]}}},"cover_type":"img","excerpt":"","more":"<h4 id=\"sql优化\"><a href=\"#sql优化\" class=\"headerlink\" title=\"sql优化\"></a>sql优化</h4><h4 id=\"最左前缀原则\"><a href=\"#最左前缀原则\" class=\"headerlink\" title=\"最左前缀原则\"></a>最左前缀原则</h4><h4 id=\"为什么最左前缀原则可以优化sql（索引扫描）\"><a href=\"#为什么最左前缀原则可以优化sql（索引扫描）\" class=\"headerlink\" title=\"为什么最左前缀原则可以优化sql（索引扫描）\"></a>为什么最左前缀原则可以优化sql（索引扫描）</h4><h4 id=\"索引失效的场景\"><a href=\"#索引失效的场景\" class=\"headerlink\" title=\"索引失效的场景\"></a>索引失效的场景</h4><h4 id=\"如何保证缓存和数据库的一致性\"><a href=\"#如何保证缓存和数据库的一致性\" class=\"headerlink\" title=\"如何保证缓存和数据库的一致性\"></a>如何保证缓存和数据库的一致性</h4><h5 id=\"缓存和数据库的操作均会成功的前提\"><a href=\"#缓存和数据库的操作均会成功的前提\" class=\"headerlink\" title=\"缓存和数据库的操作均会成功的前提\"></a>缓存和数据库的操作均会成功的前提</h5><ul>\n<li>先更新数据库，后删除缓存</li>\n</ul>\n<p>依旧是 2 个线程并发「读写」数据：</p>\n<ol>\n<li>缓存中 X 不存在（数据库 X &#x3D; 1）</li>\n<li>线程 A 读取数据库，得到旧值（X &#x3D; 1）</li>\n<li>线程 B 更新数据库（X &#x3D; 2)</li>\n<li>线程 B 删除缓存</li>\n<li>线程 A 将旧值写入缓存（X &#x3D; 1）</li>\n<li>最终 X 的值在缓存中是 1（旧值），在数据库中是 2（新值），也发生不一致。</li>\n</ol>\n<p>这种情况「理论」来说是可能发生的，但实际真的有可能发生吗？</p>\n<p>其实概率「很低」，这是因为它必须满足 3 个条件：</p>\n<ol>\n<li>缓存刚好已失效</li>\n<li>读请求 + 写请求并发</li>\n<li>更新数据库 + 删除缓存的时间（步骤 3-4），要比读数据库 + 写缓存时间短（步骤 2 和 5）</li>\n<li>仔细想一下，条件 3 发生的概率其实是非常低的。</li>\n</ol>\n<p>因为写数据库一般会先「加锁」，所以写数据库，通常是要比读数据库的时间更长的。</p>\n<p>这么来看，「先更新数据库 + 再删除缓存」的方案，是可以保证数据一致性的。</p>\n<p>所以，我们应该采用这种方案，来操作数据库和缓存。</p>\n<h5 id=\"缓存和数据库的操作均不保证成功\"><a href=\"#缓存和数据库的操作均不保证成功\" class=\"headerlink\" title=\"缓存和数据库的操作均不保证成功\"></a>缓存和数据库的操作均不保证成功</h5><ul>\n<li>无论是更新缓存还是删除缓存，只要第二步发生失败，那么就会导致数据库和缓存不一致。</li>\n</ul>\n<p><img src=\"/../images/%E7%99%BE%E5%A7%93%E7%BD%91-1702859564018.png\" alt=\"1\"><br><img src=\"/../images/%E7%99%BE%E5%A7%93%E7%BD%91-1702859570812.png\" alt=\"2\"></p>\n<p><code>想要保证数据库和缓存一致性，推荐采用「先更新数据库，再删除缓存」方案，并配合「消息队列」或「订阅变更日志」的方式来做。</code></p>\n<h5 id=\"主从库延迟和延迟双删问题\"><a href=\"#主从库延迟和延迟双删问题\" class=\"headerlink\" title=\"主从库延迟和延迟双删问题\"></a>主从库延迟和延迟双删问题</h5><ul>\n<li>第一个问题，还记得前面讲到的「先删除缓存，再更新数据库」导致不一致的场景么？</li>\n</ul>\n<p>这里我再把例子拿过来让你复习一下：</p>\n<p>2 个线程要并发「读写」数据，可能会发生以下场景：</p>\n<p>线程 A 要更新 X &#x3D; 2（原值 X &#x3D; 1）<br>线程 A 先删除缓存<br>线程 B 读缓存，发现不存在，从数据库中读取到旧值（X &#x3D; 1）<br>线程 A 将新值写入数据库（X &#x3D; 2）<br>线程 B 将旧值写入缓存（X &#x3D; 1）<br>最终 X 的值在缓存中是 1（旧值），在数据库中是 2（新值），发生不一致。</p>\n<ul>\n<li>第二个问题：是关于「读写分离 + 主从复制延迟」情况下，缓存和数据库一致性的问题。</li>\n</ul>\n<p>如果使用「先更新数据库，再删除缓存」方案，其实也发生不一致：</p>\n<p>线程 A 更新主库 X &#x3D; 2（原值 X &#x3D; 1）<br>线程 A 删除缓存<br>线程 B 查询缓存，没有命中，查询「从库」得到旧值（从库 X &#x3D; 1）<br>从库「同步」完成（主从库 X &#x3D; 2）<br>线程 B 将「旧值」写入缓存（X &#x3D; 1）<br>最终 X 的值在缓存中是 1（旧值），在主从库中是 2（新值），也发生不一致。</p>\n<p>看到了么？这 2 个问题的核心在于：缓存都被回种了「旧值」。</p>\n<p>那怎么解决这类问题呢？</p>\n<p>最有效的办法就是，把缓存删掉。</p>\n<p>但是，不能立即删，而是需要「延迟删」，这就是业界给出的方案：缓存延迟双删策略。</p>\n<p>按照延时双删策略，这 2 个问题的解决方案是这样的：</p>\n<ul>\n<li><p>解决第一个问题：在线程 A 删除缓存、更新完数据库之后，先「休眠一会」，再「删除」一次缓存。</p>\n</li>\n<li><p>解决第二个问题：线程 A 可以生成一条「延时消息」，写到消息队列中，消费者延时「删除」缓存。</p>\n</li>\n</ul>\n<p>这两个方案的目的，都是为了把缓存清掉，这样一来，下次就可以从数据库读取到最新值，写入缓存。</p>\n<p><code>写在最后</code>：想让缓存和数据库「强一致」很难，缓存是用来提升性能的，多用来保证CAP中的AP，而数据库是用来保证CAP中的CP的，所以，我们应该根据业务场景，来选择使用缓存还是数据库。<br>做到「强一致」还是得用悲观锁方案。</p>\n<h4 id=\"读写分离、主从集群做性能优化\"><a href=\"#读写分离、主从集群做性能优化\" class=\"headerlink\" title=\"读写分离、主从集群做性能优化\"></a>读写分离、主从集群做性能优化</h4><h4 id=\"水平分表、垂直分表要怎么分\"><a href=\"#水平分表、垂直分表要怎么分\" class=\"headerlink\" title=\"水平分表、垂直分表要怎么分\"></a>水平分表、垂直分表要怎么分</h4><h4 id=\"扑克牌缺一张，迅速找到缺的是哪张（每个牌编号相加，实际值相减得到丢失的）\"><a href=\"#扑克牌缺一张，迅速找到缺的是哪张（每个牌编号相加，实际值相减得到丢失的）\" class=\"headerlink\" title=\"扑克牌缺一张，迅速找到缺的是哪张（每个牌编号相加，实际值相减得到丢失的）\"></a>扑克牌缺一张，迅速找到缺的是哪张（每个牌编号相加，实际值相减得到丢失的）</h4><h4 id=\"实际项目中的sql优化\"><a href=\"#实际项目中的sql优化\" class=\"headerlink\" title=\"实际项目中的sql优化\"></a>实际项目中的sql优化</h4><h4 id=\"是否做过性能测试\"><a href=\"#是否做过性能测试\" class=\"headerlink\" title=\"是否做过性能测试\"></a>是否做过性能测试</h4><h4 id=\"Mysql怎么实现可重复读（MVCC-undo-log版本链）\"><a href=\"#Mysql怎么实现可重复读（MVCC-undo-log版本链）\" class=\"headerlink\" title=\"Mysql怎么实现可重复读（MVCC undo log版本链）\"></a>Mysql怎么实现可重复读（MVCC undo log版本链）</h4><h4 id=\"mysql怎么解决幻读\"><a href=\"#mysql怎么解决幻读\" class=\"headerlink\" title=\"mysql怎么解决幻读\"></a>mysql怎么解决幻读</h4><ul>\n<li>针对快照读（普通 select 语句），是通过 MVCC<br>方式解决了幻读，因为可重复读隔离级别下，事务执行过程中看到的数据，一直跟这个事务启动时看到的数据是一致的，即使中途有其他事务插入了一条数据，是查询不出来这条数据的，所以就很好了避免幻读问题。</li>\n<li>针对当前读（select … for update 等语句），是通过 next-key lock（记录锁+间隙锁）方式解决了幻读，因为当执行 select … for<br>update 语句的时候，会加上 next-key lock，如果有其他事务在 <code>next-key lock 锁范围内(一般是当前sql查询的范围)</code><br>插入了一条记录，那么这个插入语句就会被阻塞，无法成功插入，所以就很好了避免幻读问题。</li>\n</ul>\n<h4 id=\"是否了解过间隙锁\"><a href=\"#是否了解过间隙锁\" class=\"headerlink\" title=\"是否了解过间隙锁\"></a>是否了解过间隙锁</h4><h4 id=\"jdk17和jdk8的区别\"><a href=\"#jdk17和jdk8的区别\" class=\"headerlink\" title=\"jdk17和jdk8的区别\"></a>jdk17和jdk8的区别</h4><ol>\n<li><p>Lambda表达式</p>\n</li>\n<li><p>新增的库</p>\n <figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// JDK8</span></span><br><span class=\"line\"><span class=\"comment\">// 没有Java Flight Recorder库</span></span><br><span class=\"line\"><span class=\"comment\">// 没有ZGC垃圾回收器</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// JDK17</span></span><br><span class=\"line\"><span class=\"comment\">// 使用Java Flight Recorder记录CPU时间</span></span><br><span class=\"line\">JFR.enable();</span><br><span class=\"line\"><span class=\"comment\">// 使用ZGC垃圾回收器</span></span><br><span class=\"line\">System.setProperty(<span class=\"string\">&quot;jdk.garbageCollector&quot;</span>, <span class=\"string\">&quot;Z&quot;</span>);</span><br></pre></td></tr></table></figure></li>\n<li><p>新的集合操作API</p>\n <figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// JDK8</span></span><br><span class=\"line\">List&lt;Integer&gt; list = Arrays.asList(<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>);</span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"variable\">sum</span> <span class=\"operator\">=</span> list.stream().filter(n -&gt; n % <span class=\"number\">2</span> == <span class=\"number\">0</span>).mapToInt(Integer::intValue).sum();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// JDK17</span></span><br><span class=\"line\">List&lt;Integer&gt; list = Arrays.asList(<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>);</span><br><span class=\"line\">List&lt;Integer&gt; evenList = list.stream().filter(n -&gt; n % <span class=\"number\">2</span> == <span class=\"number\">0</span>).toList();</span><br><span class=\"line\">Set&lt;Integer&gt; oddSet = list.stream().filter(n -&gt; n % <span class=\"number\">2</span> != <span class=\"number\">0</span>).toSet();</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n<li><p>改进的Switch语句</p>\n <figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// JDK8</span></span><br><span class=\"line\"><span class=\"type\">String</span> <span class=\"variable\">dayOfWeek</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;MON&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">switch</span> (dayOfWeek) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">&quot;MON&quot;</span>:</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">&quot;TUE&quot;</span>:</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">&quot;WED&quot;</span>:</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">&quot;THU&quot;</span>:</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">&quot;FRI&quot;</span>:</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;Weekday&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">&quot;SAT&quot;</span>:</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">&quot;SUN&quot;</span>:</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;Weekend&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    <span class=\"keyword\">default</span>:</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;Invalid day&quot;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// JDK17</span></span><br><span class=\"line\"><span class=\"type\">String</span> <span class=\"variable\">dayOfWeek</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;MON&quot;</span>;</span><br><span class=\"line\"><span class=\"type\">String</span> <span class=\"variable\">dayType</span> <span class=\"operator\">=</span> <span class=\"keyword\">switch</span> (dayOfWeek) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">&quot;MON&quot;</span>, <span class=\"string\">&quot;TUE&quot;</span>, <span class=\"string\">&quot;WED&quot;</span>, <span class=\"string\">&quot;THU&quot;</span>, <span class=\"string\">&quot;FRI&quot;</span> -&gt; <span class=\"string\">&quot;Weekday&quot;</span>;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">&quot;SAT&quot;</span>, <span class=\"string\">&quot;SUN&quot;</span> -&gt; <span class=\"string\">&quot;Weekend&quot;</span>;</span><br><span class=\"line\">    <span class=\"keyword\">default</span> -&gt; &#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;Invalid day&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">yield</span> <span class=\"string\">&quot;Invalid day&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>新的HTTP Client API</p>\n <figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// JDK8</span></span><br><span class=\"line\"><span class=\"comment\">// 使用第三方HTTP库</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// JDK17</span></span><br><span class=\"line\"><span class=\"type\">HttpClient</span> <span class=\"variable\">client</span> <span class=\"operator\">=</span> HttpClient.newHttpClient();</span><br><span class=\"line\"><span class=\"type\">HttpRequest</span> <span class=\"variable\">request</span> <span class=\"operator\">=</span> HttpRequest.newBuilder()</span><br><span class=\"line\">.uri(URI.create(<span class=\"string\">&quot;https://www.example.com/&quot;</span>))</span><br><span class=\"line\">.build();</span><br><span class=\"line\">HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());</span><br><span class=\"line\">    System.out.println(response.body());</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n</ol>\n<h4 id=\"说说synchronize（锁升级机制）\"><a href=\"#说说synchronize（锁升级机制）\" class=\"headerlink\" title=\"说说synchronize（锁升级机制）\"></a>说说synchronize（锁升级机制）</h4><ol>\n<li>偏向锁 (一个线程拿锁，直接给)</li>\n<li>轻量级锁 （多个线程拿，用CAS自璇）</li>\n<li>重量级锁 （悲观锁）</li>\n</ol>\n<h4 id=\"说说jvm内存模型\"><a href=\"#说说jvm内存模型\" class=\"headerlink\" title=\"说说jvm内存模型\"></a>说说jvm内存模型</h4><h4 id=\"CMS的阶段（和G1的区别）\"><a href=\"#CMS的阶段（和G1的区别）\" class=\"headerlink\" title=\"CMS的阶段（和G1的区别）\"></a>CMS的阶段（和G1的区别）</h4><h5 id=\"CMS过程\"><a href=\"#CMS过程\" class=\"headerlink\" title=\"CMS过程\"></a>CMS过程</h5><ol>\n<li><p>初始标记：独占PUC，需要STW(Stop the world)，仅标记GCroots能直接关联的对象，速度很快。</p>\n</li>\n<li><p>并发标记：可以和用户线程并行执行，无需STW，标记所有可达对象</p>\n</li>\n<li><p>重新标记：独占CPU(STW)，为了修正并发标记期间因用户程序继续运作而导致标记产生变动的那一部分对象的标记记录。这个阶段的停顿时间一般会比初始标记阶段稍长一些，但远比并发标记的时间要短。</p>\n</li>\n<li><p>并发清理：可以和用户线程并行执行，清理垃圾<br><img src=\"/../images/%E7%99%BE%E5%A7%93%E7%BD%91-1702880543910.png\" alt=\"8\"></p>\n</li>\n</ol>\n<h5 id=\"G1过程\"><a href=\"#G1过程\" class=\"headerlink\" title=\"G1过程\"></a>G1过程</h5><ol>\n<li>初始标记：独占PUC，需要STW(Stop the world)，仅标记GCroots能直接关联的对象，速度很快。</li>\n<li>并发标记：可以和用户线程并行执行，无需STW，标记所有可达对象</li>\n<li>最终标记：独占CPU(STW)，为了修正并发标记期间因用户程序继续运作而导致标记产生变动的那一部分对象的标记记录。这个阶段的停顿时间一般会比初始标记阶段稍长一些，但远比并发标记的时间要短。</li>\n<li>筛选回收：独占CPU(STW)，根据时间来进行回收，优先回收价值最大的区域<br><img src=\"/../images/%E7%99%BE%E5%A7%93%E7%BD%91-1702880535273.png\" alt=\"6\"></li>\n</ol>\n<h5 id=\"G1优势\"><a href=\"#G1优势\" class=\"headerlink\" title=\"G1优势\"></a>G1优势</h5><ul>\n<li><h2 id=\"空间整合：-由于G1使用了独立区域（Region）概念，G1从整体来看是基于“标记-整理”算法实现收集，从局部（两个Region）上来看是基于“复制”算法实现的，但无论如何，这两种算法都意味着G1运作期间不会产生内存空间碎片。\"><a href=\"#空间整合：-由于G1使用了独立区域（Region）概念，G1从整体来看是基于“标记-整理”算法实现收集，从局部（两个Region）上来看是基于“复制”算法实现的，但无论如何，这两种算法都意味着G1运作期间不会产生内存空间碎片。\" class=\"headerlink\" title=\"空间整合：  - 由于G1使用了独立区域（Region）概念，G1从整体来看是基于“标记-整理”算法实现收集，从局部（两个Region）上来看是基于“复制”算法实现的，但无论如何，这两种算法都意味着G1运作期间不会产生内存空间碎片。\"></a>空间整合：<br>  - 由于G1使用了独立区域（Region）概念，G1从整体来看是基于“标记-整理”算法实现收集，从局部（两个Region）上来看是基于“复制”算法实现的，但无论如何，这两种算法都意味着G1运作期间不会产生内存空间碎片。</h2>  CMS无法处理浮动垃圾：在最后一步并发清理过程中，用户线程执行也会产生垃圾，但是这部分垃圾是在标记之后，所以只有等到下一次gc的时候清理掉，这部分垃圾叫浮动垃圾，因为我边执行清除过程，应用也边产生垃圾。这时需要设置一个百分比来确保程序的可执行，避免CMS运行时，预留的内存无法满足程序的需要。在JDK1.5中，这个百分比为68%，到1.6时，这个参数值提高到了92%。那如果万一有些人说我就要把这个参数值设置100%，那执行的时候内存满了，用户的线程运行不了。这时候会临时启用serial<br>  Old （单线程执行，会暂停所有用户的线程）收集器来重新进行老年代的垃圾收集，这样停顿时间就更长了。</li>\n</ul>\n<h4 id=\"GO相比于java的优势\"><a href=\"#GO相比于java的优势\" class=\"headerlink\" title=\"GO相比于java的优势\"></a>GO相比于java的优势</h4><h4 id=\"go-zero框架关于缓存穿透的解决方案\"><a href=\"#go-zero框架关于缓存穿透的解决方案\" class=\"headerlink\" title=\"go-zero框架关于缓存穿透的解决方案\"></a>go-zero框架关于缓存穿透的解决方案</h4><h4 id=\"四次挥手的过程\"><a href=\"#四次挥手的过程\" class=\"headerlink\" title=\"四次挥手的过程\"></a>四次挥手的过程</h4><h4 id=\"最后一次挥手有一个time-wait，为什么\"><a href=\"#最后一次挥手有一个time-wait，为什么\" class=\"headerlink\" title=\"最后一次挥手有一个time-wait，为什么\"></a>最后一次挥手有一个time-wait，为什么</h4><ul>\n<li>确保最后一个确认报文能够到达（如果B没收到A发送来的确认报文，那么就会重新发送连接释放请求报文，A等待一段时间就是为了处理这种情况的发生）</li>\n<li>避免新旧链接混淆。（等待2MSL可以让本连接持续时间内所产生的所有报文都从网络中消失，使得下一个新的连接请求不会出现旧的连接请求报文）</li>\n</ul>\n<h4 id=\"说一说tcp的滑动窗口\"><a href=\"#说一说tcp的滑动窗口\" class=\"headerlink\" title=\"说一说tcp的滑动窗口\"></a>说一说tcp的滑动窗口</h4><p><code>概念：</code></p>\n<ol>\n<li>窗口大小指的是无需等待确认应答而可以继续发送数据的最大值。上图的窗口大小就是4000个字节（四个段）。</li>\n<li>发送前四个段的时候，不需要等待任何ACK，直接发送；</li>\n<li>收到第一个ACK后，滑动窗口向后移动，继续发送第五个段的数据；依次类推；</li>\n<li>操作系统内核为了维护这个滑动窗口，需要开辟 发送缓冲区 来记录当前还有哪些数据没有应答；只有确认应答过的数据，才能从缓冲区删掉；</li>\n<li>窗口越大，则网络的吞吐率就越高；<br><img src=\"/../images/%E7%99%BE%E5%A7%93%E7%BD%91-1702880519034.png\" alt=\"5\"></li>\n</ol>\n<h5 id=\"tcp的流量控制\"><a href=\"#tcp的流量控制\" class=\"headerlink\" title=\"tcp的流量控制\"></a>tcp的流量控制</h5><ul>\n<li>16位窗口大小<ol>\n<li>接收端将自己可以接收的缓冲区大小放入 TCP 首部中的 “窗口大小” 字段，通过ACK端通知发送端；</li>\n<li>窗口大小字段越大，说明网络的吞吐量越高；</li>\n<li>接收端一旦发现自己的缓冲区快满了，就会将窗口大小设置成一个更小的值通知给发送端；</li>\n<li>发送端接受到这个窗口之后，就会减慢自己的发送速度；</li>\n<li>如果接收端缓冲区满了，就会将窗口置为0；这时发送方不再发送数据，但是需要定期发送一个窗口探测数据段，使接收端把窗口大小告诉发送端。</li>\n</ol>\n</li>\n</ul>\n<h4 id=\"tcp的拥塞控制算法\"><a href=\"#tcp的拥塞控制算法\" class=\"headerlink\" title=\"tcp的拥塞控制算法\"></a>tcp的拥塞控制算法</h4><p><img src=\"/../images/%E7%99%BE%E5%A7%93%E7%BD%91-1702881164372.png\" alt=\"10\"></p>\n<ol>\n<li>最初cwnd&#x3D;1，ssthresh&#x3D;16，执行慢开始算法，cwnd大小指数增长</li>\n<li>cwnd到达慢开始门限ssthresh后，转而执行拥塞避免算法，cwnd线性加一增长</li>\n<li>随着发送速率的增加，若发生超时重传，则将慢开始门限ssthresh减小为当前拥塞窗口的一半、再将拥塞窗口cwnd设置为1，然后执行慢开始-–拥塞避免，重复1、2</li>\n<li>若发送方收到3个重复确认，则表示分组丢失，发送方立刻重传相应分组；然后执行快恢复算法</li>\n<li>将慢开始门限ssthresh和拥塞窗口cwnd重新设置为当前拥塞窗口的一半，然后执行拥塞避免算法</li>\n</ol>\n<h4 id=\"有序数组，原地删除重复的元素最多剩下两个\"><a href=\"#有序数组，原地删除重复的元素最多剩下两个\" class=\"headerlink\" title=\"有序数组，原地删除重复的元素最多剩下两个\"></a>有序数组，原地删除重复的元素最多剩下两个</h4><ul>\n<li><p>双指针（好难）</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">removeDuplicates</span><span class=\"params\">(<span class=\"type\">int</span>[] nums)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> nums.length;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (n &lt;= <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> n;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">slow</span> <span class=\"operator\">=</span> <span class=\"number\">2</span>, fast = <span class=\"number\">2</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (fast &lt; n) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (nums[slow - <span class=\"number\">2</span>] != nums[fast]) &#123;</span><br><span class=\"line\">                nums[slow] = nums[fast];</span><br><span class=\"line\">                ++slow;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            ++fast;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> slow;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>计数</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">removeDuplicates</span><span class=\"params\">(<span class=\"type\">int</span>[] nums)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (nums.length &lt;= <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> nums.length;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">result</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">times</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;i &lt; nums.length;++i) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (nums[i] == nums[i-<span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">                times++;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (times &lt;= <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">                    nums[result++] = nums[i];</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                times=<span class=\"number\">1</span>;</span><br><span class=\"line\">                nums[result++] = nums[i];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"chatgpt怎么看\"><a href=\"#chatgpt怎么看\" class=\"headerlink\" title=\"chatgpt怎么看\"></a>chatgpt怎么看</h4>"}],"PostAsset":[],"PostCategory":[{"post_id":"clpqoimj000030cpkeicqckp0","category_id":"clpnozddn0000h0pkcfjc3xbn","_id":"clpqoimj3000a0cpk8cb2cksv"},{"post_id":"clpqoimit00000cpk2cvo4qut","category_id":"clpqoimiz00010cpkdevrf590","_id":"clpqoimj4000e0cpkgea54kv1"},{"post_id":"clpqoimj200060cpk6idgh8xf","category_id":"clpnozddn0000h0pkcfjc3xbn","_id":"clpqoimj4000g0cpk32tw5pye"},{"post_id":"clpqo03j200001wpkalr4e34i","category_id":"clpqoimj200070cpkaag2fnhw","_id":"clpqoimj4000h0cpkfvl0fqou"},{"post_id":"clpqoimj100040cpkgmm04u67","category_id":"clpqoimiz00010cpkdevrf590","_id":"clpqpah1z0001rspk3vw5e6pe"},{"post_id":"clpmnlgrn0003qopkeql89g8f","category_id":"clpqpb73s0003rspkgp0ieqvo","_id":"clpqpb73t0004rspkffsuek9g"},{"post_id":"clprqo1q10000tspk1sufch0x","category_id":"clpqpb73s0003rspkgp0ieqvo","_id":"clprqo1re0004tspkfzc6g05v"},{"post_id":"clprqo1qq0001tspk4nbr3zrh","category_id":"clpqoimiz00010cpkdevrf590","_id":"clprqo1re0005tspkfbduens6"},{"post_id":"clprqo1rb0003tspk1cqh7n2x","category_id":"clpqpb73s0003rspkgp0ieqvo","_id":"clprqo1rf0008tspkaidyd22m"},{"post_id":"clprymdjw0000h4pk6las0dif","category_id":"clpqpb73s0003rspkgp0ieqvo","_id":"clprymdkq0004h4pk93vrd2c7"},{"post_id":"clprymdk90001h4pke4hl5jrj","category_id":"clpqoimiz00010cpkdevrf590","_id":"clprymdkr0005h4pkhnzjhi2h"},{"post_id":"clprymdkp0003h4pkajfkdh16","category_id":"clpqpb73s0003rspkgp0ieqvo","_id":"clprymdkr0007h4pkbjxg81vj"},{"post_id":"clprymdky000jh4pk92rm1k9l","category_id":"clpqpb73s0003rspkgp0ieqvo","_id":"clprymdl0000oh4pkdyzffl16"},{"post_id":"clprymdkz000kh4pkcqje1dqo","category_id":"clpqoimiz00010cpkdevrf590","_id":"clprymdl1000qh4pkfwu58v5g"},{"post_id":"clprymdl0000mh4pkfkva0pho","category_id":"clpqoimiz00010cpkdevrf590","_id":"clprymdl1000sh4pkhjgd6emn"},{"post_id":"clpt6ierc000020pk0aac0hrg","category_id":"clpnozddn0000h0pkcfjc3xbn","_id":"clpt6ieri000220pk7gp31ul8"},{"post_id":"clpvcmgww0002mkpk3vlecgc2","category_id":"clpnozddn0000h0pkcfjc3xbn","_id":"clpvcmgwz0007mkpkg6ijg3em"},{"post_id":"clpvcmgwr0000mkpk7xjn1bdj","category_id":"clpqpb73s0003rspkgp0ieqvo","_id":"clpvco2z60001iopk4u6dcvkv"},{"post_id":"clqc2fb5700045spk2l5tdqjq","category_id":"clqc2fb5200025spkccif86nx","_id":"clqc2fb5a00095spkf3s0ht58"},{"post_id":"clqc2fb4v00005spk458y8xg6","category_id":"clqc2fb5200025spkccif86nx","_id":"clqc2fb5b000b5spk9rkmh0rp"},{"post_id":"clqc2fb5000015spkaty6ft2r","category_id":"clqc2fb5200025spkccif86nx","_id":"clqc2fb5b000d5spk7zka8ybv"},{"post_id":"clqc2fb5c000h5spkftmi7w58","category_id":"clqc2fb5200025spkccif86nx","_id":"clqc2fb5d000j5spk1rf44lzd"}],"PostTag":[{"post_id":"clpmnlgrn0003qopkeql89g8f","tag_id":"clpnozddq0001h0pk6tvw5dko","_id":"clpnozddr0002h0pkhkyhg11r"},{"post_id":"clpqoimit00000cpk2cvo4qut","tag_id":"clpqoimj000020cpk4vdqgbi4","_id":"clpqoimj4000b0cpk2tgjhrab"},{"post_id":"clpqoimj200060cpk6idgh8xf","tag_id":"clpnozddq0001h0pk6tvw5dko","_id":"clprr6jda0002w0pkg4xjal81"},{"post_id":"clpqoimj200060cpk6idgh8xf","tag_id":"clprr6jd80000w0pk7y4hemsc","_id":"clprr6jda0003w0pkd1tjcpbh"},{"post_id":"clpqoimj200060cpk6idgh8xf","tag_id":"clprr6jda0001w0pkejc3hfia","_id":"clprr6jda0004w0pk0nf4373q"},{"post_id":"clprqo1rb0003tspk1cqh7n2x","tag_id":"clprrdvxq0000yspk7agr02ei","_id":"clprrdvxs0002yspk5y60cark"},{"post_id":"clprqo1rb0003tspk1cqh7n2x","tag_id":"clprrdvxr0001yspk4c46a181","_id":"clprrdvxs0003yspk7sdg9tot"},{"post_id":"clprqo1qq0001tspk4nbr3zrh","tag_id":"clprrdvxu0004yspkc152fi5i","_id":"clprrdvxv0006yspkgglxdrd8"},{"post_id":"clprqo1qq0001tspk4nbr3zrh","tag_id":"clprrdvxu0005yspkgrzc3fq3","_id":"clprrdvxv0007yspk54h10r1j"},{"post_id":"clprqo1q10000tspk1sufch0x","tag_id":"clprrdvye0008yspk9uof8upz","_id":"clprrdvyf000ayspk006zdt4h"},{"post_id":"clprqo1q10000tspk1sufch0x","tag_id":"clprrdvyf0009yspk7x10g1to","_id":"clprrdvyf000byspk1fgg0uox"},{"post_id":"clpqoimj100040cpkgmm04u67","tag_id":"clpqpah1y0000rspk5tym24c8","_id":"clprrdvyx000dyspk5ynrek8m"},{"post_id":"clpqoimj100040cpkgmm04u67","tag_id":"clprrdvxu0005yspkgrzc3fq3","_id":"clprrdvyx000eyspk4l8n2kju"},{"post_id":"clpqoimj000030cpkeicqckp0","tag_id":"clpnozddq0001h0pk6tvw5dko","_id":"clprrdvz0000fyspkh0gt6cio"},{"post_id":"clpqoimj000030cpkeicqckp0","tag_id":"clprr6jd80000w0pk7y4hemsc","_id":"clprrdvz0000gyspk3zeq7xjl"},{"post_id":"clpqoimj000030cpkeicqckp0","tag_id":"clprr6jda0001w0pkejc3hfia","_id":"clprrdvz0000hyspkdeo1b5gg"},{"post_id":"clpqo03j200001wpkalr4e34i","tag_id":"clpqoimj300080cpk3owkbn49","_id":"clprrf7vj000154pkcoce312e"},{"post_id":"clpqo03j200001wpkalr4e34i","tag_id":"clprrf7vh000054pk06wxftta","_id":"clprrf7vj000254pkgh697seo"},{"post_id":"clprymdjw0000h4pk6las0dif","tag_id":"clprymdkg0002h4pkf6ix1hog","_id":"clprymdks0009h4pk36z52x2x"},{"post_id":"clprymdjw0000h4pk6las0dif","tag_id":"clprymdkr0006h4pk4fredz4l","_id":"clprymdks000ah4pkb90j07jx"},{"post_id":"clprymdk90001h4pke4hl5jrj","tag_id":"clprrdvxu0005yspkgrzc3fq3","_id":"clprymdkt000ch4pkcolc4iwv"},{"post_id":"clprymdk90001h4pke4hl5jrj","tag_id":"clprymdkr0008h4pkf0bjb65k","_id":"clprymdkt000dh4pkf4jmbrjw"},{"post_id":"clprymdkp0003h4pkajfkdh16","tag_id":"clprymdkr0006h4pk4fredz4l","_id":"clprymdku000gh4pkbdcq2q3e"},{"post_id":"clprymdkp0003h4pkajfkdh16","tag_id":"clprymdkt000eh4pkfgka2tf2","_id":"clprymdku000hh4pk8qgzfx2o"},{"post_id":"clprymdkp0003h4pkajfkdh16","tag_id":"clprymdku000fh4pk75gc049j","_id":"clprymdku000ih4pk99en5xkb"},{"post_id":"clprymdkz000kh4pkcqje1dqo","tag_id":"clprymdkg0002h4pkf6ix1hog","_id":"clprymdl0000nh4pk0efk4jsa"},{"post_id":"clprymdkz000kh4pkcqje1dqo","tag_id":"clprymdkr0008h4pkf0bjb65k","_id":"clprymdl0000ph4pk99ak0urb"},{"post_id":"clprymdl0000mh4pkfkva0pho","tag_id":"clprrdvxu0005yspkgrzc3fq3","_id":"clprymdl1000rh4pkaqy5gsig"},{"post_id":"clprymdl0000mh4pkfkva0pho","tag_id":"clpqoimj000020cpk4vdqgbi4","_id":"clprymdl1000th4pkfghkfl37"},{"post_id":"clprymdky000jh4pk92rm1k9l","tag_id":"clprymdkt000eh4pkfgka2tf2","_id":"clprymdl1000uh4pka2ar6xhv"},{"post_id":"clprymdky000jh4pk92rm1k9l","tag_id":"clprymdkr0006h4pk4fredz4l","_id":"clprymdl1000vh4pkdxawhcda"},{"post_id":"clprymdky000jh4pk92rm1k9l","tag_id":"clprymdkz000lh4pk1sktc3eu","_id":"clprymdl1000wh4pkdlo0h16g"},{"post_id":"clpt6ierc000020pk0aac0hrg","tag_id":"clpnozddq0001h0pk6tvw5dko","_id":"clpt6ierg000120pk4btf4ilf"},{"post_id":"clpt6ierc000020pk0aac0hrg","tag_id":"clpvcmgwt0001mkpk1w830jb5","_id":"clpvcmgwz0006mkpkdzmt2x02"},{"post_id":"clpvcmgww0002mkpk3vlecgc2","tag_id":"clpvcmgwy0005mkpk77x99c62","_id":"clpvcmgwz0008mkpkektb5fib"},{"post_id":"clpvcmgwr0000mkpk7xjn1bdj","tag_id":"clprrdvxr0001yspk4c46a181","_id":"clpvco2z60000iopkdt72c5ak"},{"post_id":"clpvcmgww0002mkpk3vlecgc2","tag_id":"clprrdvyf0009yspk7x10g1to","_id":"clpw3r5pz0000okpkdspi4r5k"},{"post_id":"clqc2fb4v00005spk458y8xg6","tag_id":"clpnozddq0001h0pk6tvw5dko","_id":"clqc2fb5a00075spk1hay5pbi"},{"post_id":"clqc2fb4v00005spk458y8xg6","tag_id":"clqc2fb5600035spk6gjxhe75","_id":"clqc2fb5a00085spk6em64geg"},{"post_id":"clqc2fb5000015spkaty6ft2r","tag_id":"clpnozddq0001h0pk6tvw5dko","_id":"clqc2fb5b000c5spkfe0kaj7z"},{"post_id":"clqc2fb5000015spkaty6ft2r","tag_id":"clqc2fb5800065spk2tt1b2on","_id":"clqc2fb5b000e5spk4wpl7pig"},{"post_id":"clqc2fb5700045spk2l5tdqjq","tag_id":"clpnozddq0001h0pk6tvw5dko","_id":"clqc2fb5b000f5spkg48n67xg"},{"post_id":"clqc2fb5700045spk2l5tdqjq","tag_id":"clqc2fb5a000a5spk26tsexei","_id":"clqc2fb5b000g5spk5hom9b07"},{"post_id":"clqc2fb5c000h5spkftmi7w58","tag_id":"clpnozddq0001h0pk6tvw5dko","_id":"clqc2fb5d000k5spkdfzoftts"},{"post_id":"clqc2fb5c000h5spkftmi7w58","tag_id":"clqc2fb5d000i5spkhpidfhhh","_id":"clqc2fb5d000l5spkhpkobt8v"}],"Tag":[{"name":"就业","_id":"clpnozddq0001h0pk6tvw5dko"},{"name":"css","_id":"clpqoimj000020cpk4vdqgbi4"},{"name":"docker","_id":"clpqoimj300080cpk3owkbn49"},{"name":"就业，算法","_id":"clpqoo85f0000q4pk4dswa5m5"},{"name":"就业、算法","_id":"clpqooo130002q4pk9dacdbca"},{"name":"umi","_id":"clpqpah1y0000rspk5tym24c8"},{"name":"mysql 面试 就业","_id":"clprqo1r20002tspkev27a5b6"},{"name":"next.js 前端","_id":"clprqo1re0006tspk6gwi3eho"},{"name":"springboot redis","_id":"clprqo1rg0009tspk2k7n0s2y"},{"name":"mysql,面试,就业","_id":"clprqq92h0000ncpk229n7u73"},{"name":"mysql、面试、就业","_id":"clprqr9ee00007spk29og6xgw"},{"name":"next.js, react","_id":"clprr3f730000sspkbrfefoxb"},{"name":"就业, 回溯, 刷题","_id":"clprr3f7s0002sspkaq8v1lsq"},{"name":"docker, 云原生","_id":"clprr3f8n0004sspkblo44n6j"},{"name":"mysql, 面试, 就业","_id":"clprr3f8q0006sspk2631gzpg"},{"name":"就业, 刷题, 回溯","_id":"clprr3f9j0008sspkdpoub3xx"},{"name":"springboot, redis","_id":"clprr3fae000asspkf6h8fjgc"},{"name":"umi, react","_id":"clprr3fag000csspk4ae6fsde"},{"name":"回溯","_id":"clprr6jd80000w0pk7y4hemsc"},{"name":"刷题","_id":"clprr6jda0001w0pkejc3hfia"},{"name":"springboot","_id":"clprrdvxq0000yspk7agr02ei"},{"name":"redis","_id":"clprrdvxr0001yspk4c46a181"},{"name":"next.js","_id":"clprrdvxu0004yspkc152fi5i"},{"name":"react","_id":"clprrdvxu0005yspkgrzc3fq3"},{"name":"mysql","_id":"clprrdvye0008yspk9uof8upz"},{"name":"面试","_id":"clprrdvyf0009yspk7x10g1to"},{"name":"云原生","_id":"clprrf7vh000054pk06wxftta"},{"name":"http","_id":"clprymdkg0002h4pkf6ix1hog"},{"name":"后端","_id":"clprymdkr0006h4pk4fredz4l"},{"name":"前端","_id":"clprymdkr0008h4pkf0bjb65k"},{"name":"springcloud","_id":"clprymdkt000eh4pkfgka2tf2"},{"name":"springsecurity","_id":"clprymdku000fh4pk75gc049j"},{"name":"gateway","_id":"clprymdkz000lh4pk1sktc3eu"},{"name":"背包问题","_id":"clpvcmgwt0001mkpk1w830jb5"},{"name":"sql","_id":"clpvcmgwy0005mkpk77x99c62"},{"name":"面经","_id":"clqc2fb5600035spk6gjxhe75"},{"name":"kafka","_id":"clqc2fb5800065spk2tt1b2on"},{"name":"虚拟内存","_id":"clqc2fb5a000a5spk26tsexei"},{"name":"缓存","_id":"clqc2fb5d000i5spkhpidfhhh"}]}}